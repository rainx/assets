!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(t,e,n){var r=n(4).EventEmitter,i=n(5).spawn,o=n(2),s=o.dirname,a=o.basename,u=n(1);function c(t,e){this.flags=t,this.required=t.indexOf("<")>=0,this.optional=t.indexOf("[")>=0,this.bool=-1===t.indexOf("-no-"),(t=t.split(/[ ,|]+/)).length>1&&!/^[[<]/.test(t[1])&&(this.short=t.shift()),this.long=t.shift(),this.description=e||""}function p(t){this.commands=[],this.options=[],this._execs={},this._allowUnknownOption=!1,this._args=[],this._name=t||""}function h(t,e){var n=Math.max(0,e-t.length);return t+Array(n+1).join(" ")}function l(t,e){e=e||[];for(var n=0;n<e.length;n++)"--help"!==e[n]&&"-h"!==e[n]||(t.outputHelp(),process.exit(0))}function f(t){var e=t.name+(!0===t.variadic?"...":"");return t.required?"<"+e+">":"["+e+"]"}function g(t){try{if(u.statSync(t).isFile())return!0}catch(t){return!1}}n(6).inherits(p,r),(e=t.exports=new p).Command=p,e.Option=c,c.prototype.name=function(){return this.long.replace("--","").replace("no-","")},c.prototype.attributeName=function(){return this.name().split("-").reduce(function(t,e){return t+e[0].toUpperCase()+e.slice(1)})},c.prototype.is=function(t){return this.short===t||this.long===t},p.prototype.command=function(t,e,n){"object"==typeof e&&null!==e&&(n=e,e=null),n=n||{};var r=t.split(/ +/),i=new p(r.shift());return e&&(i.description(e),this.executables=!0,this._execs[i._name]=!0,n.isDefault&&(this.defaultExecutable=i._name)),i._noHelp=!!n.noHelp,this.commands.push(i),i.parseExpectedArgs(r),i.parent=this,e?this:i},p.prototype.arguments=function(t){return this.parseExpectedArgs(t.split(/ +/))},p.prototype.addImplicitHelpCommand=function(){this.command("help [cmd]","display help for [cmd]")},p.prototype.parseExpectedArgs=function(t){if(t.length){var e=this;return t.forEach(function(t){var n={required:!1,name:"",variadic:!1};switch(t[0]){case"<":n.required=!0,n.name=t.slice(1,-1);break;case"[":n.name=t.slice(1,-1)}n.name.length>3&&"..."===n.name.slice(-3)&&(n.variadic=!0,n.name=n.name.slice(0,-3)),n.name&&e._args.push(n)}),this}},p.prototype.action=function(t){var e=this,n=function(n,r){n=n||[],r=r||[];var i=e.parseOptions(r);l(e,i.unknown),i.unknown.length>0&&e.unknownOption(i.unknown[0]),i.args.length&&(n=i.args.concat(n)),e._args.forEach(function(t,r){t.required&&null==n[r]?e.missingArgument(t.name):t.variadic&&(r!==e._args.length-1&&e.variadicArgNotLast(t.name),n[r]=n.splice(r))}),e._args.length?n[e._args.length]=e:n.push(e),t.apply(e,n)},r=this.parent||this,i=r===this?"*":this._name;return r.on("command:"+i,n),this._alias&&r.on("command:"+this._alias,n),this},p.prototype.option=function(t,e,n,r){var i=this,o=new c(t,e),s=o.name(),a=o.attributeName();if("function"!=typeof n)if(n instanceof RegExp){var u=n;n=function(t,e){var n=u.exec(t);return n?n[0]:e}}else r=n,n=null;return(!o.bool||o.optional||o.required)&&(o.bool||(r=!0),void 0!==r&&(i[a]=r,o.defaultValue=r)),this.options.push(o),this.on("option:"+s,function(t){null!==t&&n&&(t=n(t,void 0===i[a]?r:i[a])),"boolean"==typeof i[a]||void 0===i[a]?i[a]=null==t?!!o.bool&&(r||!0):t:null!==t&&(i[a]=t)}),this},p.prototype.allowUnknownOption=function(t){return this._allowUnknownOption=0===arguments.length||t,this},p.prototype.parse=function(t){this.executables&&this.addImplicitHelpCommand(),this.rawArgs=t,this._name=this._name||a(t[1],".js"),this.executables&&t.length<3&&!this.defaultExecutable&&t.push("--help");var e=this.parseOptions(this.normalize(t.slice(2))),n=this.args=e.args,r=this.parseArgs(this.args,e.unknown),i=r.args[0],o=null;return i&&(o=this.commands.filter(function(t){return t.alias()===i})[0]),this._execs[i]&&"function"!=typeof this._execs[i]?this.executeSubCommand(t,n,e.unknown):o?(n[0]=o._name,this.executeSubCommand(t,n,e.unknown)):this.defaultExecutable?(n.unshift(this.defaultExecutable),this.executeSubCommand(t,n,e.unknown)):r},p.prototype.executeSubCommand=function(t,e,n){(e=e.concat(n)).length||this.help(),"help"===e[0]&&1===e.length&&this.help(),"help"===e[0]&&(e[0]=e[1],e[1]="--help");var r,c=t[1],p=a(c,o.extname(c))+"-"+e[0],h=u.lstatSync(c).isSymbolicLink()?u.readlinkSync(c):c;h!==c&&"/"!==h.charAt(0)&&(h=o.join(s(c),h)),r=s(h);var l,f=o.join(r,p),m=!1;g(f+".js")?(p=f+".js",m=!0):g(f+".ts")?(p=f+".ts",m=!0):g(f)&&(p=f),e=e.slice(1),"win32"!==process.platform?m?(e.unshift(p),e=(process.execArgv||[]).concat(e),l=i(process.argv[0],e,{stdio:"inherit",customFds:[0,1,2]})):l=i(p,e,{stdio:"inherit",customFds:[0,1,2]}):(e.unshift(p),l=i(process.execPath,e,{stdio:"inherit"}));["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(function(t){process.on(t,function(){!1===l.killed&&null===l.exitCode&&l.kill(t)})}),l.on("close",process.exit.bind(process)),l.on("error",function(t){"ENOENT"===t.code?console.error("error: %s(1) does not exist, try --help",p):"EACCES"===t.code&&console.error("error: %s(1) not executable. try chmod or run with root",p),process.exit(1)}),this.runningCommand=l},p.prototype.normalize=function(t){for(var e,n,r,i=[],o=0,s=t.length;o<s;++o){if(e=t[o],o>0&&(n=this.optionFor(t[o-1])),"--"===e){i=i.concat(t.slice(o));break}n&&n.required?i.push(e):e.length>1&&"-"===e[0]&&"-"!==e[1]?e.slice(1).split("").forEach(function(t){i.push("-"+t)}):/^--/.test(e)&&~(r=e.indexOf("="))?i.push(e.slice(0,r),e.slice(r+1)):i.push(e)}return i},p.prototype.parseArgs=function(t,e){var n;return t.length?(n=t[0],this.listeners("command:"+n).length?this.emit("command:"+t.shift(),t,e):this.emit("command:*",t)):(l(this,e),e.length>0&&this.unknownOption(e[0]),0===this.commands.length&&0===this._args.filter(function(t){return t.required}).length&&this.emit("command:*")),this},p.prototype.optionFor=function(t){for(var e=0,n=this.options.length;e<n;++e)if(this.options[e].is(t))return this.options[e]},p.prototype.parseOptions=function(t){for(var e,n,r,i=[],o=t.length,s=[],a=0;a<o;++a)if(r=t[a],e)i.push(r);else if("--"!==r)if(n=this.optionFor(r))if(n.required){if(null==(r=t[++a]))return this.optionMissingArgument(n);this.emit("option:"+n.name(),r)}else n.optional?(null==(r=t[a+1])||"-"===r[0]&&"-"!==r?r=null:++a,this.emit("option:"+n.name(),r)):this.emit("option:"+n.name());else r.length>1&&"-"===r[0]?(s.push(r),a+1<t.length&&"-"!==t[a+1][0]&&s.push(t[++a])):i.push(r);else e=!0;return{args:i,unknown:s}},p.prototype.opts=function(){for(var t={},e=this.options.length,n=0;n<e;n++){var r=this.options[n].attributeName();t[r]=r===this._versionOptionName?this._version:this[r]}return t},p.prototype.missingArgument=function(t){console.error("error: missing required argument `%s'",t),process.exit(1)},p.prototype.optionMissingArgument=function(t,e){e?console.error("error: option `%s' argument missing, got `%s'",t.flags,e):console.error("error: option `%s' argument missing",t.flags),process.exit(1)},p.prototype.unknownOption=function(t){this._allowUnknownOption||(console.error("error: unknown option `%s'",t),process.exit(1))},p.prototype.variadicArgNotLast=function(t){console.error("error: variadic arguments must be last `%s'",t),process.exit(1)},p.prototype.version=function(t,e){if(0===arguments.length)return this._version;this._version=t;var n=new c(e=e||"-V, --version","output the version number");return this._versionOptionName=n.long.substr(2)||"version",this.options.push(n),this.on("option:"+this._versionOptionName,function(){process.stdout.write(t+"\n"),process.exit(0)}),this},p.prototype.description=function(t,e){return 0===arguments.length?this._description:(this._description=t,this._argsDescription=e,this)},p.prototype.alias=function(t){var e=this;if(0!==this.commands.length&&(e=this.commands[this.commands.length-1]),0===arguments.length)return e._alias;if(t===e._name)throw new Error("Command alias can't be the same as its name");return e._alias=t,this},p.prototype.usage=function(t){var e=this._args.map(function(t){return f(t)}),n="[options]"+(this.commands.length?" [command]":"")+(this._args.length?" "+e.join(" "):"");return 0===arguments.length?this._usage||n:(this._usage=t,this)},p.prototype.name=function(t){return 0===arguments.length?this._name:(this._name=t,this)},p.prototype.prepareCommands=function(){return this.commands.filter(function(t){return!t._noHelp}).map(function(t){var e=t._args.map(function(t){return f(t)}).join(" ");return[t._name+(t._alias?"|"+t._alias:"")+(t.options.length?" [options]":"")+(e?" "+e:""),t._description]})},p.prototype.largestCommandLength=function(){return this.prepareCommands().reduce(function(t,e){return Math.max(t,e[0].length)},0)},p.prototype.largestOptionLength=function(){var t=[].slice.call(this.options);return t.push({flags:"-h, --help"}),t.reduce(function(t,e){return Math.max(t,e.flags.length)},0)},p.prototype.largestArgLength=function(){return this._args.reduce(function(t,e){return Math.max(t,e.name.length)},0)},p.prototype.padWidth=function(){var t=this.largestOptionLength();return this._argsDescription&&this._args.length&&this.largestArgLength()>t&&(t=this.largestArgLength()),this.commands&&this.commands.length&&this.largestCommandLength()>t&&(t=this.largestCommandLength()),t},p.prototype.optionHelp=function(){var t=this.padWidth();return this.options.map(function(e){return h(e.flags,t)+"  "+e.description+(e.bool&&void 0!==e.defaultValue?" (default: "+JSON.stringify(e.defaultValue)+")":"")}).concat([h("-h, --help",t)+"  output usage information"]).join("\n")},p.prototype.commandHelp=function(){if(!this.commands.length)return"";var t=this.prepareCommands(),e=this.padWidth();return["Commands:",t.map(function(t){var n=t[1]?"  "+t[1]:"";return(n?h(t[0],e):t[0])+n}).join("\n").replace(/^/gm,"  "),""].join("\n")},p.prototype.helpInformation=function(){var t=[];if(this._description){t=[this._description,""];var e=this._argsDescription;if(e&&this._args.length){var n=this.padWidth();t.push("Arguments:"),t.push(""),this._args.forEach(function(r){t.push("  "+h(r.name,n)+"  "+e[r.name])}),t.push("")}}var r=this._name;this._alias&&(r=r+"|"+this._alias);var i=["Usage: "+r+" "+this.usage(),""],o=[],s=this.commandHelp();s&&(o=[s]);var a=["Options:",""+this.optionHelp().replace(/^/gm,"  "),""];return i.concat(t).concat(a).concat(o).join("\n")},p.prototype.outputHelp=function(t){t||(t=function(t){return t}),process.stdout.write(t(this.helpInformation())),this.emit("--help")},p.prototype.help=function(t){this.outputHelp(t),process.exit()}},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("path")},function(t,e,n){t.exports=g,g.Minimatch=m;var r={sep:"/"};try{r=n(2)}catch(t){}var i=g.GLOBSTAR=m.GLOBSTAR={},o=n(7),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",u=a+"*?",c="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",p="(?:(?!(?:\\/|^)\\.).)*?",h="().*{}+?[]^$\\!".split("").reduce(function(t,e){return t[e]=!0,t},{});var l=/\/+/;function f(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach(function(t){n[t]=e[t]}),Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function g(t,e,n){if("string"!=typeof e)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new m(e,n).match(t))}function m(t,e){if(!(this instanceof m))return new m(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==r.sep&&(t=t.split(r.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function d(t,e){if(e||(e=this instanceof m?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:o(t)}g.filter=function(t,e){return e=e||{},function(n,r,i){return g(n,t,e)}},g.defaults=function(t){if(!t||!Object.keys(t).length)return g;var e=g,n=function(n,r,i){return e.minimatch(n,r,f(t,i))};return n.Minimatch=function(n,r){return new e.Minimatch(n,f(t,r))},n},m.defaults=function(t){return t&&Object.keys(t).length?g.defaults(t).Minimatch:m},m.prototype.debug=function(){},m.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(t){return t.split(l)}),this.debug(this.pattern,n),n=n.map(function(t,e,n){return t.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(t){return-1===t.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},m.prototype.parseNegate=function(){var t=this.pattern,e=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,o=t.length;i<o&&"!"===t.charAt(i);i++)e=!e,r++;r&&(this.pattern=t.substr(r));this.negate=e},g.braceExpand=function(t,e){return d(t,e)},m.prototype.braceExpand=d,m.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===t)return i;if(""===t)return"";var r,o="",c=!!n.nocase,p=!1,l=[],f=[],g=!1,m=-1,d=-1,y="."===t.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=this;function x(){if(r){switch(r){case"*":o+=u,c=!0;break;case"?":o+=a,c=!0;break;default:o+="\\"+r}b.debug("clearStateChar %j %j",r,o),r=!1}}for(var _,w=0,j=t.length;w<j&&(_=t.charAt(w));w++)if(this.debug("%s\t%s %s %j",t,w,o,_),p&&h[_])o+="\\"+_,p=!1;else switch(_){case"/":return!1;case"\\":x(),p=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,w,o,_),g){this.debug("  in class"),"!"===_&&w===d+1&&(_="^"),o+=_;continue}b.debug("call clearStateChar %j",r),x(),r=_,n.noext&&x();continue;case"(":if(g){o+="(";continue}if(!r){o+="\\(";continue}l.push({type:r,start:w-1,reStart:o.length,open:s[r].open,close:s[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(g||!l.length){o+="\\)";continue}x(),c=!0;var O=l.pop();o+=O.close,"!"===O.type&&f.push(O),O.reEnd=o.length;continue;case"|":if(g||!l.length||p){o+="\\|",p=!1;continue}x(),o+="|";continue;case"[":if(x(),g){o+="\\"+_;continue}g=!0,d=w,m=o.length,o+=_;continue;case"]":if(w===d+1||!g){o+="\\"+_,p=!1;continue}if(g){var E=t.substring(d+1,w);try{RegExp("["+E+"]")}catch(t){var S=this.parse(E,v);o=o.substr(0,m)+"\\["+S[0]+"\\]",c=c||S[1],g=!1;continue}}c=!0,g=!1,o+=_;continue;default:x(),p?p=!1:!h[_]||"^"===_&&g||(o+="\\"),o+=_}g&&(E=t.substr(d+1),S=this.parse(E,v),o=o.substr(0,m)+"\\["+S[0],c=c||S[1]);for(O=l.pop();O;O=l.pop()){var C=o.slice(O.reStart+O.open.length);this.debug("setting tail",o,O),C=C.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(t,e,n){return n||(n="\\"),e+e+n+"|"}),this.debug("tail=%j\n   %s",C,C,O,o);var A="*"===O.type?u:"?"===O.type?a:"\\"+O.type;c=!0,o=o.slice(0,O.reStart)+A+"\\("+C}x(),p&&(o+="\\\\");var k=!1;switch(o.charAt(0)){case".":case"[":case"(":k=!0}for(var $=f.length-1;$>-1;$--){var R=f[$],L=o.slice(0,R.reStart),M=o.slice(R.reStart,R.reEnd-8),N=o.slice(R.reEnd-8,R.reEnd),F=o.slice(R.reEnd);N+=F;var I=L.split("(").length-1,q=F;for(w=0;w<I;w++)q=q.replace(/\)[+*?]?/,"");var T="";""===(F=q)&&e!==v&&(T="$");var D=L+M+F+T+N;o=D}""!==o&&c&&(o="(?=.)"+o);k&&(o=y+o);if(e===v)return[o,c];if(!c)return t.replace(/\\(.)/g,"$1");var H=n.nocase?"i":"";try{var P=new RegExp("^"+o+"$",H)}catch(t){return new RegExp("$.")}return P._glob=t,P._src=o,P};var v={};g.makeRe=function(t,e){return new m(t,e||{}).makeRe()},m.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?u:e.dot?c:p,r=e.nocase?"i":"",o=t.map(function(t){return t.map(function(t){return t===i?n:"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t._src}).join("\\/")}).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(t){this.regexp=!1}return this.regexp},g.match=function(t,e,n){var r=new m(e,n=n||{});return t=t.filter(function(t){return r.match(t)}),r.options.nonull&&!t.length&&t.push(e),t},m.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var n=this.options;"/"!==r.sep&&(t=t.split(r.sep).join("/"));t=t.split(l),this.debug(this.pattern,"split",t);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=t.length-1;o>=0&&!(i=t[o]);o--);for(o=0;o<s.length;o++){var a=s[o],u=t;n.matchBase&&1===a.length&&(u=[i]);var c=this.matchOne(u,a,e);if(c)return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},m.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,s=0,a=t.length,u=e.length;o<a&&s<u;o++,s++){this.debug("matchOne loop");var c,p=e[s],h=t[o];if(this.debug(e,p,h),!1===p)return!1;if(p===i){this.debug("GLOBSTAR",[e,p,h]);var l=o,f=s+1;if(f===u){for(this.debug("** at the end");o<a;o++)if("."===t[o]||".."===t[o]||!r.dot&&"."===t[o].charAt(0))return!1;return!0}for(;l<a;){var g=t[l];if(this.debug("\nglobstar while",t,l,e,f,g),this.matchOne(t.slice(l),e.slice(f),n))return this.debug("globstar found match!",l,a,g),!0;if("."===g||".."===g||!r.dot&&"."===g.charAt(0)){this.debug("dot detected!",t,l,e,f);break}this.debug("globstar swallow a segment, and continue"),l++}return!(!n||(this.debug("\n>>> no match, partial?",t,l,e,f),l!==a))}if("string"==typeof p?(c=r.nocase?h.toLowerCase()===p.toLowerCase():h===p,this.debug("string match",p,h,c)):(c=h.match(p),this.debug("pattern match",p,h,c)),!c)return!1}if(o===a&&s===u)return!0;if(o===a)return n;if(s===u)return o===a-1&&""===t[o];throw new Error("wtf?")}},function(t,e){t.exports=require("events")},function(t,e){t.exports=require("child_process")},function(t,e){t.exports=require("util")},function(t,e,n){var r=n(8),i=n(9);t.exports=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return function t(e,n){var o=[];var s=i("{","}",e);if(!s||/\$$/.test(s.pre))return[e];var u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body);var c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body);var h=u||c;var d=s.body.indexOf(",")>=0;if(!h&&!d)return s.post.match(/,.*\}/)?(e=s.pre+"{"+s.body+a+s.post,t(e)):[e];var v;if(h)v=s.body.split(/\.\./);else if(1===(v=function t(e){if(!e)return[""];var n=[];var r=i("{","}",e);if(!r)return e.split(",");var o=r.pre;var s=r.body;var a=r.post;var u=o.split(",");u[u.length-1]+="{"+s+"}";var c=t(a);a.length&&(u[u.length-1]+=c.shift(),u.push.apply(u,c));n.push.apply(n,u);return n}(s.body)).length&&1===(v=t(v[0],!1).map(l)).length){var y=s.post.length?t(s.post,!1):[""];return y.map(function(t){return s.pre+v[0]+t})}var b=s.pre;var y=s.post.length?t(s.post,!1):[""];var x;if(h){var _=p(v[0]),w=p(v[1]),j=Math.max(v[0].length,v[1].length),O=3==v.length?Math.abs(p(v[2])):1,E=g,S=w<_;S&&(O*=-1,E=m);var C=v.some(f);x=[];for(var A=_;E(A,w);A+=O){var k;if(c)"\\"===(k=String.fromCharCode(A))&&(k="");else if(k=String(A),C){var $=j-k.length;if($>0){var R=new Array($+1).join("0");k=A<0?"-"+R+k.slice(1):R+k}}x.push(k)}}else x=r(v,function(e){return t(e,!1)});for(var L=0;L<x.length;L++)for(var M=0;M<y.length;M++){var N=b+x[L]+y[M];(!n||h||N)&&o.push(N)}return o}(function(t){return t.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(u).split("\\.").join(c)}(t),!0).map(h)};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",u="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function p(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function h(t){return t.split(o).join("\\").split(s).join("{").split(a).join("}").split(u).join(",").split(c).join(".")}function l(t){return"{"+t+"}"}function f(t){return/^-?0\d/.test(t)}function g(t,e){return t<=e}function m(t,e){return t>=e}},function(t,e){t.exports=function(t,e){for(var r=[],i=0;i<t.length;i++){var o=e(t[i],i);n(o)?r.push.apply(r,o):r.push(o)}return r};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function r(t,e,n){t instanceof RegExp&&(t=i(t,n)),e instanceof RegExp&&(e=i(e,n));var r=o(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function i(t,e){var n=e.match(t);return n?n[0]:null}function o(t,e,n){var r,i,o,s,a,u=n.indexOf(t),c=n.indexOf(e,u+1),p=u;if(u>=0&&c>0){for(r=[],o=n.length;p>=0&&!a;)p==u?(r.push(p),u=n.indexOf(t,p+1)):1==r.length?a=[r.pop(),c]:((i=r.pop())<o&&(o=i,s=c),c=n.indexOf(e,p+1)),p=u<c&&u>=0?u:c;r.length&&(a=[o,s])}return a}t.exports=r,r.range=o},function(t,e,n){"use strict";var r=t.exports={camelback:function(t){var e=r.split(t);return e.shift()+i(e).join("")},camelcase:function(t){return i(r.split(t)).join("")},dash:function(t){return r.split(t).join("-")},underscore:function(t){return r.split(t).join("_")},split:function(t){return(e=t=t.replace(/[^a-z0-9]+/gi," ").replace(/([A-Z0-9]+)([A-Z][a-z])/g,"$1 $2").replace(/([a-z0-9])([A-Z])/g,"$1 $2").toLowerCase(),e.replace(/^\s+|\s+$/g,"")).split(/\s+/);var e}};function i(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].charAt(0).toUpperCase()+t[n].substr(1));return e}},function(t,e,n){"use strict";let r;n.r(e),function(t){t[t.FILE=1]="FILE",t[t.DIRECTORY=2]="DIRECTORY"}(r||(r={}));const i={module:"es6",filetype:"ts",match:"*.+(png|jpg|png|svg|pdf|gif|mov|ico|xml)",assetsPathList:["./assets"],exportReactComponentForSvg:!1};var o=n(1);var s=n(0),a=n(2);var u=n(3);const c=n(10);const p=(t,e,n=i,s=!1)=>{const h=class{static parseDirectory(t,e=i){let n;try{if(!(n=o.lstatSync(t)).isDirectory())return}catch(t){return}return o.readdirSync(t).map(e=>({filename:e,stats:o.lstatSync(a.resolve(t,e))})).filter(({filename:t,stats:n})=>!!n.isDirectory()||!!n.isFile()&&u(t,e.match,{matchBase:!0})).map(({filename:e,stats:n})=>{const i=c.camelback(e),o=/\d/.test(i.substr(0,1))?"num"+i:i;return{type:n.isDirectory()?r.DIRECTORY:r.FILE,filename:e,basedir:t,exportedName:o}})}}.parseDirectory(t,n);if(h){let u="index";const c=class{static generateContentByEnteryList(t,e=i){const n=[],r=[];t.sort((t,e)=>t.type-e.type).forEach(t=>{if(n.push(t.exportedName),"es6"==e.module){if(r.push(`import ${t.exportedName} from './${t.filename}';`),e.exportReactComponentForSvg&&".svg"===a.extname(t.filename).toLowerCase()){const e=`${t.exportedName}Component`;r.push(`import { ReactComponent as ${e} } from './${t.filename}';`),n.push(e)}}else"commonjs"==e.module&&r.push(`const ${t.exportedName} = require('./${t.filename}');`)});const o=r.join("\n");let s;return"es6"===e.module?s=`export default {\n    ${n.join(",\n    ")}\n};`:"commonjs"===e.module&&(s=`module.exports = {\n    ${n.join(",\n    ")}\n};`),[o,"\n",s].join("\n")}}.generateContentByEnteryList(h,n);"ts"===n.filetype?u+=".ts":u+=".js";const l=a.resolve(t,u);o.writeFileSync(l,c),s&&console.log(`Generated ${u} on directory: ${t}`),e&&h.filter(t=>t.type===r.DIRECTORY).forEach(r=>{p(a.resolve(t,r.filename),e,n,s)})}};let h;s.arguments("<direcotry>").option("-m, --module <module>","use which JS module systems: es6/commonjs").option("-v, --verbose","ouput detail message to stdout").option("-t, --filetype <filetype>","which file extionsion to use: ts/js").option("-c, --config <config>","config file to read. default <cwd>/.assetsrc","./assetsrc").option("-a, --match <match>","which files to import. in minimatch format: eg. *.+(png/svg)").option("-r, --svg","whether generate svg react component or not",!1).action(t=>{h=t}).parse(process.argv);let l=i;if(void 0!==s.config)try{o.lstatSync(s.config).isFile()?s.verbose&&(console.log(`Config file founded! load from ${s.config}`),l=class{static loadOptionsFromConfigFile(t){if(!o.lstatSync(t).isFile())return i;const e=o.readFileSync(t,{encoding:"utf-8"});if(!e)return i;try{const t=JSON.parse(e);return{...i,...t}}catch(t){return i}}}.loadOptionsFromConfigFile(s.config)):s.verbose&&console.log("Config file not founded! use default config")}catch(t){s.verbose&&console.log("Config file your provide has some problems, can not load, fallback to use default config")}else s.verbose&&console.log("Config file not founded! use default config");void 0!==h&&(l={...l,assetsPathList:[h]}),s.module&&(l={...l,module:s.module}),s.filetype&&(l={...l,filetype:s.filetype}),s.match&&(l={...l,match:s.match}),s.svg&&(l={...l,exportReactComponentForSvg:s.svg}),s.verbose&&console.log(`Options is: \n${JSON.stringify(l,void 0,2)}`),l.assetsPathList.forEach(t=>{p(t,!0,l,s.verbose)})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvbW1hbmRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcInBhdGhcIiIsIndlYnBhY2s6Ly8vLi4vYXNzZXRzLWNvcmUvbm9kZV9tb2R1bGVzL21pbmltYXRjaC9taW5pbWF0Y2guanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZXZlbnRzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiY2hpbGRfcHJvY2Vzc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcInV0aWxcIiIsIndlYnBhY2s6Ly8vLi4vYXNzZXRzLWNvcmUvbm9kZV9tb2R1bGVzL2JyYWNlLWV4cGFuc2lvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vYXNzZXRzLWNvcmUvbm9kZV9tb2R1bGVzL2NvbmNhdC1tYXAvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL2Fzc2V0cy1jb3JlL25vZGVfbW9kdWxlcy9iYWxhbmNlZC1tYXRjaC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vYXNzZXRzLWNvcmUvbm9kZV9tb2R1bGVzL3Zhcm5hbWUvbGliL3Zhcm5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4uL2Fzc2V0cy1jb3JlL3NyYy90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi4vYXNzZXRzLWNvcmUvc3JjL3BhcnNlci50cyIsIndlYnBhY2s6Ly8vLi4vYXNzZXRzLWNvcmUvc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uLi9hc3NldHMtY29yZS9zcmMvZ2VuZXJhdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi4vYXNzZXRzLWNvcmUvc3JjL2NvbmZpZy50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkV2ZW50RW1pdHRlciIsInNwYXduIiwicGF0aCIsImRpcm5hbWUiLCJiYXNlbmFtZSIsImZzIiwiT3B0aW9uIiwiZmxhZ3MiLCJkZXNjcmlwdGlvbiIsInRoaXMiLCJyZXF1aXJlZCIsImluZGV4T2YiLCJvcHRpb25hbCIsImJvb2wiLCJzcGxpdCIsImxlbmd0aCIsInRlc3QiLCJzaG9ydCIsInNoaWZ0IiwibG9uZyIsIkNvbW1hbmQiLCJjb21tYW5kcyIsIm9wdGlvbnMiLCJfZXhlY3MiLCJfYWxsb3dVbmtub3duT3B0aW9uIiwiX2FyZ3MiLCJfbmFtZSIsInBhZCIsInN0ciIsIndpZHRoIiwibGVuIiwiTWF0aCIsIm1heCIsIkFycmF5Iiwiam9pbiIsIm91dHB1dEhlbHBJZk5lY2Vzc2FyeSIsImNtZCIsIm91dHB1dEhlbHAiLCJwcm9jZXNzIiwiZXhpdCIsImh1bWFuUmVhZGFibGVBcmdOYW1lIiwiYXJnIiwibmFtZU91dHB1dCIsInZhcmlhZGljIiwiZXhpc3RzIiwiZmlsZSIsInN0YXRTeW5jIiwiaXNGaWxlIiwiZSIsImluaGVyaXRzIiwicmVwbGFjZSIsImF0dHJpYnV0ZU5hbWUiLCJyZWR1Y2UiLCJ3b3JkIiwidG9VcHBlckNhc2UiLCJzbGljZSIsImlzIiwiY29tbWFuZCIsImRlc2MiLCJvcHRzIiwiYXJncyIsImV4ZWN1dGFibGVzIiwiaXNEZWZhdWx0IiwiZGVmYXVsdEV4ZWN1dGFibGUiLCJfbm9IZWxwIiwibm9IZWxwIiwicHVzaCIsInBhcnNlRXhwZWN0ZWRBcmdzIiwicGFyZW50IiwiYXJndW1lbnRzIiwiYWRkSW1wbGljaXRIZWxwQ29tbWFuZCIsInNlbGYiLCJmb3JFYWNoIiwiYXJnRGV0YWlscyIsImFjdGlvbiIsImZuIiwibGlzdGVuZXIiLCJ1bmtub3duIiwicGFyc2VkIiwicGFyc2VPcHRpb25zIiwidW5rbm93bk9wdGlvbiIsImNvbmNhdCIsIm1pc3NpbmdBcmd1bWVudCIsInZhcmlhZGljQXJnTm90TGFzdCIsInNwbGljZSIsImFwcGx5Iiwib24iLCJfYWxpYXMiLCJvcHRpb24iLCJkZWZhdWx0VmFsdWUiLCJvbmFtZSIsIlJlZ0V4cCIsInJlZ2V4IiwidmFsIiwiZGVmIiwiZXhlYyIsInVuZGVmaW5lZCIsImFsbG93VW5rbm93bk9wdGlvbiIsInBhcnNlIiwiYXJndiIsInJhd0FyZ3MiLCJub3JtYWxpemUiLCJyZXN1bHQiLCJwYXJzZUFyZ3MiLCJhbGlhc0NvbW1hbmQiLCJmaWx0ZXIiLCJhbGlhcyIsImV4ZWN1dGVTdWJDb21tYW5kIiwidW5zaGlmdCIsImhlbHAiLCJiYXNlRGlyIiwiZiIsImJpbiIsImV4dG5hbWUiLCJsaW5rIiwibHN0YXRTeW5jIiwiaXNTeW1ib2xpY0xpbmsiLCJyZWFkbGlua1N5bmMiLCJjaGFyQXQiLCJwcm9jIiwibG9jYWxCaW4iLCJpc0V4cGxpY2l0SlMiLCJwbGF0Zm9ybSIsImV4ZWNBcmd2Iiwic3RkaW8iLCJjdXN0b21GZHMiLCJleGVjUGF0aCIsInNpZ25hbCIsImtpbGxlZCIsImV4aXRDb2RlIiwia2lsbCIsImVyciIsImNvZGUiLCJjb25zb2xlIiwiZXJyb3IiLCJydW5uaW5nQ29tbWFuZCIsImxhc3RPcHQiLCJpbmRleCIsInJldCIsIm9wdGlvbkZvciIsImxpc3RlbmVycyIsImVtaXQiLCJhIiwibGl0ZXJhbCIsInVua25vd25PcHRpb25zIiwib3B0aW9uTWlzc2luZ0FyZ3VtZW50IiwiX3ZlcnNpb25PcHRpb25OYW1lIiwiX3ZlcnNpb24iLCJmbGFnIiwidmVyc2lvbiIsInZlcnNpb25PcHRpb24iLCJzdWJzdHIiLCJzdGRvdXQiLCJ3cml0ZSIsImFyZ3NEZXNjcmlwdGlvbiIsIl9kZXNjcmlwdGlvbiIsIl9hcmdzRGVzY3JpcHRpb24iLCJFcnJvciIsInVzYWdlIiwibWFwIiwiX3VzYWdlIiwicHJlcGFyZUNvbW1hbmRzIiwibGFyZ2VzdENvbW1hbmRMZW5ndGgiLCJsYXJnZXN0T3B0aW9uTGVuZ3RoIiwibGFyZ2VzdEFyZ0xlbmd0aCIsInBhZFdpZHRoIiwib3B0aW9uSGVscCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb21tYW5kSGVscCIsImhlbHBJbmZvcm1hdGlvbiIsImNtZE5hbWUiLCJjbWRzIiwiY2IiLCJwYXNzdGhydSIsInJlcXVpcmUiLCJtaW5pbWF0Y2giLCJNaW5pbWF0Y2giLCJzZXAiLCJlciIsIkdMT0JTVEFSIiwiZXhwYW5kIiwicGxUeXBlcyIsIiEiLCJvcGVuIiwiY2xvc2UiLCI/IiwiKyIsIioiLCJAIiwicW1hcmsiLCJzdGFyIiwidHdvU3RhckRvdCIsInR3b1N0YXJOb0RvdCIsInJlU3BlY2lhbHMiLCJzZXQiLCJzbGFzaFNwbGl0IiwiZXh0IiwiYiIsImtleXMiLCJrIiwicGF0dGVybiIsIlR5cGVFcnJvciIsIm5vY29tbWVudCIsInRyaW0iLCJtYXRjaCIsInJlZ2V4cCIsIm5lZ2F0ZSIsImNvbW1lbnQiLCJlbXB0eSIsIm1ha2UiLCJicmFjZUV4cGFuZCIsIm5vYnJhY2UiLCJsaXN0IiwiZGVmYXVsdHMiLCJvcmlnIiwiZGVidWciLCJfbWFkZSIsInBhcnNlTmVnYXRlIiwiZ2xvYlNldCIsImdsb2JQYXJ0cyIsInNpIiwibmVnYXRlT2Zmc2V0Iiwibm9uZWdhdGUiLCJpc1N1YiIsIm5vZ2xvYnN0YXIiLCJzdGF0ZUNoYXIiLCJyZSIsImhhc01hZ2ljIiwibm9jYXNlIiwiZXNjYXBpbmciLCJwYXR0ZXJuTGlzdFN0YWNrIiwibmVnYXRpdmVMaXN0cyIsImluQ2xhc3MiLCJyZUNsYXNzU3RhcnQiLCJjbGFzc1N0YXJ0IiwicGF0dGVyblN0YXJ0IiwiZG90IiwiY2xlYXJTdGF0ZUNoYXIiLCJub2V4dCIsInR5cGUiLCJzdGFydCIsInJlU3RhcnQiLCJwbCIsInBvcCIsInJlRW5kIiwiY3MiLCJzdWJzdHJpbmciLCJzcCIsIlNVQlBBUlNFIiwidGFpbCIsIl8iLCIkMSIsIiQyIiwiYWRkUGF0dGVyblN0YXJ0IiwibmwiLCJubEJlZm9yZSIsIm5sRmlyc3QiLCJubExhc3QiLCJubEFmdGVyIiwib3BlblBhcmVuc0JlZm9yZSIsImNsZWFuQWZ0ZXIiLCJkb2xsYXIiLCJuZXdSZSIsInJlZ0V4cCIsIl9nbG9iIiwiX3NyYyIsIm1ha2VSZSIsInR3b1N0YXIiLCJleCIsIm1tIiwibm9udWxsIiwicGFydGlhbCIsImZpbGVuYW1lIiwibWF0Y2hCYXNlIiwiaGl0IiwibWF0Y2hPbmUiLCJmbGlwTmVnYXRlIiwiZmkiLCJwaSIsImZsIiwiZnIiLCJwciIsInN3YWxsb3dlZSIsInRvTG93ZXJDYXNlIiwiY29uY2F0TWFwIiwiYmFsYW5jZWQiLCJpc1RvcCIsImV4cGFuc2lvbnMiLCJwcmUiLCJpc051bWVyaWNTZXF1ZW5jZSIsImJvZHkiLCJpc0FscGhhU2VxdWVuY2UiLCJpc1NlcXVlbmNlIiwiaXNPcHRpb25zIiwicG9zdCIsImVzY0Nsb3NlIiwicGFyc2VDb21tYVBhcnRzIiwicGFydHMiLCJwb3N0UGFydHMiLCJlbWJyYWNlIiwiTiIsIngiLCJudW1lcmljIiwieSIsImluY3IiLCJhYnMiLCJsdGUiLCJyZXZlcnNlIiwiZ3RlIiwic29tZSIsImlzUGFkZGVkIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwibmVlZCIsInoiLCJlbCIsImoiLCJleHBhbnNpb24iLCJlc2NTbGFzaCIsImVzY09wZW4iLCJlc2NDb21tYSIsImVzY1BlcmlvZCIsImVzY2FwZUJyYWNlcyIsInVuZXNjYXBlQnJhY2VzIiwicmFuZG9tIiwicGFyc2VJbnQiLCJjaGFyQ29kZUF0IiwieHMiLCJyZXMiLCJpc0FycmF5IiwidG9TdHJpbmciLCJtYXliZU1hdGNoIiwicmFuZ2UiLCJlbmQiLCJyZWciLCJiZWdzIiwiYmVnIiwibGVmdCIsInJpZ2h0IiwiYWkiLCJiaSIsInZhcm5hbWUiLCJjYW1lbGJhY2siLCJ0aXRsZUNhc2VXb3JkcyIsImNhbWVsY2FzZSIsImRhc2giLCJ1bmRlcnNjb3JlIiwic3RyaW5nIiwicmVzdWx0cyIsIklFbnRyeVR5cGUiLCJkZWZhdWx0QXNzZXRzT3B0aW9ucyIsImZpbGV0eXBlIiwiYXNzZXRzUGF0aExpc3QiLCJleHBvcnRSZWFjdENvbXBvbmVudEZvclN2ZyIsImdlbmVyYXRlSW5kZXhGaWxlRm9yRGlyZWN0b3J5IiwiZGlycGF0aCIsInJlY3Vyc2l2ZSIsInZlcmJvc2UiLCJlbnRyeUxpc3QiLCJbb2JqZWN0IE9iamVjdF0iLCJkaXJTdGF0cyIsImlzRGlyZWN0b3J5Iiwic3RhdHMiLCJyYXdFeHBvcnRlZE5hbWUiLCJleHBvcnRlZE5hbWUiLCJESVJFQ1RPUlkiLCJGSUxFIiwiYmFzZWRpciIsInBhcnNlRGlyZWN0b3J5IiwiaW5kZXhGaWxlbmFtZSIsImluZGV4RmlsZUNvbnRlbnQiLCJzeW1ib2xzVG9FeHBvcnQiLCJpbXBvcnRMaW5lcyIsInNvcnQiLCJlbnRyeSIsImVudHJ5TmV4dCIsInN2Z0NvbXBvbmVudE5hbWUiLCJpbXBvcnRCbG9jayIsImV4cG9ydEJsb2NrIiwiZ2VuZXJhdGVDb250ZW50QnlFbnRlcnlMaXN0IiwiaW5kZXhGaWxlRnVsbFBhdGgiLCJsb2ciLCJkaXJlY3RvcnkiLCJwcm9ncmFtIiwicm9vdERpcmVjb3RyeSIsImNvbmZpZ0ZpbGVOYW1lIiwiY29udGVudCIsImVuY29kaW5nIiwiY29uZmlnT2JqZWN0IiwibG9hZE9wdGlvbnNGcm9tQ29uZmlnRmlsZSIsImFzc2V0c1BhdGgiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdB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NlgsRUFBZ0IsQ0FBRUUsU0FBVSxVQUU1RCxJQUFLRCxFQUNILE9BQU9wQyxFQUdULElBQ0UsTUFBTXNDLEVBQWU5TixLQUFLckUsTUFBTWlTLEdBQ2hDLE1BQU8sSUFDRnBDLEtBQ0FzQyxHQUVMLE1BQU9yVixHQUNQLE9BQU8rUyxLRFdZdUMsMEJBQTBCTixXQUd6Q0EsV0FDRjNQLFFBQVF5UCxJQUFJLCtDQUdoQixNQUFPOVUsR0FDSGdWLFdBQ0YzUCxRQUFReVAsSUFDTixpR0FLRkUsV0FDRjNQLFFBQVF5UCxJQUFJLG9EQUlFOVIsSUFBZCtSLElBQ0Z6VyxFQUFVLElBQ0xBLEVBQ0gyVSxlQUFnQixDQUFDOEIsS0FJakJDLFdBQ0YxVyxFQUFVLElBQ0xBLEVBQ0h2RCxPQUFRaWEsV0FJUkEsYUFDRjFXLEVBQVUsSUFDTEEsRUFDSDBVLFNBQVVnQyxhQUlWQSxVQUNGMVcsRUFBVSxJQUNMQSxFQUNIdUwsTUFBT21MLFVBSVBBLFFBQ0YxVyxFQUFVLElBQ0xBLEVBQ0g0VSwyQkFBNEI4QixRQUk1QkEsV0FDRjNQLFFBQVF5UCxxQkFBcUJ2TixLQUFLQyxVQUFVbEosT0FBUzBFLEVBQVcsTUFHbEUxRSxFQUFRMlUsZUFBZXpSLFFBQVErVCxJQUU3QnBDLEVBQThCb0MsR0FBWSxFQUFNalgsRUFBUzBXIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMSk7XG4iLCIvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoJ2V2ZW50cycpLkV2ZW50RW1pdHRlcjtcbnZhciBzcGF3biA9IHJlcXVpcmUoJ2NoaWxkX3Byb2Nlc3MnKS5zcGF3bjtcbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xudmFyIGRpcm5hbWUgPSBwYXRoLmRpcm5hbWU7XG52YXIgYmFzZW5hbWUgPSBwYXRoLmJhc2VuYW1lO1xudmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcblxuLyoqXG4gKiBJbmhlcml0IGBDb21tYW5kYCBmcm9tIGBFdmVudEVtaXR0ZXIucHJvdG90eXBlYC5cbiAqL1xuXG5yZXF1aXJlKCd1dGlsJykuaW5oZXJpdHMoQ29tbWFuZCwgRXZlbnRFbWl0dGVyKTtcblxuLyoqXG4gKiBFeHBvc2UgdGhlIHJvb3QgY29tbWFuZC5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBuZXcgQ29tbWFuZCgpO1xuXG4vKipcbiAqIEV4cG9zZSBgQ29tbWFuZGAuXG4gKi9cblxuZXhwb3J0cy5Db21tYW5kID0gQ29tbWFuZDtcblxuLyoqXG4gKiBFeHBvc2UgYE9wdGlvbmAuXG4gKi9cblxuZXhwb3J0cy5PcHRpb24gPSBPcHRpb247XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBhIG5ldyBgT3B0aW9uYCB3aXRoIHRoZSBnaXZlbiBgZmxhZ3NgIGFuZCBgZGVzY3JpcHRpb25gLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmbGFnc1xuICogQHBhcmFtIHtTdHJpbmd9IGRlc2NyaXB0aW9uXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIE9wdGlvbihmbGFncywgZGVzY3JpcHRpb24pIHtcbiAgdGhpcy5mbGFncyA9IGZsYWdzO1xuICB0aGlzLnJlcXVpcmVkID0gZmxhZ3MuaW5kZXhPZignPCcpID49IDA7XG4gIHRoaXMub3B0aW9uYWwgPSBmbGFncy5pbmRleE9mKCdbJykgPj0gMDtcbiAgdGhpcy5ib29sID0gZmxhZ3MuaW5kZXhPZignLW5vLScpID09PSAtMTtcbiAgZmxhZ3MgPSBmbGFncy5zcGxpdCgvWyAsfF0rLyk7XG4gIGlmIChmbGFncy5sZW5ndGggPiAxICYmICEvXltbPF0vLnRlc3QoZmxhZ3NbMV0pKSB0aGlzLnNob3J0ID0gZmxhZ3Muc2hpZnQoKTtcbiAgdGhpcy5sb25nID0gZmxhZ3Muc2hpZnQoKTtcbiAgdGhpcy5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uIHx8ICcnO1xufVxuXG4vKipcbiAqIFJldHVybiBvcHRpb24gbmFtZS5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5PcHRpb24ucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubG9uZ1xuICAgIC5yZXBsYWNlKCctLScsICcnKVxuICAgIC5yZXBsYWNlKCduby0nLCAnJyk7XG59O1xuXG4vKipcbiAqIFJldHVybiBvcHRpb24gbmFtZSwgaW4gYSBjYW1lbGNhc2UgZm9ybWF0IHRoYXQgY2FuIGJlIHVzZWRcbiAqIGFzIGEgb2JqZWN0IGF0dHJpYnV0ZSBrZXkuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuT3B0aW9uLnByb3RvdHlwZS5hdHRyaWJ1dGVOYW1lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBjYW1lbGNhc2UodGhpcy5uYW1lKCkpO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBgYXJnYCBtYXRjaGVzIHRoZSBzaG9ydCBvciBsb25nIGZsYWcuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFyZ1xuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk9wdGlvbi5wcm90b3R5cGUuaXMgPSBmdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHRoaXMuc2hvcnQgPT09IGFyZyB8fCB0aGlzLmxvbmcgPT09IGFyZztcbn07XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBhIG5ldyBgQ29tbWFuZGAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gQ29tbWFuZChuYW1lKSB7XG4gIHRoaXMuY29tbWFuZHMgPSBbXTtcbiAgdGhpcy5vcHRpb25zID0gW107XG4gIHRoaXMuX2V4ZWNzID0ge307XG4gIHRoaXMuX2FsbG93VW5rbm93bk9wdGlvbiA9IGZhbHNlO1xuICB0aGlzLl9hcmdzID0gW107XG4gIHRoaXMuX25hbWUgPSBuYW1lIHx8ICcnO1xufVxuXG4vKipcbiAqIEFkZCBjb21tYW5kIGBuYW1lYC5cbiAqXG4gKiBUaGUgYC5hY3Rpb24oKWAgY2FsbGJhY2sgaXMgaW52b2tlZCB3aGVuIHRoZVxuICogY29tbWFuZCBgbmFtZWAgaXMgc3BlY2lmaWVkIHZpYSBfX0FSR1ZfXyxcbiAqIGFuZCB0aGUgcmVtYWluaW5nIGFyZ3VtZW50cyBhcmUgYXBwbGllZCB0byB0aGVcbiAqIGZ1bmN0aW9uIGZvciBhY2Nlc3MuXG4gKlxuICogV2hlbiB0aGUgYG5hbWVgIGlzIFwiKlwiIGFuIHVuLW1hdGNoZWQgY29tbWFuZFxuICogd2lsbCBiZSBwYXNzZWQgYXMgdGhlIGZpcnN0IGFyZywgZm9sbG93ZWQgYnlcbiAqIHRoZSByZXN0IG9mIF9fQVJHVl9fIHJlbWFpbmluZy5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHByb2dyYW1cbiAqICAgICAgICAudmVyc2lvbignMC4wLjEnKVxuICogICAgICAgIC5vcHRpb24oJy1DLCAtLWNoZGlyIDxwYXRoPicsICdjaGFuZ2UgdGhlIHdvcmtpbmcgZGlyZWN0b3J5JylcbiAqICAgICAgICAub3B0aW9uKCctYywgLS1jb25maWcgPHBhdGg+JywgJ3NldCBjb25maWcgcGF0aC4gZGVmYXVsdHMgdG8gLi9kZXBsb3kuY29uZicpXG4gKiAgICAgICAgLm9wdGlvbignLVQsIC0tbm8tdGVzdHMnLCAnaWdub3JlIHRlc3QgaG9vaycpXG4gKlxuICogICAgICBwcm9ncmFtXG4gKiAgICAgICAgLmNvbW1hbmQoJ3NldHVwJylcbiAqICAgICAgICAuZGVzY3JpcHRpb24oJ3J1biByZW1vdGUgc2V0dXAgY29tbWFuZHMnKVxuICogICAgICAgIC5hY3Rpb24oZnVuY3Rpb24oKSB7XG4gKiAgICAgICAgICBjb25zb2xlLmxvZygnc2V0dXAnKTtcbiAqICAgICAgICB9KTtcbiAqXG4gKiAgICAgIHByb2dyYW1cbiAqICAgICAgICAuY29tbWFuZCgnZXhlYyA8Y21kPicpXG4gKiAgICAgICAgLmRlc2NyaXB0aW9uKCdydW4gdGhlIGdpdmVuIHJlbW90ZSBjb21tYW5kJylcbiAqICAgICAgICAuYWN0aW9uKGZ1bmN0aW9uKGNtZCkge1xuICogICAgICAgICAgY29uc29sZS5sb2coJ2V4ZWMgXCIlc1wiJywgY21kKTtcbiAqICAgICAgICB9KTtcbiAqXG4gKiAgICAgIHByb2dyYW1cbiAqICAgICAgICAuY29tbWFuZCgndGVhcmRvd24gPGRpcj4gW290aGVyRGlycy4uLl0nKVxuICogICAgICAgIC5kZXNjcmlwdGlvbigncnVuIHRlYXJkb3duIGNvbW1hbmRzJylcbiAqICAgICAgICAuYWN0aW9uKGZ1bmN0aW9uKGRpciwgb3RoZXJEaXJzKSB7XG4gKiAgICAgICAgICBjb25zb2xlLmxvZygnZGlyIFwiJXNcIicsIGRpcik7XG4gKiAgICAgICAgICBpZiAob3RoZXJEaXJzKSB7XG4gKiAgICAgICAgICAgIG90aGVyRGlycy5mb3JFYWNoKGZ1bmN0aW9uIChvRGlyKSB7XG4gKiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2RpciBcIiVzXCInLCBvRGlyKTtcbiAqICAgICAgICAgICAgfSk7XG4gKiAgICAgICAgICB9XG4gKiAgICAgICAgfSk7XG4gKlxuICogICAgICBwcm9ncmFtXG4gKiAgICAgICAgLmNvbW1hbmQoJyonKVxuICogICAgICAgIC5kZXNjcmlwdGlvbignZGVwbG95IHRoZSBnaXZlbiBlbnYnKVxuICogICAgICAgIC5hY3Rpb24oZnVuY3Rpb24oZW52KSB7XG4gKiAgICAgICAgICBjb25zb2xlLmxvZygnZGVwbG95aW5nIFwiJXNcIicsIGVudik7XG4gKiAgICAgICAgfSk7XG4gKlxuICogICAgICBwcm9ncmFtLnBhcnNlKHByb2Nlc3MuYXJndik7XG4gICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge1N0cmluZ30gW2Rlc2NdIGZvciBnaXQtc3R5bGUgc3ViLWNvbW1hbmRzXG4gKiBAcmV0dXJuIHtDb21tYW5kfSB0aGUgbmV3IGNvbW1hbmRcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUuY29tbWFuZCA9IGZ1bmN0aW9uKG5hbWUsIGRlc2MsIG9wdHMpIHtcbiAgaWYgKHR5cGVvZiBkZXNjID09PSAnb2JqZWN0JyAmJiBkZXNjICE9PSBudWxsKSB7XG4gICAgb3B0cyA9IGRlc2M7XG4gICAgZGVzYyA9IG51bGw7XG4gIH1cbiAgb3B0cyA9IG9wdHMgfHwge307XG4gIHZhciBhcmdzID0gbmFtZS5zcGxpdCgvICsvKTtcbiAgdmFyIGNtZCA9IG5ldyBDb21tYW5kKGFyZ3Muc2hpZnQoKSk7XG5cbiAgaWYgKGRlc2MpIHtcbiAgICBjbWQuZGVzY3JpcHRpb24oZGVzYyk7XG4gICAgdGhpcy5leGVjdXRhYmxlcyA9IHRydWU7XG4gICAgdGhpcy5fZXhlY3NbY21kLl9uYW1lXSA9IHRydWU7XG4gICAgaWYgKG9wdHMuaXNEZWZhdWx0KSB0aGlzLmRlZmF1bHRFeGVjdXRhYmxlID0gY21kLl9uYW1lO1xuICB9XG4gIGNtZC5fbm9IZWxwID0gISFvcHRzLm5vSGVscDtcbiAgdGhpcy5jb21tYW5kcy5wdXNoKGNtZCk7XG4gIGNtZC5wYXJzZUV4cGVjdGVkQXJncyhhcmdzKTtcbiAgY21kLnBhcmVudCA9IHRoaXM7XG5cbiAgaWYgKGRlc2MpIHJldHVybiB0aGlzO1xuICByZXR1cm4gY21kO1xufTtcblxuLyoqXG4gKiBEZWZpbmUgYXJndW1lbnQgc3ludGF4IGZvciB0aGUgdG9wLWxldmVsIGNvbW1hbmQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS5hcmd1bWVudHMgPSBmdW5jdGlvbihkZXNjKSB7XG4gIHJldHVybiB0aGlzLnBhcnNlRXhwZWN0ZWRBcmdzKGRlc2Muc3BsaXQoLyArLykpO1xufTtcblxuLyoqXG4gKiBBZGQgYW4gaW1wbGljaXQgYGhlbHAgW2NtZF1gIHN1YmNvbW1hbmRcbiAqIHdoaWNoIGludm9rZXMgYC0taGVscGAgZm9yIHRoZSBnaXZlbiBjb21tYW5kLlxuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLmFkZEltcGxpY2l0SGVscENvbW1hbmQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5jb21tYW5kKCdoZWxwIFtjbWRdJywgJ2Rpc3BsYXkgaGVscCBmb3IgW2NtZF0nKTtcbn07XG5cbi8qKlxuICogUGFyc2UgZXhwZWN0ZWQgYGFyZ3NgLlxuICpcbiAqIEZvciBleGFtcGxlIGBbXCJbdHlwZV1cIl1gIGJlY29tZXMgYFt7IHJlcXVpcmVkOiBmYWxzZSwgbmFtZTogJ3R5cGUnIH1dYC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzXG4gKiBAcmV0dXJuIHtDb21tYW5kfSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUucGFyc2VFeHBlY3RlZEFyZ3MgPSBmdW5jdGlvbihhcmdzKSB7XG4gIGlmICghYXJncy5sZW5ndGgpIHJldHVybjtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBhcmdzLmZvckVhY2goZnVuY3Rpb24oYXJnKSB7XG4gICAgdmFyIGFyZ0RldGFpbHMgPSB7XG4gICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICBuYW1lOiAnJyxcbiAgICAgIHZhcmlhZGljOiBmYWxzZVxuICAgIH07XG5cbiAgICBzd2l0Y2ggKGFyZ1swXSkge1xuICAgICAgY2FzZSAnPCc6XG4gICAgICAgIGFyZ0RldGFpbHMucmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICBhcmdEZXRhaWxzLm5hbWUgPSBhcmcuc2xpY2UoMSwgLTEpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1snOlxuICAgICAgICBhcmdEZXRhaWxzLm5hbWUgPSBhcmcuc2xpY2UoMSwgLTEpO1xuICAgICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoYXJnRGV0YWlscy5uYW1lLmxlbmd0aCA+IDMgJiYgYXJnRGV0YWlscy5uYW1lLnNsaWNlKC0zKSA9PT0gJy4uLicpIHtcbiAgICAgIGFyZ0RldGFpbHMudmFyaWFkaWMgPSB0cnVlO1xuICAgICAgYXJnRGV0YWlscy5uYW1lID0gYXJnRGV0YWlscy5uYW1lLnNsaWNlKDAsIC0zKTtcbiAgICB9XG4gICAgaWYgKGFyZ0RldGFpbHMubmFtZSkge1xuICAgICAgc2VsZi5fYXJncy5wdXNoKGFyZ0RldGFpbHMpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZWdpc3RlciBjYWxsYmFjayBgZm5gIGZvciB0aGUgY29tbWFuZC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgIHByb2dyYW1cbiAqICAgICAgICAuY29tbWFuZCgnaGVscCcpXG4gKiAgICAgICAgLmRlc2NyaXB0aW9uKCdkaXNwbGF5IHZlcmJvc2UgaGVscCcpXG4gKiAgICAgICAgLmFjdGlvbihmdW5jdGlvbigpIHtcbiAqICAgICAgICAgICAvLyBvdXRwdXQgaGVscCBoZXJlXG4gKiAgICAgICAgfSk7XG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEByZXR1cm4ge0NvbW1hbmR9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS5hY3Rpb24gPSBmdW5jdGlvbihmbikge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKGFyZ3MsIHVua25vd24pIHtcbiAgICAvLyBQYXJzZSBhbnkgc28tZmFyIHVua25vd24gb3B0aW9uc1xuICAgIGFyZ3MgPSBhcmdzIHx8IFtdO1xuICAgIHVua25vd24gPSB1bmtub3duIHx8IFtdO1xuXG4gICAgdmFyIHBhcnNlZCA9IHNlbGYucGFyc2VPcHRpb25zKHVua25vd24pO1xuXG4gICAgLy8gT3V0cHV0IGhlbHAgaWYgbmVjZXNzYXJ5XG4gICAgb3V0cHV0SGVscElmTmVjZXNzYXJ5KHNlbGYsIHBhcnNlZC51bmtub3duKTtcblxuICAgIC8vIElmIHRoZXJlIGFyZSBzdGlsbCBhbnkgdW5rbm93biBvcHRpb25zLCB0aGVuIHdlIHNpbXBseVxuICAgIC8vIGRpZSwgdW5sZXNzIHNvbWVvbmUgYXNrZWQgZm9yIGhlbHAsIGluIHdoaWNoIGNhc2Ugd2UgZ2l2ZSBpdFxuICAgIC8vIHRvIHRoZW0sIGFuZCB0aGVuIHdlIGRpZS5cbiAgICBpZiAocGFyc2VkLnVua25vd24ubGVuZ3RoID4gMCkge1xuICAgICAgc2VsZi51bmtub3duT3B0aW9uKHBhcnNlZC51bmtub3duWzBdKTtcbiAgICB9XG5cbiAgICAvLyBMZWZ0b3ZlciBhcmd1bWVudHMgbmVlZCB0byBiZSBwdXNoZWQgYmFjay4gRml4ZXMgaXNzdWUgIzU2XG4gICAgaWYgKHBhcnNlZC5hcmdzLmxlbmd0aCkgYXJncyA9IHBhcnNlZC5hcmdzLmNvbmNhdChhcmdzKTtcblxuICAgIHNlbGYuX2FyZ3MuZm9yRWFjaChmdW5jdGlvbihhcmcsIGkpIHtcbiAgICAgIGlmIChhcmcucmVxdWlyZWQgJiYgYXJnc1tpXSA9PSBudWxsKSB7XG4gICAgICAgIHNlbGYubWlzc2luZ0FyZ3VtZW50KGFyZy5uYW1lKTtcbiAgICAgIH0gZWxzZSBpZiAoYXJnLnZhcmlhZGljKSB7XG4gICAgICAgIGlmIChpICE9PSBzZWxmLl9hcmdzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBzZWxmLnZhcmlhZGljQXJnTm90TGFzdChhcmcubmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBhcmdzW2ldID0gYXJncy5zcGxpY2UoaSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBBbHdheXMgYXBwZW5kIG91cnNlbHZlcyB0byB0aGUgZW5kIG9mIHRoZSBhcmd1bWVudHMsXG4gICAgLy8gdG8gbWFrZSBzdXJlIHdlIG1hdGNoIHRoZSBudW1iZXIgb2YgYXJndW1lbnRzIHRoZSB1c2VyXG4gICAgLy8gZXhwZWN0c1xuICAgIGlmIChzZWxmLl9hcmdzLmxlbmd0aCkge1xuICAgICAgYXJnc1tzZWxmLl9hcmdzLmxlbmd0aF0gPSBzZWxmO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcmdzLnB1c2goc2VsZik7XG4gICAgfVxuXG4gICAgZm4uYXBwbHkoc2VsZiwgYXJncyk7XG4gIH07XG4gIHZhciBwYXJlbnQgPSB0aGlzLnBhcmVudCB8fCB0aGlzO1xuICB2YXIgbmFtZSA9IHBhcmVudCA9PT0gdGhpcyA/ICcqJyA6IHRoaXMuX25hbWU7XG4gIHBhcmVudC5vbignY29tbWFuZDonICsgbmFtZSwgbGlzdGVuZXIpO1xuICBpZiAodGhpcy5fYWxpYXMpIHBhcmVudC5vbignY29tbWFuZDonICsgdGhpcy5fYWxpYXMsIGxpc3RlbmVyKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIERlZmluZSBvcHRpb24gd2l0aCBgZmxhZ3NgLCBgZGVzY3JpcHRpb25gIGFuZCBvcHRpb25hbFxuICogY29lcmNpb24gYGZuYC5cbiAqXG4gKiBUaGUgYGZsYWdzYCBzdHJpbmcgc2hvdWxkIGNvbnRhaW4gYm90aCB0aGUgc2hvcnQgYW5kIGxvbmcgZmxhZ3MsXG4gKiBzZXBhcmF0ZWQgYnkgY29tbWEsIGEgcGlwZSBvciBzcGFjZS4gVGhlIGZvbGxvd2luZyBhcmUgYWxsIHZhbGlkXG4gKiBhbGwgd2lsbCBvdXRwdXQgdGhpcyB3YXkgd2hlbiBgLS1oZWxwYCBpcyB1c2VkLlxuICpcbiAqICAgIFwiLXAsIC0tcGVwcGVyXCJcbiAqICAgIFwiLXB8LS1wZXBwZXJcIlxuICogICAgXCItcCAtLXBlcHBlclwiXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgIC8vIHNpbXBsZSBib29sZWFuIGRlZmF1bHRpbmcgdG8gZmFsc2VcbiAqICAgICBwcm9ncmFtLm9wdGlvbignLXAsIC0tcGVwcGVyJywgJ2FkZCBwZXBwZXInKTtcbiAqXG4gKiAgICAgLS1wZXBwZXJcbiAqICAgICBwcm9ncmFtLnBlcHBlclxuICogICAgIC8vID0+IEJvb2xlYW5cbiAqXG4gKiAgICAgLy8gc2ltcGxlIGJvb2xlYW4gZGVmYXVsdGluZyB0byB0cnVlXG4gKiAgICAgcHJvZ3JhbS5vcHRpb24oJy1DLCAtLW5vLWNoZWVzZScsICdyZW1vdmUgY2hlZXNlJyk7XG4gKlxuICogICAgIHByb2dyYW0uY2hlZXNlXG4gKiAgICAgLy8gPT4gdHJ1ZVxuICpcbiAqICAgICAtLW5vLWNoZWVzZVxuICogICAgIHByb2dyYW0uY2hlZXNlXG4gKiAgICAgLy8gPT4gZmFsc2VcbiAqXG4gKiAgICAgLy8gcmVxdWlyZWQgYXJndW1lbnRcbiAqICAgICBwcm9ncmFtLm9wdGlvbignLUMsIC0tY2hkaXIgPHBhdGg+JywgJ2NoYW5nZSB0aGUgd29ya2luZyBkaXJlY3RvcnknKTtcbiAqXG4gKiAgICAgLS1jaGRpciAvdG1wXG4gKiAgICAgcHJvZ3JhbS5jaGRpclxuICogICAgIC8vID0+IFwiL3RtcFwiXG4gKlxuICogICAgIC8vIG9wdGlvbmFsIGFyZ3VtZW50XG4gKiAgICAgcHJvZ3JhbS5vcHRpb24oJy1jLCAtLWNoZWVzZSBbdHlwZV0nLCAnYWRkIGNoZWVzZSBbbWFyYmxlXScpO1xuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmbGFnc1xuICogQHBhcmFtIHtTdHJpbmd9IGRlc2NyaXB0aW9uXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufCp9IFtmbl0gb3IgZGVmYXVsdFxuICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXVxuICogQHJldHVybiB7Q29tbWFuZH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLm9wdGlvbiA9IGZ1bmN0aW9uKGZsYWdzLCBkZXNjcmlwdGlvbiwgZm4sIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgb3B0aW9uID0gbmV3IE9wdGlvbihmbGFncywgZGVzY3JpcHRpb24pLFxuICAgIG9uYW1lID0gb3B0aW9uLm5hbWUoKSxcbiAgICBuYW1lID0gb3B0aW9uLmF0dHJpYnV0ZU5hbWUoKTtcblxuICAvLyBkZWZhdWx0IGFzIDNyZCBhcmdcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChmbiBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgdmFyIHJlZ2V4ID0gZm47XG4gICAgICBmbiA9IGZ1bmN0aW9uKHZhbCwgZGVmKSB7XG4gICAgICAgIHZhciBtID0gcmVnZXguZXhlYyh2YWwpO1xuICAgICAgICByZXR1cm4gbSA/IG1bMF0gOiBkZWY7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWZhdWx0VmFsdWUgPSBmbjtcbiAgICAgIGZuID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICAvLyBwcmVhc3NpZ24gZGVmYXVsdCB2YWx1ZSBvbmx5IGZvciAtLW5vLSosIFtvcHRpb25hbF0sIG9yIDxyZXF1aXJlZD5cbiAgaWYgKCFvcHRpb24uYm9vbCB8fCBvcHRpb24ub3B0aW9uYWwgfHwgb3B0aW9uLnJlcXVpcmVkKSB7XG4gICAgLy8gd2hlbiAtLW5vLSogd2UgbWFrZSBzdXJlIGRlZmF1bHQgaXMgdHJ1ZVxuICAgIGlmICghb3B0aW9uLmJvb2wpIGRlZmF1bHRWYWx1ZSA9IHRydWU7XG4gICAgLy8gcHJlYXNzaWduIG9ubHkgaWYgd2UgaGF2ZSBhIGRlZmF1bHRcbiAgICBpZiAoZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHNlbGZbbmFtZV0gPSBkZWZhdWx0VmFsdWU7XG4gICAgICBvcHRpb24uZGVmYXVsdFZhbHVlID0gZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIHJlZ2lzdGVyIHRoZSBvcHRpb25cbiAgdGhpcy5vcHRpb25zLnB1c2gob3B0aW9uKTtcblxuICAvLyB3aGVuIGl0J3MgcGFzc2VkIGFzc2lnbiB0aGUgdmFsdWVcbiAgLy8gYW5kIGNvbmRpdGlvbmFsbHkgaW52b2tlIHRoZSBjYWxsYmFja1xuICB0aGlzLm9uKCdvcHRpb246JyArIG9uYW1lLCBmdW5jdGlvbih2YWwpIHtcbiAgICAvLyBjb2VyY2lvblxuICAgIGlmICh2YWwgIT09IG51bGwgJiYgZm4pIHtcbiAgICAgIHZhbCA9IGZuKHZhbCwgc2VsZltuYW1lXSA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogc2VsZltuYW1lXSk7XG4gICAgfVxuXG4gICAgLy8gdW5hc3NpZ25lZCBvciBib29sXG4gICAgaWYgKHR5cGVvZiBzZWxmW25hbWVdID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIHNlbGZbbmFtZV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBpZiBubyB2YWx1ZSwgYm9vbCB0cnVlLCBhbmQgd2UgaGF2ZSBhIGRlZmF1bHQsIHRoZW4gdXNlIGl0IVxuICAgICAgaWYgKHZhbCA9PSBudWxsKSB7XG4gICAgICAgIHNlbGZbbmFtZV0gPSBvcHRpb24uYm9vbFxuICAgICAgICAgID8gZGVmYXVsdFZhbHVlIHx8IHRydWVcbiAgICAgICAgICA6IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZltuYW1lXSA9IHZhbDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHZhbCAhPT0gbnVsbCkge1xuICAgICAgLy8gcmVhc3NpZ25cbiAgICAgIHNlbGZbbmFtZV0gPSB2YWw7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQWxsb3cgdW5rbm93biBvcHRpb25zIG9uIHRoZSBjb21tYW5kIGxpbmUuXG4gKlxuICogQHBhcmFtIHtCb29sZWFufSBhcmcgaWYgYHRydWVgIG9yIG9taXR0ZWQsIG5vIGVycm9yIHdpbGwgYmUgdGhyb3duXG4gKiBmb3IgdW5rbm93biBvcHRpb25zLlxuICogQGFwaSBwdWJsaWNcbiAqL1xuQ29tbWFuZC5wcm90b3R5cGUuYWxsb3dVbmtub3duT3B0aW9uID0gZnVuY3Rpb24oYXJnKSB7XG4gIHRoaXMuX2FsbG93VW5rbm93bk9wdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDAgfHwgYXJnO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUGFyc2UgYGFyZ3ZgLCBzZXR0aW5ncyBvcHRpb25zIGFuZCBpbnZva2luZyBjb21tYW5kcyB3aGVuIGRlZmluZWQuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJndlxuICogQHJldHVybiB7Q29tbWFuZH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oYXJndikge1xuICAvLyBpbXBsaWNpdCBoZWxwXG4gIGlmICh0aGlzLmV4ZWN1dGFibGVzKSB0aGlzLmFkZEltcGxpY2l0SGVscENvbW1hbmQoKTtcblxuICAvLyBzdG9yZSByYXcgYXJnc1xuICB0aGlzLnJhd0FyZ3MgPSBhcmd2O1xuXG4gIC8vIGd1ZXNzIG5hbWVcbiAgdGhpcy5fbmFtZSA9IHRoaXMuX25hbWUgfHwgYmFzZW5hbWUoYXJndlsxXSwgJy5qcycpO1xuXG4gIC8vIGdpdGh1Yi1zdHlsZSBzdWItY29tbWFuZHMgd2l0aCBubyBzdWItY29tbWFuZFxuICBpZiAodGhpcy5leGVjdXRhYmxlcyAmJiBhcmd2Lmxlbmd0aCA8IDMgJiYgIXRoaXMuZGVmYXVsdEV4ZWN1dGFibGUpIHtcbiAgICAvLyB0aGlzIHVzZXIgbmVlZHMgaGVscFxuICAgIGFyZ3YucHVzaCgnLS1oZWxwJyk7XG4gIH1cblxuICAvLyBwcm9jZXNzIGFyZ3ZcbiAgdmFyIHBhcnNlZCA9IHRoaXMucGFyc2VPcHRpb25zKHRoaXMubm9ybWFsaXplKGFyZ3Yuc2xpY2UoMikpKTtcbiAgdmFyIGFyZ3MgPSB0aGlzLmFyZ3MgPSBwYXJzZWQuYXJncztcblxuICB2YXIgcmVzdWx0ID0gdGhpcy5wYXJzZUFyZ3ModGhpcy5hcmdzLCBwYXJzZWQudW5rbm93bik7XG5cbiAgLy8gZXhlY3V0YWJsZSBzdWItY29tbWFuZHNcbiAgdmFyIG5hbWUgPSByZXN1bHQuYXJnc1swXTtcblxuICB2YXIgYWxpYXNDb21tYW5kID0gbnVsbDtcbiAgLy8gY2hlY2sgYWxpYXMgb2Ygc3ViIGNvbW1hbmRzXG4gIGlmIChuYW1lKSB7XG4gICAgYWxpYXNDb21tYW5kID0gdGhpcy5jb21tYW5kcy5maWx0ZXIoZnVuY3Rpb24oY29tbWFuZCkge1xuICAgICAgcmV0dXJuIGNvbW1hbmQuYWxpYXMoKSA9PT0gbmFtZTtcbiAgICB9KVswXTtcbiAgfVxuXG4gIGlmICh0aGlzLl9leGVjc1tuYW1lXSAmJiB0eXBlb2YgdGhpcy5fZXhlY3NbbmFtZV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdGhpcy5leGVjdXRlU3ViQ29tbWFuZChhcmd2LCBhcmdzLCBwYXJzZWQudW5rbm93bik7XG4gIH0gZWxzZSBpZiAoYWxpYXNDb21tYW5kKSB7XG4gICAgLy8gaXMgYWxpYXMgb2YgYSBzdWJDb21tYW5kXG4gICAgYXJnc1swXSA9IGFsaWFzQ29tbWFuZC5fbmFtZTtcbiAgICByZXR1cm4gdGhpcy5leGVjdXRlU3ViQ29tbWFuZChhcmd2LCBhcmdzLCBwYXJzZWQudW5rbm93bik7XG4gIH0gZWxzZSBpZiAodGhpcy5kZWZhdWx0RXhlY3V0YWJsZSkge1xuICAgIC8vIHVzZSB0aGUgZGVmYXVsdCBzdWJjb21tYW5kXG4gICAgYXJncy51bnNoaWZ0KHRoaXMuZGVmYXVsdEV4ZWN1dGFibGUpO1xuICAgIHJldHVybiB0aGlzLmV4ZWN1dGVTdWJDb21tYW5kKGFyZ3YsIGFyZ3MsIHBhcnNlZC51bmtub3duKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIEV4ZWN1dGUgYSBzdWItY29tbWFuZCBleGVjdXRhYmxlLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3ZcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3NcbiAqIEBwYXJhbSB7QXJyYXl9IHVua25vd25cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLmV4ZWN1dGVTdWJDb21tYW5kID0gZnVuY3Rpb24oYXJndiwgYXJncywgdW5rbm93bikge1xuICBhcmdzID0gYXJncy5jb25jYXQodW5rbm93bik7XG5cbiAgaWYgKCFhcmdzLmxlbmd0aCkgdGhpcy5oZWxwKCk7XG4gIGlmIChhcmdzWzBdID09PSAnaGVscCcgJiYgYXJncy5sZW5ndGggPT09IDEpIHRoaXMuaGVscCgpO1xuXG4gIC8vIDxjbWQ+IC0taGVscFxuICBpZiAoYXJnc1swXSA9PT0gJ2hlbHAnKSB7XG4gICAgYXJnc1swXSA9IGFyZ3NbMV07XG4gICAgYXJnc1sxXSA9ICctLWhlbHAnO1xuICB9XG5cbiAgLy8gZXhlY3V0YWJsZVxuICB2YXIgZiA9IGFyZ3ZbMV07XG4gIC8vIG5hbWUgb2YgdGhlIHN1YmNvbW1hbmQsIGxpbmsgYHBtLWluc3RhbGxgXG4gIHZhciBiaW4gPSBiYXNlbmFtZShmLCBwYXRoLmV4dG5hbWUoZikpICsgJy0nICsgYXJnc1swXTtcblxuICAvLyBJbiBjYXNlIG9mIGdsb2JhbGx5IGluc3RhbGxlZCwgZ2V0IHRoZSBiYXNlIGRpciB3aGVyZSBleGVjdXRhYmxlXG4gIC8vICBzdWJjb21tYW5kIGZpbGUgc2hvdWxkIGJlIGxvY2F0ZWQgYXRcbiAgdmFyIGJhc2VEaXIsXG4gICAgbGluayA9IGZzLmxzdGF0U3luYyhmKS5pc1N5bWJvbGljTGluaygpID8gZnMucmVhZGxpbmtTeW5jKGYpIDogZjtcblxuICAvLyB3aGVuIHN5bWJvbGluayBpcyByZWxhdGl2ZSBwYXRoXG4gIGlmIChsaW5rICE9PSBmICYmIGxpbmsuY2hhckF0KDApICE9PSAnLycpIHtcbiAgICBsaW5rID0gcGF0aC5qb2luKGRpcm5hbWUoZiksIGxpbmspO1xuICB9XG4gIGJhc2VEaXIgPSBkaXJuYW1lKGxpbmspO1xuXG4gIC8vIHByZWZlciBsb2NhbCBgLi88YmluPmAgdG8gYmluIGluIHRoZSAkUEFUSFxuICB2YXIgbG9jYWxCaW4gPSBwYXRoLmpvaW4oYmFzZURpciwgYmluKTtcblxuICAvLyB3aGV0aGVyIGJpbiBmaWxlIGlzIGEganMgc2NyaXB0IHdpdGggZXhwbGljaXQgYC5qc2Agb3IgYC50c2AgZXh0ZW5zaW9uXG4gIHZhciBpc0V4cGxpY2l0SlMgPSBmYWxzZTtcbiAgaWYgKGV4aXN0cyhsb2NhbEJpbiArICcuanMnKSkge1xuICAgIGJpbiA9IGxvY2FsQmluICsgJy5qcyc7XG4gICAgaXNFeHBsaWNpdEpTID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChleGlzdHMobG9jYWxCaW4gKyAnLnRzJykpIHtcbiAgICBiaW4gPSBsb2NhbEJpbiArICcudHMnO1xuICAgIGlzRXhwbGljaXRKUyA9IHRydWU7XG4gIH0gZWxzZSBpZiAoZXhpc3RzKGxvY2FsQmluKSkge1xuICAgIGJpbiA9IGxvY2FsQmluO1xuICB9XG5cbiAgYXJncyA9IGFyZ3Muc2xpY2UoMSk7XG5cbiAgdmFyIHByb2M7XG4gIGlmIChwcm9jZXNzLnBsYXRmb3JtICE9PSAnd2luMzInKSB7XG4gICAgaWYgKGlzRXhwbGljaXRKUykge1xuICAgICAgYXJncy51bnNoaWZ0KGJpbik7XG4gICAgICAvLyBhZGQgZXhlY3V0YWJsZSBhcmd1bWVudHMgdG8gc3Bhd25cbiAgICAgIGFyZ3MgPSAocHJvY2Vzcy5leGVjQXJndiB8fCBbXSkuY29uY2F0KGFyZ3MpO1xuXG4gICAgICBwcm9jID0gc3Bhd24ocHJvY2Vzcy5hcmd2WzBdLCBhcmdzLCB7IHN0ZGlvOiAnaW5oZXJpdCcsIGN1c3RvbUZkczogWzAsIDEsIDJdIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9jID0gc3Bhd24oYmluLCBhcmdzLCB7IHN0ZGlvOiAnaW5oZXJpdCcsIGN1c3RvbUZkczogWzAsIDEsIDJdIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBhcmdzLnVuc2hpZnQoYmluKTtcbiAgICBwcm9jID0gc3Bhd24ocHJvY2Vzcy5leGVjUGF0aCwgYXJncywgeyBzdGRpbzogJ2luaGVyaXQnIH0pO1xuICB9XG5cbiAgdmFyIHNpZ25hbHMgPSBbJ1NJR1VTUjEnLCAnU0lHVVNSMicsICdTSUdURVJNJywgJ1NJR0lOVCcsICdTSUdIVVAnXTtcbiAgc2lnbmFscy5mb3JFYWNoKGZ1bmN0aW9uKHNpZ25hbCkge1xuICAgIHByb2Nlc3Mub24oc2lnbmFsLCBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChwcm9jLmtpbGxlZCA9PT0gZmFsc2UgJiYgcHJvYy5leGl0Q29kZSA9PT0gbnVsbCkge1xuICAgICAgICBwcm9jLmtpbGwoc2lnbmFsKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHByb2Mub24oJ2Nsb3NlJywgcHJvY2Vzcy5leGl0LmJpbmQocHJvY2VzcykpO1xuICBwcm9jLm9uKCdlcnJvcicsIGZ1bmN0aW9uKGVycikge1xuICAgIGlmIChlcnIuY29kZSA9PT0gJ0VOT0VOVCcpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2Vycm9yOiAlcygxKSBkb2VzIG5vdCBleGlzdCwgdHJ5IC0taGVscCcsIGJpbik7XG4gICAgfSBlbHNlIGlmIChlcnIuY29kZSA9PT0gJ0VBQ0NFUycpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ2Vycm9yOiAlcygxKSBub3QgZXhlY3V0YWJsZS4gdHJ5IGNobW9kIG9yIHJ1biB3aXRoIHJvb3QnLCBiaW4pO1xuICAgIH1cbiAgICBwcm9jZXNzLmV4aXQoMSk7XG4gIH0pO1xuXG4gIC8vIFN0b3JlIHRoZSByZWZlcmVuY2UgdG8gdGhlIGNoaWxkIHByb2Nlc3NcbiAgdGhpcy5ydW5uaW5nQ29tbWFuZCA9IHByb2M7XG59O1xuXG4vKipcbiAqIE5vcm1hbGl6ZSBgYXJnc2AsIHNwbGl0dGluZyBqb2luZWQgc2hvcnQgZmxhZ3MuIEZvciBleGFtcGxlXG4gKiB0aGUgYXJnIFwiLWFiY1wiIGlzIGVxdWl2YWxlbnQgdG8gXCItYSAtYiAtY1wiLlxuICogVGhpcyBhbHNvIG5vcm1hbGl6ZXMgZXF1YWwgc2lnbiBhbmQgc3BsaXRzIFwiLS1hYmM9ZGVmXCIgaW50byBcIi0tYWJjIGRlZlwiLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3NcbiAqIEByZXR1cm4ge0FycmF5fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24oYXJncykge1xuICB2YXIgcmV0ID0gW10sXG4gICAgYXJnLFxuICAgIGxhc3RPcHQsXG4gICAgaW5kZXg7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFyZ3MubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICBhcmcgPSBhcmdzW2ldO1xuICAgIGlmIChpID4gMCkge1xuICAgICAgbGFzdE9wdCA9IHRoaXMub3B0aW9uRm9yKGFyZ3NbaSAtIDFdKTtcbiAgICB9XG5cbiAgICBpZiAoYXJnID09PSAnLS0nKSB7XG4gICAgICAvLyBIb25vciBvcHRpb24gdGVybWluYXRvclxuICAgICAgcmV0ID0gcmV0LmNvbmNhdChhcmdzLnNsaWNlKGkpKTtcbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSBpZiAobGFzdE9wdCAmJiBsYXN0T3B0LnJlcXVpcmVkKSB7XG4gICAgICByZXQucHVzaChhcmcpO1xuICAgIH0gZWxzZSBpZiAoYXJnLmxlbmd0aCA+IDEgJiYgYXJnWzBdID09PSAnLScgJiYgYXJnWzFdICE9PSAnLScpIHtcbiAgICAgIGFyZy5zbGljZSgxKS5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbihjKSB7XG4gICAgICAgIHJldC5wdXNoKCctJyArIGMpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICgvXi0tLy50ZXN0KGFyZykgJiYgfihpbmRleCA9IGFyZy5pbmRleE9mKCc9JykpKSB7XG4gICAgICByZXQucHVzaChhcmcuc2xpY2UoMCwgaW5kZXgpLCBhcmcuc2xpY2UoaW5kZXggKyAxKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldC5wdXNoKGFyZyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJldDtcbn07XG5cbi8qKlxuICogUGFyc2UgY29tbWFuZCBgYXJnc2AuXG4gKlxuICogV2hlbiBsaXN0ZW5lcihzKSBhcmUgYXZhaWxhYmxlIHRob3NlXG4gKiBjYWxsYmFja3MgYXJlIGludm9rZWQsIG90aGVyd2lzZSB0aGUgXCIqXCJcbiAqIGV2ZW50IGlzIGVtaXR0ZWQgYW5kIHRob3NlIGFjdGlvbnMgYXJlIGludm9rZWQuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJnc1xuICogQHJldHVybiB7Q29tbWFuZH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS5wYXJzZUFyZ3MgPSBmdW5jdGlvbihhcmdzLCB1bmtub3duKSB7XG4gIHZhciBuYW1lO1xuXG4gIGlmIChhcmdzLmxlbmd0aCkge1xuICAgIG5hbWUgPSBhcmdzWzBdO1xuICAgIGlmICh0aGlzLmxpc3RlbmVycygnY29tbWFuZDonICsgbmFtZSkubGVuZ3RoKSB7XG4gICAgICB0aGlzLmVtaXQoJ2NvbW1hbmQ6JyArIGFyZ3Muc2hpZnQoKSwgYXJncywgdW5rbm93bik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW1pdCgnY29tbWFuZDoqJywgYXJncyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG91dHB1dEhlbHBJZk5lY2Vzc2FyeSh0aGlzLCB1bmtub3duKTtcblxuICAgIC8vIElmIHRoZXJlIHdlcmUgbm8gYXJncyBhbmQgd2UgaGF2ZSB1bmtub3duIG9wdGlvbnMsXG4gICAgLy8gdGhlbiB0aGV5IGFyZSBleHRyYW5lb3VzIGFuZCB3ZSBuZWVkIHRvIGVycm9yLlxuICAgIGlmICh1bmtub3duLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMudW5rbm93bk9wdGlvbih1bmtub3duWzBdKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY29tbWFuZHMubGVuZ3RoID09PSAwICYmXG4gICAgICAgIHRoaXMuX2FyZ3MuZmlsdGVyKGZ1bmN0aW9uKGEpIHsgcmV0dXJuIGEucmVxdWlyZWQgfSkubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLmVtaXQoJ2NvbW1hbmQ6KicpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYW4gb3B0aW9uIG1hdGNoaW5nIGBhcmdgIGlmIGFueS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYXJnXG4gKiBAcmV0dXJuIHtPcHRpb259XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS5vcHRpb25Gb3IgPSBmdW5jdGlvbihhcmcpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMub3B0aW9ucy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgIGlmICh0aGlzLm9wdGlvbnNbaV0uaXMoYXJnKSkge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc1tpXTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogUGFyc2Ugb3B0aW9ucyBmcm9tIGBhcmd2YCByZXR1cm5pbmcgYGFyZ3ZgXG4gKiB2b2lkIG9mIHRoZXNlIG9wdGlvbnMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJndlxuICogQHJldHVybiB7QXJyYXl9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLnBhcnNlT3B0aW9ucyA9IGZ1bmN0aW9uKGFyZ3YpIHtcbiAgdmFyIGFyZ3MgPSBbXSxcbiAgICBsZW4gPSBhcmd2Lmxlbmd0aCxcbiAgICBsaXRlcmFsLFxuICAgIG9wdGlvbixcbiAgICBhcmc7XG5cbiAgdmFyIHVua25vd25PcHRpb25zID0gW107XG5cbiAgLy8gcGFyc2Ugb3B0aW9uc1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgYXJnID0gYXJndltpXTtcblxuICAgIC8vIGxpdGVyYWwgYXJncyBhZnRlciAtLVxuICAgIGlmIChsaXRlcmFsKSB7XG4gICAgICBhcmdzLnB1c2goYXJnKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChhcmcgPT09ICctLScpIHtcbiAgICAgIGxpdGVyYWwgPSB0cnVlO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gZmluZCBtYXRjaGluZyBPcHRpb25cbiAgICBvcHRpb24gPSB0aGlzLm9wdGlvbkZvcihhcmcpO1xuXG4gICAgLy8gb3B0aW9uIGlzIGRlZmluZWRcbiAgICBpZiAob3B0aW9uKSB7XG4gICAgICAvLyByZXF1aXJlcyBhcmdcbiAgICAgIGlmIChvcHRpb24ucmVxdWlyZWQpIHtcbiAgICAgICAgYXJnID0gYXJndlsrK2ldO1xuICAgICAgICBpZiAoYXJnID09IG51bGwpIHJldHVybiB0aGlzLm9wdGlvbk1pc3NpbmdBcmd1bWVudChvcHRpb24pO1xuICAgICAgICB0aGlzLmVtaXQoJ29wdGlvbjonICsgb3B0aW9uLm5hbWUoKSwgYXJnKTtcbiAgICAgIC8vIG9wdGlvbmFsIGFyZ1xuICAgICAgfSBlbHNlIGlmIChvcHRpb24ub3B0aW9uYWwpIHtcbiAgICAgICAgYXJnID0gYXJndltpICsgMV07XG4gICAgICAgIGlmIChhcmcgPT0gbnVsbCB8fCAoYXJnWzBdID09PSAnLScgJiYgYXJnICE9PSAnLScpKSB7XG4gICAgICAgICAgYXJnID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICArK2k7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbWl0KCdvcHRpb246JyArIG9wdGlvbi5uYW1lKCksIGFyZyk7XG4gICAgICAvLyBib29sXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVtaXQoJ29wdGlvbjonICsgb3B0aW9uLm5hbWUoKSk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBsb29rcyBsaWtlIGFuIG9wdGlvblxuICAgIGlmIChhcmcubGVuZ3RoID4gMSAmJiBhcmdbMF0gPT09ICctJykge1xuICAgICAgdW5rbm93bk9wdGlvbnMucHVzaChhcmcpO1xuXG4gICAgICAvLyBJZiB0aGUgbmV4dCBhcmd1bWVudCBsb29rcyBsaWtlIGl0IG1pZ2h0IGJlXG4gICAgICAvLyBhbiBhcmd1bWVudCBmb3IgdGhpcyBvcHRpb24sIHdlIHBhc3MgaXQgb24uXG4gICAgICAvLyBJZiBpdCBpc24ndCwgdGhlbiBpdCdsbCBzaW1wbHkgYmUgaWdub3JlZFxuICAgICAgaWYgKChpICsgMSkgPCBhcmd2Lmxlbmd0aCAmJiBhcmd2W2kgKyAxXVswXSAhPT0gJy0nKSB7XG4gICAgICAgIHVua25vd25PcHRpb25zLnB1c2goYXJndlsrK2ldKTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGFyZ1xuICAgIGFyZ3MucHVzaChhcmcpO1xuICB9XG5cbiAgcmV0dXJuIHsgYXJnczogYXJncywgdW5rbm93bjogdW5rbm93bk9wdGlvbnMgfTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGFuIG9iamVjdCBjb250YWluaW5nIG9wdGlvbnMgYXMga2V5LXZhbHVlIHBhaXJzXG4gKlxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuQ29tbWFuZC5wcm90b3R5cGUub3B0cyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzdWx0ID0ge30sXG4gICAgbGVuID0gdGhpcy5vcHRpb25zLmxlbmd0aDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHRoaXMub3B0aW9uc1tpXS5hdHRyaWJ1dGVOYW1lKCk7XG4gICAgcmVzdWx0W2tleV0gPSBrZXkgPT09IHRoaXMuX3ZlcnNpb25PcHRpb25OYW1lID8gdGhpcy5fdmVyc2lvbiA6IHRoaXNba2V5XTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBBcmd1bWVudCBgbmFtZWAgaXMgbWlzc2luZy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUubWlzc2luZ0FyZ3VtZW50ID0gZnVuY3Rpb24obmFtZSkge1xuICBjb25zb2xlLmVycm9yKFwiZXJyb3I6IG1pc3NpbmcgcmVxdWlyZWQgYXJndW1lbnQgYCVzJ1wiLCBuYW1lKTtcbiAgcHJvY2Vzcy5leGl0KDEpO1xufTtcblxuLyoqXG4gKiBgT3B0aW9uYCBpcyBtaXNzaW5nIGFuIGFyZ3VtZW50LCBidXQgcmVjZWl2ZWQgYGZsYWdgIG9yIG5vdGhpbmcuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG9wdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IGZsYWdcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLm9wdGlvbk1pc3NpbmdBcmd1bWVudCA9IGZ1bmN0aW9uKG9wdGlvbiwgZmxhZykge1xuICBpZiAoZmxhZykge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJlcnJvcjogb3B0aW9uIGAlcycgYXJndW1lbnQgbWlzc2luZywgZ290IGAlcydcIiwgb3B0aW9uLmZsYWdzLCBmbGFnKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKFwiZXJyb3I6IG9wdGlvbiBgJXMnIGFyZ3VtZW50IG1pc3NpbmdcIiwgb3B0aW9uLmZsYWdzKTtcbiAgfVxuICBwcm9jZXNzLmV4aXQoMSk7XG59O1xuXG4vKipcbiAqIFVua25vd24gb3B0aW9uIGBmbGFnYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZmxhZ1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUudW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKGZsYWcpIHtcbiAgaWYgKHRoaXMuX2FsbG93VW5rbm93bk9wdGlvbikgcmV0dXJuO1xuICBjb25zb2xlLmVycm9yKFwiZXJyb3I6IHVua25vd24gb3B0aW9uIGAlcydcIiwgZmxhZyk7XG4gIHByb2Nlc3MuZXhpdCgxKTtcbn07XG5cbi8qKlxuICogVmFyaWFkaWMgYXJndW1lbnQgd2l0aCBgbmFtZWAgaXMgbm90IHRoZSBsYXN0IGFyZ3VtZW50IGFzIHJlcXVpcmVkLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS52YXJpYWRpY0FyZ05vdExhc3QgPSBmdW5jdGlvbihuYW1lKSB7XG4gIGNvbnNvbGUuZXJyb3IoXCJlcnJvcjogdmFyaWFkaWMgYXJndW1lbnRzIG11c3QgYmUgbGFzdCBgJXMnXCIsIG5hbWUpO1xuICBwcm9jZXNzLmV4aXQoMSk7XG59O1xuXG4vKipcbiAqIFNldCB0aGUgcHJvZ3JhbSB2ZXJzaW9uIHRvIGBzdHJgLlxuICpcbiAqIFRoaXMgbWV0aG9kIGF1dG8tcmVnaXN0ZXJzIHRoZSBcIi1WLCAtLXZlcnNpb25cIiBmbGFnXG4gKiB3aGljaCB3aWxsIHByaW50IHRoZSB2ZXJzaW9uIG51bWJlciB3aGVuIHBhc3NlZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge1N0cmluZ30gW2ZsYWdzXVxuICogQHJldHVybiB7Q29tbWFuZH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLnZlcnNpb24gPSBmdW5jdGlvbihzdHIsIGZsYWdzKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdGhpcy5fdmVyc2lvbjtcbiAgdGhpcy5fdmVyc2lvbiA9IHN0cjtcbiAgZmxhZ3MgPSBmbGFncyB8fCAnLVYsIC0tdmVyc2lvbic7XG4gIHZhciB2ZXJzaW9uT3B0aW9uID0gbmV3IE9wdGlvbihmbGFncywgJ291dHB1dCB0aGUgdmVyc2lvbiBudW1iZXInKTtcbiAgdGhpcy5fdmVyc2lvbk9wdGlvbk5hbWUgPSB2ZXJzaW9uT3B0aW9uLmxvbmcuc3Vic3RyKDIpIHx8ICd2ZXJzaW9uJztcbiAgdGhpcy5vcHRpb25zLnB1c2godmVyc2lvbk9wdGlvbik7XG4gIHRoaXMub24oJ29wdGlvbjonICsgdGhpcy5fdmVyc2lvbk9wdGlvbk5hbWUsIGZ1bmN0aW9uKCkge1xuICAgIHByb2Nlc3Muc3Rkb3V0LndyaXRlKHN0ciArICdcXG4nKTtcbiAgICBwcm9jZXNzLmV4aXQoMCk7XG4gIH0pO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IHRoZSBkZXNjcmlwdGlvbiB0byBgc3RyYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge09iamVjdH0gYXJnc0Rlc2NyaXB0aW9uXG4gKiBAcmV0dXJuIHtTdHJpbmd8Q29tbWFuZH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUuZGVzY3JpcHRpb24gPSBmdW5jdGlvbihzdHIsIGFyZ3NEZXNjcmlwdGlvbikge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRoaXMuX2Rlc2NyaXB0aW9uO1xuICB0aGlzLl9kZXNjcmlwdGlvbiA9IHN0cjtcbiAgdGhpcy5fYXJnc0Rlc2NyaXB0aW9uID0gYXJnc0Rlc2NyaXB0aW9uO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IGFuIGFsaWFzIGZvciB0aGUgY29tbWFuZFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBhbGlhc1xuICogQHJldHVybiB7U3RyaW5nfENvbW1hbmR9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLmFsaWFzID0gZnVuY3Rpb24oYWxpYXMpIHtcbiAgdmFyIGNvbW1hbmQgPSB0aGlzO1xuICBpZiAodGhpcy5jb21tYW5kcy5sZW5ndGggIT09IDApIHtcbiAgICBjb21tYW5kID0gdGhpcy5jb21tYW5kc1t0aGlzLmNvbW1hbmRzLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiBjb21tYW5kLl9hbGlhcztcblxuICBpZiAoYWxpYXMgPT09IGNvbW1hbmQuX25hbWUpIHRocm93IG5ldyBFcnJvcignQ29tbWFuZCBhbGlhcyBjYW5cXCd0IGJlIHRoZSBzYW1lIGFzIGl0cyBuYW1lJyk7XG5cbiAgY29tbWFuZC5fYWxpYXMgPSBhbGlhcztcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFNldCAvIGdldCB0aGUgY29tbWFuZCB1c2FnZSBgc3RyYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtTdHJpbmd8Q29tbWFuZH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUudXNhZ2UgPSBmdW5jdGlvbihzdHIpIHtcbiAgdmFyIGFyZ3MgPSB0aGlzLl9hcmdzLm1hcChmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gaHVtYW5SZWFkYWJsZUFyZ05hbWUoYXJnKTtcbiAgfSk7XG5cbiAgdmFyIHVzYWdlID0gJ1tvcHRpb25zXScgK1xuICAgICh0aGlzLmNvbW1hbmRzLmxlbmd0aCA/ICcgW2NvbW1hbmRdJyA6ICcnKSArXG4gICAgKHRoaXMuX2FyZ3MubGVuZ3RoID8gJyAnICsgYXJncy5qb2luKCcgJykgOiAnJyk7XG5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB0aGlzLl91c2FnZSB8fCB1c2FnZTtcbiAgdGhpcy5fdXNhZ2UgPSBzdHI7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEdldCBvciBzZXQgdGhlIG5hbWUgb2YgdGhlIGNvbW1hbmRcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtTdHJpbmd8Q29tbWFuZH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKHN0cikge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRoaXMuX25hbWU7XG4gIHRoaXMuX25hbWUgPSBzdHI7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gcHJlcGFyZWQgY29tbWFuZHMuXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS5wcmVwYXJlQ29tbWFuZHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuY29tbWFuZHMuZmlsdGVyKGZ1bmN0aW9uKGNtZCkge1xuICAgIHJldHVybiAhY21kLl9ub0hlbHA7XG4gIH0pLm1hcChmdW5jdGlvbihjbWQpIHtcbiAgICB2YXIgYXJncyA9IGNtZC5fYXJncy5tYXAoZnVuY3Rpb24oYXJnKSB7XG4gICAgICByZXR1cm4gaHVtYW5SZWFkYWJsZUFyZ05hbWUoYXJnKTtcbiAgICB9KS5qb2luKCcgJyk7XG5cbiAgICByZXR1cm4gW1xuICAgICAgY21kLl9uYW1lICtcbiAgICAgICAgKGNtZC5fYWxpYXMgPyAnfCcgKyBjbWQuX2FsaWFzIDogJycpICtcbiAgICAgICAgKGNtZC5vcHRpb25zLmxlbmd0aCA/ICcgW29wdGlvbnNdJyA6ICcnKSArXG4gICAgICAgIChhcmdzID8gJyAnICsgYXJncyA6ICcnKSxcbiAgICAgIGNtZC5fZGVzY3JpcHRpb25cbiAgICBdO1xuICB9KTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsYXJnZXN0IGNvbW1hbmQgbGVuZ3RoLlxuICpcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLmxhcmdlc3RDb21tYW5kTGVuZ3RoID0gZnVuY3Rpb24oKSB7XG4gIHZhciBjb21tYW5kcyA9IHRoaXMucHJlcGFyZUNvbW1hbmRzKCk7XG4gIHJldHVybiBjb21tYW5kcy5yZWR1Y2UoZnVuY3Rpb24obWF4LCBjb21tYW5kKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KG1heCwgY29tbWFuZFswXS5sZW5ndGgpO1xuICB9LCAwKTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsYXJnZXN0IG9wdGlvbiBsZW5ndGguXG4gKlxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUubGFyZ2VzdE9wdGlvbkxlbmd0aCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgb3B0aW9ucyA9IFtdLnNsaWNlLmNhbGwodGhpcy5vcHRpb25zKTtcbiAgb3B0aW9ucy5wdXNoKHtcbiAgICBmbGFnczogJy1oLCAtLWhlbHAnXG4gIH0pO1xuICByZXR1cm4gb3B0aW9ucy5yZWR1Y2UoZnVuY3Rpb24obWF4LCBvcHRpb24pIHtcbiAgICByZXR1cm4gTWF0aC5tYXgobWF4LCBvcHRpb24uZmxhZ3MubGVuZ3RoKTtcbiAgfSwgMCk7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbGFyZ2VzdCBhcmcgbGVuZ3RoLlxuICpcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLmxhcmdlc3RBcmdMZW5ndGggPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuX2FyZ3MucmVkdWNlKGZ1bmN0aW9uKG1heCwgYXJnKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KG1heCwgYXJnLm5hbWUubGVuZ3RoKTtcbiAgfSwgMCk7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgcGFkIHdpZHRoLlxuICpcbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLnBhZFdpZHRoID0gZnVuY3Rpb24oKSB7XG4gIHZhciB3aWR0aCA9IHRoaXMubGFyZ2VzdE9wdGlvbkxlbmd0aCgpO1xuICBpZiAodGhpcy5fYXJnc0Rlc2NyaXB0aW9uICYmIHRoaXMuX2FyZ3MubGVuZ3RoKSB7XG4gICAgaWYgKHRoaXMubGFyZ2VzdEFyZ0xlbmd0aCgpID4gd2lkdGgpIHtcbiAgICAgIHdpZHRoID0gdGhpcy5sYXJnZXN0QXJnTGVuZ3RoKCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXMuY29tbWFuZHMgJiYgdGhpcy5jb21tYW5kcy5sZW5ndGgpIHtcbiAgICBpZiAodGhpcy5sYXJnZXN0Q29tbWFuZExlbmd0aCgpID4gd2lkdGgpIHtcbiAgICAgIHdpZHRoID0gdGhpcy5sYXJnZXN0Q29tbWFuZExlbmd0aCgpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB3aWR0aDtcbn07XG5cbi8qKlxuICogUmV0dXJuIGhlbHAgZm9yIG9wdGlvbnMuXG4gKlxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUub3B0aW9uSGVscCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgd2lkdGggPSB0aGlzLnBhZFdpZHRoKCk7XG5cbiAgLy8gQXBwZW5kIHRoZSBoZWxwIGluZm9ybWF0aW9uXG4gIHJldHVybiB0aGlzLm9wdGlvbnMubWFwKGZ1bmN0aW9uKG9wdGlvbikge1xuICAgIHJldHVybiBwYWQob3B0aW9uLmZsYWdzLCB3aWR0aCkgKyAnICAnICsgb3B0aW9uLmRlc2NyaXB0aW9uICtcbiAgICAgICgob3B0aW9uLmJvb2wgJiYgb3B0aW9uLmRlZmF1bHRWYWx1ZSAhPT0gdW5kZWZpbmVkKSA/ICcgKGRlZmF1bHQ6ICcgKyBKU09OLnN0cmluZ2lmeShvcHRpb24uZGVmYXVsdFZhbHVlKSArICcpJyA6ICcnKTtcbiAgfSkuY29uY2F0KFtwYWQoJy1oLCAtLWhlbHAnLCB3aWR0aCkgKyAnICAnICsgJ291dHB1dCB1c2FnZSBpbmZvcm1hdGlvbiddKVxuICAgIC5qb2luKCdcXG4nKTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGNvbW1hbmQgaGVscCBkb2N1bWVudGF0aW9uLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLmNvbW1hbmRIZWxwID0gZnVuY3Rpb24oKSB7XG4gIGlmICghdGhpcy5jb21tYW5kcy5sZW5ndGgpIHJldHVybiAnJztcblxuICB2YXIgY29tbWFuZHMgPSB0aGlzLnByZXBhcmVDb21tYW5kcygpO1xuICB2YXIgd2lkdGggPSB0aGlzLnBhZFdpZHRoKCk7XG5cbiAgcmV0dXJuIFtcbiAgICAnQ29tbWFuZHM6JyxcbiAgICBjb21tYW5kcy5tYXAoZnVuY3Rpb24oY21kKSB7XG4gICAgICB2YXIgZGVzYyA9IGNtZFsxXSA/ICcgICcgKyBjbWRbMV0gOiAnJztcbiAgICAgIHJldHVybiAoZGVzYyA/IHBhZChjbWRbMF0sIHdpZHRoKSA6IGNtZFswXSkgKyBkZXNjO1xuICAgIH0pLmpvaW4oJ1xcbicpLnJlcGxhY2UoL14vZ20sICcgICcpLFxuICAgICcnXG4gIF0uam9pbignXFxuJyk7XG59O1xuXG4vKipcbiAqIFJldHVybiBwcm9ncmFtIGhlbHAgZG9jdW1lbnRhdGlvbi5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS5oZWxwSW5mb3JtYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgdmFyIGRlc2MgPSBbXTtcbiAgaWYgKHRoaXMuX2Rlc2NyaXB0aW9uKSB7XG4gICAgZGVzYyA9IFtcbiAgICAgIHRoaXMuX2Rlc2NyaXB0aW9uLFxuICAgICAgJydcbiAgICBdO1xuXG4gICAgdmFyIGFyZ3NEZXNjcmlwdGlvbiA9IHRoaXMuX2FyZ3NEZXNjcmlwdGlvbjtcbiAgICBpZiAoYXJnc0Rlc2NyaXB0aW9uICYmIHRoaXMuX2FyZ3MubGVuZ3RoKSB7XG4gICAgICB2YXIgd2lkdGggPSB0aGlzLnBhZFdpZHRoKCk7XG4gICAgICBkZXNjLnB1c2goJ0FyZ3VtZW50czonKTtcbiAgICAgIGRlc2MucHVzaCgnJyk7XG4gICAgICB0aGlzLl9hcmdzLmZvckVhY2goZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIGRlc2MucHVzaCgnICAnICsgcGFkKGFyZy5uYW1lLCB3aWR0aCkgKyAnICAnICsgYXJnc0Rlc2NyaXB0aW9uW2FyZy5uYW1lXSk7XG4gICAgICB9KTtcbiAgICAgIGRlc2MucHVzaCgnJyk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNtZE5hbWUgPSB0aGlzLl9uYW1lO1xuICBpZiAodGhpcy5fYWxpYXMpIHtcbiAgICBjbWROYW1lID0gY21kTmFtZSArICd8JyArIHRoaXMuX2FsaWFzO1xuICB9XG4gIHZhciB1c2FnZSA9IFtcbiAgICAnVXNhZ2U6ICcgKyBjbWROYW1lICsgJyAnICsgdGhpcy51c2FnZSgpLFxuICAgICcnXG4gIF07XG5cbiAgdmFyIGNtZHMgPSBbXTtcbiAgdmFyIGNvbW1hbmRIZWxwID0gdGhpcy5jb21tYW5kSGVscCgpO1xuICBpZiAoY29tbWFuZEhlbHApIGNtZHMgPSBbY29tbWFuZEhlbHBdO1xuXG4gIHZhciBvcHRpb25zID0gW1xuICAgICdPcHRpb25zOicsXG4gICAgJycgKyB0aGlzLm9wdGlvbkhlbHAoKS5yZXBsYWNlKC9eL2dtLCAnICAnKSxcbiAgICAnJ1xuICBdO1xuXG4gIHJldHVybiB1c2FnZVxuICAgIC5jb25jYXQoZGVzYylcbiAgICAuY29uY2F0KG9wdGlvbnMpXG4gICAgLmNvbmNhdChjbWRzKVxuICAgIC5qb2luKCdcXG4nKTtcbn07XG5cbi8qKlxuICogT3V0cHV0IGhlbHAgaW5mb3JtYXRpb24gZm9yIHRoaXMgY29tbWFuZFxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUub3V0cHV0SGVscCA9IGZ1bmN0aW9uKGNiKSB7XG4gIGlmICghY2IpIHtcbiAgICBjYiA9IGZ1bmN0aW9uKHBhc3N0aHJ1KSB7XG4gICAgICByZXR1cm4gcGFzc3RocnU7XG4gICAgfTtcbiAgfVxuICBwcm9jZXNzLnN0ZG91dC53cml0ZShjYih0aGlzLmhlbHBJbmZvcm1hdGlvbigpKSk7XG4gIHRoaXMuZW1pdCgnLS1oZWxwJyk7XG59O1xuXG4vKipcbiAqIE91dHB1dCBoZWxwIGluZm9ybWF0aW9uIGFuZCBleGl0LlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUuaGVscCA9IGZ1bmN0aW9uKGNiKSB7XG4gIHRoaXMub3V0cHV0SGVscChjYik7XG4gIHByb2Nlc3MuZXhpdCgpO1xufTtcblxuLyoqXG4gKiBDYW1lbC1jYXNlIHRoZSBnaXZlbiBgZmxhZ2BcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZmxhZ1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gY2FtZWxjYXNlKGZsYWcpIHtcbiAgcmV0dXJuIGZsYWcuc3BsaXQoJy0nKS5yZWR1Y2UoZnVuY3Rpb24oc3RyLCB3b3JkKSB7XG4gICAgcmV0dXJuIHN0ciArIHdvcmRbMF0udG9VcHBlckNhc2UoKSArIHdvcmQuc2xpY2UoMSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFBhZCBgc3RyYCB0byBgd2lkdGhgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7TnVtYmVyfSB3aWR0aFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFkKHN0ciwgd2lkdGgpIHtcbiAgdmFyIGxlbiA9IE1hdGgubWF4KDAsIHdpZHRoIC0gc3RyLmxlbmd0aCk7XG4gIHJldHVybiBzdHIgKyBBcnJheShsZW4gKyAxKS5qb2luKCcgJyk7XG59XG5cbi8qKlxuICogT3V0cHV0IGhlbHAgaW5mb3JtYXRpb24gaWYgbmVjZXNzYXJ5XG4gKlxuICogQHBhcmFtIHtDb21tYW5kfSBjb21tYW5kIHRvIG91dHB1dCBoZWxwIGZvclxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgb2Ygb3B0aW9ucyB0byBzZWFyY2ggZm9yIC1oIG9yIC0taGVscFxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gb3V0cHV0SGVscElmTmVjZXNzYXJ5KGNtZCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKG9wdGlvbnNbaV0gPT09ICctLWhlbHAnIHx8IG9wdGlvbnNbaV0gPT09ICctaCcpIHtcbiAgICAgIGNtZC5vdXRwdXRIZWxwKCk7XG4gICAgICBwcm9jZXNzLmV4aXQoMCk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogVGFrZXMgYW4gYXJndW1lbnQgYW4gcmV0dXJucyBpdHMgaHVtYW4gcmVhZGFibGUgZXF1aXZhbGVudCBmb3IgaGVscCB1c2FnZS5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYXJnXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBodW1hblJlYWRhYmxlQXJnTmFtZShhcmcpIHtcbiAgdmFyIG5hbWVPdXRwdXQgPSBhcmcubmFtZSArIChhcmcudmFyaWFkaWMgPT09IHRydWUgPyAnLi4uJyA6ICcnKTtcblxuICByZXR1cm4gYXJnLnJlcXVpcmVkXG4gICAgPyAnPCcgKyBuYW1lT3V0cHV0ICsgJz4nXG4gICAgOiAnWycgKyBuYW1lT3V0cHV0ICsgJ10nO1xufVxuXG4vLyBmb3IgdmVyc2lvbnMgYmVmb3JlIG5vZGUgdjAuOCB3aGVuIHRoZXJlIHdlcmVuJ3QgYGZzLmV4aXN0c1N5bmNgXG5mdW5jdGlvbiBleGlzdHMoZmlsZSkge1xuICB0cnkge1xuICAgIGlmIChmcy5zdGF0U3luYyhmaWxlKS5pc0ZpbGUoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXRoXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gbWluaW1hdGNoXG5taW5pbWF0Y2guTWluaW1hdGNoID0gTWluaW1hdGNoXG5cbnZhciBwYXRoID0geyBzZXA6ICcvJyB9XG50cnkge1xuICBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG59IGNhdGNoIChlcikge31cblxudmFyIEdMT0JTVEFSID0gbWluaW1hdGNoLkdMT0JTVEFSID0gTWluaW1hdGNoLkdMT0JTVEFSID0ge31cbnZhciBleHBhbmQgPSByZXF1aXJlKCdicmFjZS1leHBhbnNpb24nKVxuXG52YXIgcGxUeXBlcyA9IHtcbiAgJyEnOiB7IG9wZW46ICcoPzooPyEoPzonLCBjbG9zZTogJykpW14vXSo/KSd9LFxuICAnPyc6IHsgb3BlbjogJyg/OicsIGNsb3NlOiAnKT8nIH0sXG4gICcrJzogeyBvcGVuOiAnKD86JywgY2xvc2U6ICcpKycgfSxcbiAgJyonOiB7IG9wZW46ICcoPzonLCBjbG9zZTogJykqJyB9LFxuICAnQCc6IHsgb3BlbjogJyg/OicsIGNsb3NlOiAnKScgfVxufVxuXG4vLyBhbnkgc2luZ2xlIHRoaW5nIG90aGVyIHRoYW4gL1xuLy8gZG9uJ3QgbmVlZCB0byBlc2NhcGUgLyB3aGVuIHVzaW5nIG5ldyBSZWdFeHAoKVxudmFyIHFtYXJrID0gJ1teL10nXG5cbi8vICogPT4gYW55IG51bWJlciBvZiBjaGFyYWN0ZXJzXG52YXIgc3RhciA9IHFtYXJrICsgJyo/J1xuXG4vLyAqKiB3aGVuIGRvdHMgYXJlIGFsbG93ZWQuICBBbnl0aGluZyBnb2VzLCBleGNlcHQgLi4gYW5kIC5cbi8vIG5vdCAoXiBvciAvIGZvbGxvd2VkIGJ5IG9uZSBvciB0d28gZG90cyBmb2xsb3dlZCBieSAkIG9yIC8pLFxuLy8gZm9sbG93ZWQgYnkgYW55dGhpbmcsIGFueSBudW1iZXIgb2YgdGltZXMuXG52YXIgdHdvU3RhckRvdCA9ICcoPzooPyEoPzpcXFxcXFwvfF4pKD86XFxcXC57MSwyfSkoJHxcXFxcXFwvKSkuKSo/J1xuXG4vLyBub3QgYSBeIG9yIC8gZm9sbG93ZWQgYnkgYSBkb3QsXG4vLyBmb2xsb3dlZCBieSBhbnl0aGluZywgYW55IG51bWJlciBvZiB0aW1lcy5cbnZhciB0d29TdGFyTm9Eb3QgPSAnKD86KD8hKD86XFxcXFxcL3xeKVxcXFwuKS4pKj8nXG5cbi8vIGNoYXJhY3RlcnMgdGhhdCBuZWVkIHRvIGJlIGVzY2FwZWQgaW4gUmVnRXhwLlxudmFyIHJlU3BlY2lhbHMgPSBjaGFyU2V0KCcoKS4qe30rP1tdXiRcXFxcIScpXG5cbi8vIFwiYWJjXCIgLT4geyBhOnRydWUsIGI6dHJ1ZSwgYzp0cnVlIH1cbmZ1bmN0aW9uIGNoYXJTZXQgKHMpIHtcbiAgcmV0dXJuIHMuc3BsaXQoJycpLnJlZHVjZShmdW5jdGlvbiAoc2V0LCBjKSB7XG4gICAgc2V0W2NdID0gdHJ1ZVxuICAgIHJldHVybiBzZXRcbiAgfSwge30pXG59XG5cbi8vIG5vcm1hbGl6ZXMgc2xhc2hlcy5cbnZhciBzbGFzaFNwbGl0ID0gL1xcLysvXG5cbm1pbmltYXRjaC5maWx0ZXIgPSBmaWx0ZXJcbmZ1bmN0aW9uIGZpbHRlciAocGF0dGVybiwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICByZXR1cm4gZnVuY3Rpb24gKHAsIGksIGxpc3QpIHtcbiAgICByZXR1cm4gbWluaW1hdGNoKHAsIHBhdHRlcm4sIG9wdGlvbnMpXG4gIH1cbn1cblxuZnVuY3Rpb24gZXh0IChhLCBiKSB7XG4gIGEgPSBhIHx8IHt9XG4gIGIgPSBiIHx8IHt9XG4gIHZhciB0ID0ge31cbiAgT2JqZWN0LmtleXMoYikuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgIHRba10gPSBiW2tdXG4gIH0pXG4gIE9iamVjdC5rZXlzKGEpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICB0W2tdID0gYVtrXVxuICB9KVxuICByZXR1cm4gdFxufVxuXG5taW5pbWF0Y2guZGVmYXVsdHMgPSBmdW5jdGlvbiAoZGVmKSB7XG4gIGlmICghZGVmIHx8ICFPYmplY3Qua2V5cyhkZWYpLmxlbmd0aCkgcmV0dXJuIG1pbmltYXRjaFxuXG4gIHZhciBvcmlnID0gbWluaW1hdGNoXG5cbiAgdmFyIG0gPSBmdW5jdGlvbiBtaW5pbWF0Y2ggKHAsIHBhdHRlcm4sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3JpZy5taW5pbWF0Y2gocCwgcGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpXG4gIH1cblxuICBtLk1pbmltYXRjaCA9IGZ1bmN0aW9uIE1pbmltYXRjaCAocGF0dGVybiwgb3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgb3JpZy5NaW5pbWF0Y2gocGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpXG4gIH1cblxuICByZXR1cm4gbVxufVxuXG5NaW5pbWF0Y2guZGVmYXVsdHMgPSBmdW5jdGlvbiAoZGVmKSB7XG4gIGlmICghZGVmIHx8ICFPYmplY3Qua2V5cyhkZWYpLmxlbmd0aCkgcmV0dXJuIE1pbmltYXRjaFxuICByZXR1cm4gbWluaW1hdGNoLmRlZmF1bHRzKGRlZikuTWluaW1hdGNoXG59XG5cbmZ1bmN0aW9uIG1pbmltYXRjaCAocCwgcGF0dGVybiwgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIHBhdHRlcm4gIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZ2xvYiBwYXR0ZXJuIHN0cmluZyByZXF1aXJlZCcpXG4gIH1cblxuICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fVxuXG4gIC8vIHNob3J0Y3V0OiBjb21tZW50cyBtYXRjaCBub3RoaW5nLlxuICBpZiAoIW9wdGlvbnMubm9jb21tZW50ICYmIHBhdHRlcm4uY2hhckF0KDApID09PSAnIycpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIFwiXCIgb25seSBtYXRjaGVzIFwiXCJcbiAgaWYgKHBhdHRlcm4udHJpbSgpID09PSAnJykgcmV0dXJuIHAgPT09ICcnXG5cbiAgcmV0dXJuIG5ldyBNaW5pbWF0Y2gocGF0dGVybiwgb3B0aW9ucykubWF0Y2gocClcbn1cblxuZnVuY3Rpb24gTWluaW1hdGNoIChwYXR0ZXJuLCBvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBNaW5pbWF0Y2gpKSB7XG4gICAgcmV0dXJuIG5ldyBNaW5pbWF0Y2gocGF0dGVybiwgb3B0aW9ucylcbiAgfVxuXG4gIGlmICh0eXBlb2YgcGF0dGVybiAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdnbG9iIHBhdHRlcm4gc3RyaW5nIHJlcXVpcmVkJylcbiAgfVxuXG4gIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9XG4gIHBhdHRlcm4gPSBwYXR0ZXJuLnRyaW0oKVxuXG4gIC8vIHdpbmRvd3Mgc3VwcG9ydDogbmVlZCB0byB1c2UgLywgbm90IFxcXG4gIGlmIChwYXRoLnNlcCAhPT0gJy8nKSB7XG4gICAgcGF0dGVybiA9IHBhdHRlcm4uc3BsaXQocGF0aC5zZXApLmpvaW4oJy8nKVxuICB9XG5cbiAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICB0aGlzLnNldCA9IFtdXG4gIHRoaXMucGF0dGVybiA9IHBhdHRlcm5cbiAgdGhpcy5yZWdleHAgPSBudWxsXG4gIHRoaXMubmVnYXRlID0gZmFsc2VcbiAgdGhpcy5jb21tZW50ID0gZmFsc2VcbiAgdGhpcy5lbXB0eSA9IGZhbHNlXG5cbiAgLy8gbWFrZSB0aGUgc2V0IG9mIHJlZ2V4cHMgZXRjLlxuICB0aGlzLm1ha2UoKVxufVxuXG5NaW5pbWF0Y2gucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24gKCkge31cblxuTWluaW1hdGNoLnByb3RvdHlwZS5tYWtlID0gbWFrZVxuZnVuY3Rpb24gbWFrZSAoKSB7XG4gIC8vIGRvbid0IGRvIGl0IG1vcmUgdGhhbiBvbmNlLlxuICBpZiAodGhpcy5fbWFkZSkgcmV0dXJuXG5cbiAgdmFyIHBhdHRlcm4gPSB0aGlzLnBhdHRlcm5cbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnNcblxuICAvLyBlbXB0eSBwYXR0ZXJucyBhbmQgY29tbWVudHMgbWF0Y2ggbm90aGluZy5cbiAgaWYgKCFvcHRpb25zLm5vY29tbWVudCAmJiBwYXR0ZXJuLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgdGhpcy5jb21tZW50ID0gdHJ1ZVxuICAgIHJldHVyblxuICB9XG4gIGlmICghcGF0dGVybikge1xuICAgIHRoaXMuZW1wdHkgPSB0cnVlXG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBzdGVwIDE6IGZpZ3VyZSBvdXQgbmVnYXRpb24sIGV0Yy5cbiAgdGhpcy5wYXJzZU5lZ2F0ZSgpXG5cbiAgLy8gc3RlcCAyOiBleHBhbmQgYnJhY2VzXG4gIHZhciBzZXQgPSB0aGlzLmdsb2JTZXQgPSB0aGlzLmJyYWNlRXhwYW5kKClcblxuICBpZiAob3B0aW9ucy5kZWJ1ZykgdGhpcy5kZWJ1ZyA9IGNvbnNvbGUuZXJyb3JcblxuICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgc2V0KVxuXG4gIC8vIHN0ZXAgMzogbm93IHdlIGhhdmUgYSBzZXQsIHNvIHR1cm4gZWFjaCBvbmUgaW50byBhIHNlcmllcyBvZiBwYXRoLXBvcnRpb25cbiAgLy8gbWF0Y2hpbmcgcGF0dGVybnMuXG4gIC8vIFRoZXNlIHdpbGwgYmUgcmVnZXhwcywgZXhjZXB0IGluIHRoZSBjYXNlIG9mIFwiKipcIiwgd2hpY2ggaXNcbiAgLy8gc2V0IHRvIHRoZSBHTE9CU1RBUiBvYmplY3QgZm9yIGdsb2JzdGFyIGJlaGF2aW9yLFxuICAvLyBhbmQgd2lsbCBub3QgY29udGFpbiBhbnkgLyBjaGFyYWN0ZXJzXG4gIHNldCA9IHRoaXMuZ2xvYlBhcnRzID0gc2V0Lm1hcChmdW5jdGlvbiAocykge1xuICAgIHJldHVybiBzLnNwbGl0KHNsYXNoU3BsaXQpXG4gIH0pXG5cbiAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sIHNldClcblxuICAvLyBnbG9iIC0tPiByZWdleHBzXG4gIHNldCA9IHNldC5tYXAoZnVuY3Rpb24gKHMsIHNpLCBzZXQpIHtcbiAgICByZXR1cm4gcy5tYXAodGhpcy5wYXJzZSwgdGhpcylcbiAgfSwgdGhpcylcblxuICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgc2V0KVxuXG4gIC8vIGZpbHRlciBvdXQgZXZlcnl0aGluZyB0aGF0IGRpZG4ndCBjb21waWxlIHByb3Blcmx5LlxuICBzZXQgPSBzZXQuZmlsdGVyKGZ1bmN0aW9uIChzKSB7XG4gICAgcmV0dXJuIHMuaW5kZXhPZihmYWxzZSkgPT09IC0xXG4gIH0pXG5cbiAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sIHNldClcblxuICB0aGlzLnNldCA9IHNldFxufVxuXG5NaW5pbWF0Y2gucHJvdG90eXBlLnBhcnNlTmVnYXRlID0gcGFyc2VOZWdhdGVcbmZ1bmN0aW9uIHBhcnNlTmVnYXRlICgpIHtcbiAgdmFyIHBhdHRlcm4gPSB0aGlzLnBhdHRlcm5cbiAgdmFyIG5lZ2F0ZSA9IGZhbHNlXG4gIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zXG4gIHZhciBuZWdhdGVPZmZzZXQgPSAwXG5cbiAgaWYgKG9wdGlvbnMubm9uZWdhdGUpIHJldHVyblxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gcGF0dGVybi5sZW5ndGhcbiAgICA7IGkgPCBsICYmIHBhdHRlcm4uY2hhckF0KGkpID09PSAnISdcbiAgICA7IGkrKykge1xuICAgIG5lZ2F0ZSA9ICFuZWdhdGVcbiAgICBuZWdhdGVPZmZzZXQrK1xuICB9XG5cbiAgaWYgKG5lZ2F0ZU9mZnNldCkgdGhpcy5wYXR0ZXJuID0gcGF0dGVybi5zdWJzdHIobmVnYXRlT2Zmc2V0KVxuICB0aGlzLm5lZ2F0ZSA9IG5lZ2F0ZVxufVxuXG4vLyBCcmFjZSBleHBhbnNpb246XG4vLyBhe2IsY31kIC0+IGFiZCBhY2Rcbi8vIGF7Yix9YyAtPiBhYmMgYWNcbi8vIGF7MC4uM31kIC0+IGEwZCBhMWQgYTJkIGEzZFxuLy8gYXtiLGN7ZCxlfWZ9ZyAtPiBhYmcgYWNkZmcgYWNlZmdcbi8vIGF7YixjfWR7ZSxmfWcgLT4gYWJkZWcgYWNkZWcgYWJkZWcgYWJkZmdcbi8vXG4vLyBJbnZhbGlkIHNldHMgYXJlIG5vdCBleHBhbmRlZC5cbi8vIGF7Mi4ufWIgLT4gYXsyLi59YlxuLy8gYXtifWMgLT4gYXtifWNcbm1pbmltYXRjaC5icmFjZUV4cGFuZCA9IGZ1bmN0aW9uIChwYXR0ZXJuLCBvcHRpb25zKSB7XG4gIHJldHVybiBicmFjZUV4cGFuZChwYXR0ZXJuLCBvcHRpb25zKVxufVxuXG5NaW5pbWF0Y2gucHJvdG90eXBlLmJyYWNlRXhwYW5kID0gYnJhY2VFeHBhbmRcblxuZnVuY3Rpb24gYnJhY2VFeHBhbmQgKHBhdHRlcm4sIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBNaW5pbWF0Y2gpIHtcbiAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnNcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IHt9XG4gICAgfVxuICB9XG5cbiAgcGF0dGVybiA9IHR5cGVvZiBwYXR0ZXJuID09PSAndW5kZWZpbmVkJ1xuICAgID8gdGhpcy5wYXR0ZXJuIDogcGF0dGVyblxuXG4gIGlmICh0eXBlb2YgcGF0dGVybiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd1bmRlZmluZWQgcGF0dGVybicpXG4gIH1cblxuICBpZiAob3B0aW9ucy5ub2JyYWNlIHx8XG4gICAgIXBhdHRlcm4ubWF0Y2goL1xcey4qXFx9LykpIHtcbiAgICAvLyBzaG9ydGN1dC4gbm8gbmVlZCB0byBleHBhbmQuXG4gICAgcmV0dXJuIFtwYXR0ZXJuXVxuICB9XG5cbiAgcmV0dXJuIGV4cGFuZChwYXR0ZXJuKVxufVxuXG4vLyBwYXJzZSBhIGNvbXBvbmVudCBvZiB0aGUgZXhwYW5kZWQgc2V0LlxuLy8gQXQgdGhpcyBwb2ludCwgbm8gcGF0dGVybiBtYXkgY29udGFpbiBcIi9cIiBpbiBpdFxuLy8gc28gd2UncmUgZ29pbmcgdG8gcmV0dXJuIGEgMmQgYXJyYXksIHdoZXJlIGVhY2ggZW50cnkgaXMgdGhlIGZ1bGxcbi8vIHBhdHRlcm4sIHNwbGl0IG9uICcvJywgYW5kIHRoZW4gdHVybmVkIGludG8gYSByZWd1bGFyIGV4cHJlc3Npb24uXG4vLyBBIHJlZ2V4cCBpcyBtYWRlIGF0IHRoZSBlbmQgd2hpY2ggam9pbnMgZWFjaCBhcnJheSB3aXRoIGFuXG4vLyBlc2NhcGVkIC8sIGFuZCBhbm90aGVyIGZ1bGwgb25lIHdoaWNoIGpvaW5zIGVhY2ggcmVnZXhwIHdpdGggfC5cbi8vXG4vLyBGb2xsb3dpbmcgdGhlIGxlYWQgb2YgQmFzaCA0LjEsIG5vdGUgdGhhdCBcIioqXCIgb25seSBoYXMgc3BlY2lhbCBtZWFuaW5nXG4vLyB3aGVuIGl0IGlzIHRoZSAqb25seSogdGhpbmcgaW4gYSBwYXRoIHBvcnRpb24uICBPdGhlcndpc2UsIGFueSBzZXJpZXNcbi8vIG9mICogaXMgZXF1aXZhbGVudCB0byBhIHNpbmdsZSAqLiAgR2xvYnN0YXIgYmVoYXZpb3IgaXMgZW5hYmxlZCBieVxuLy8gZGVmYXVsdCwgYW5kIGNhbiBiZSBkaXNhYmxlZCBieSBzZXR0aW5nIG9wdGlvbnMubm9nbG9ic3Rhci5cbk1pbmltYXRjaC5wcm90b3R5cGUucGFyc2UgPSBwYXJzZVxudmFyIFNVQlBBUlNFID0ge31cbmZ1bmN0aW9uIHBhcnNlIChwYXR0ZXJuLCBpc1N1Yikge1xuICBpZiAocGF0dGVybi5sZW5ndGggPiAxMDI0ICogNjQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwYXR0ZXJuIGlzIHRvbyBsb25nJylcbiAgfVxuXG4gIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zXG5cbiAgLy8gc2hvcnRjdXRzXG4gIGlmICghb3B0aW9ucy5ub2dsb2JzdGFyICYmIHBhdHRlcm4gPT09ICcqKicpIHJldHVybiBHTE9CU1RBUlxuICBpZiAocGF0dGVybiA9PT0gJycpIHJldHVybiAnJ1xuXG4gIHZhciByZSA9ICcnXG4gIHZhciBoYXNNYWdpYyA9ICEhb3B0aW9ucy5ub2Nhc2VcbiAgdmFyIGVzY2FwaW5nID0gZmFsc2VcbiAgLy8gPyA9PiBvbmUgc2luZ2xlIGNoYXJhY3RlclxuICB2YXIgcGF0dGVybkxpc3RTdGFjayA9IFtdXG4gIHZhciBuZWdhdGl2ZUxpc3RzID0gW11cbiAgdmFyIHN0YXRlQ2hhclxuICB2YXIgaW5DbGFzcyA9IGZhbHNlXG4gIHZhciByZUNsYXNzU3RhcnQgPSAtMVxuICB2YXIgY2xhc3NTdGFydCA9IC0xXG4gIC8vIC4gYW5kIC4uIG5ldmVyIG1hdGNoIGFueXRoaW5nIHRoYXQgZG9lc24ndCBzdGFydCB3aXRoIC4sXG4gIC8vIGV2ZW4gd2hlbiBvcHRpb25zLmRvdCBpcyBzZXQuXG4gIHZhciBwYXR0ZXJuU3RhcnQgPSBwYXR0ZXJuLmNoYXJBdCgwKSA9PT0gJy4nID8gJycgLy8gYW55dGhpbmdcbiAgLy8gbm90IChzdGFydCBvciAvIGZvbGxvd2VkIGJ5IC4gb3IgLi4gZm9sbG93ZWQgYnkgLyBvciBlbmQpXG4gIDogb3B0aW9ucy5kb3QgPyAnKD8hKD86XnxcXFxcXFwvKVxcXFwuezEsMn0oPzokfFxcXFxcXC8pKSdcbiAgOiAnKD8hXFxcXC4pJ1xuICB2YXIgc2VsZiA9IHRoaXNcblxuICBmdW5jdGlvbiBjbGVhclN0YXRlQ2hhciAoKSB7XG4gICAgaWYgKHN0YXRlQ2hhcikge1xuICAgICAgLy8gd2UgaGFkIHNvbWUgc3RhdGUtdHJhY2tpbmcgY2hhcmFjdGVyXG4gICAgICAvLyB0aGF0IHdhc24ndCBjb25zdW1lZCBieSB0aGlzIHBhc3MuXG4gICAgICBzd2l0Y2ggKHN0YXRlQ2hhcikge1xuICAgICAgICBjYXNlICcqJzpcbiAgICAgICAgICByZSArPSBzdGFyXG4gICAgICAgICAgaGFzTWFnaWMgPSB0cnVlXG4gICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJz8nOlxuICAgICAgICAgIHJlICs9IHFtYXJrXG4gICAgICAgICAgaGFzTWFnaWMgPSB0cnVlXG4gICAgICAgIGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmUgKz0gJ1xcXFwnICsgc3RhdGVDaGFyXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBzZWxmLmRlYnVnKCdjbGVhclN0YXRlQ2hhciAlaiAlaicsIHN0YXRlQ2hhciwgcmUpXG4gICAgICBzdGF0ZUNoYXIgPSBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwYXR0ZXJuLmxlbmd0aCwgY1xuICAgIDsgKGkgPCBsZW4pICYmIChjID0gcGF0dGVybi5jaGFyQXQoaSkpXG4gICAgOyBpKyspIHtcbiAgICB0aGlzLmRlYnVnKCclc1xcdCVzICVzICVqJywgcGF0dGVybiwgaSwgcmUsIGMpXG5cbiAgICAvLyBza2lwIG92ZXIgYW55IHRoYXQgYXJlIGVzY2FwZWQuXG4gICAgaWYgKGVzY2FwaW5nICYmIHJlU3BlY2lhbHNbY10pIHtcbiAgICAgIHJlICs9ICdcXFxcJyArIGNcbiAgICAgIGVzY2FwaW5nID0gZmFsc2VcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgc3dpdGNoIChjKSB7XG4gICAgICBjYXNlICcvJzpcbiAgICAgICAgLy8gY29tcGxldGVseSBub3QgYWxsb3dlZCwgZXZlbiBlc2NhcGVkLlxuICAgICAgICAvLyBTaG91bGQgYWxyZWFkeSBiZSBwYXRoLXNwbGl0IGJ5IG5vdy5cbiAgICAgICAgcmV0dXJuIGZhbHNlXG5cbiAgICAgIGNhc2UgJ1xcXFwnOlxuICAgICAgICBjbGVhclN0YXRlQ2hhcigpXG4gICAgICAgIGVzY2FwaW5nID0gdHJ1ZVxuICAgICAgY29udGludWVcblxuICAgICAgLy8gdGhlIHZhcmlvdXMgc3RhdGVDaGFyIHZhbHVlc1xuICAgICAgLy8gZm9yIHRoZSBcImV4dGdsb2JcIiBzdHVmZi5cbiAgICAgIGNhc2UgJz8nOlxuICAgICAgY2FzZSAnKic6XG4gICAgICBjYXNlICcrJzpcbiAgICAgIGNhc2UgJ0AnOlxuICAgICAgY2FzZSAnISc6XG4gICAgICAgIHRoaXMuZGVidWcoJyVzXFx0JXMgJXMgJWogPC0tIHN0YXRlQ2hhcicsIHBhdHRlcm4sIGksIHJlLCBjKVxuXG4gICAgICAgIC8vIGFsbCBvZiB0aG9zZSBhcmUgbGl0ZXJhbHMgaW5zaWRlIGEgY2xhc3MsIGV4Y2VwdCB0aGF0XG4gICAgICAgIC8vIHRoZSBnbG9iIFshYV0gbWVhbnMgW15hXSBpbiByZWdleHBcbiAgICAgICAgaWYgKGluQ2xhc3MpIHtcbiAgICAgICAgICB0aGlzLmRlYnVnKCcgIGluIGNsYXNzJylcbiAgICAgICAgICBpZiAoYyA9PT0gJyEnICYmIGkgPT09IGNsYXNzU3RhcnQgKyAxKSBjID0gJ14nXG4gICAgICAgICAgcmUgKz0gY1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB3ZSBhbHJlYWR5IGhhdmUgYSBzdGF0ZUNoYXIsIHRoZW4gaXQgbWVhbnNcbiAgICAgICAgLy8gdGhhdCB0aGVyZSB3YXMgc29tZXRoaW5nIGxpa2UgKiogb3IgKz8gaW4gdGhlcmUuXG4gICAgICAgIC8vIEhhbmRsZSB0aGUgc3RhdGVDaGFyLCB0aGVuIHByb2NlZWQgd2l0aCB0aGlzIG9uZS5cbiAgICAgICAgc2VsZi5kZWJ1ZygnY2FsbCBjbGVhclN0YXRlQ2hhciAlaicsIHN0YXRlQ2hhcilcbiAgICAgICAgY2xlYXJTdGF0ZUNoYXIoKVxuICAgICAgICBzdGF0ZUNoYXIgPSBjXG4gICAgICAgIC8vIGlmIGV4dGdsb2IgaXMgZGlzYWJsZWQsIHRoZW4gKyhhc2RmfGZvbykgaXNuJ3QgYSB0aGluZy5cbiAgICAgICAgLy8ganVzdCBjbGVhciB0aGUgc3RhdGVjaGFyICpub3cqLCByYXRoZXIgdGhhbiBldmVuIGRpdmluZyBpbnRvXG4gICAgICAgIC8vIHRoZSBwYXR0ZXJuTGlzdCBzdHVmZi5cbiAgICAgICAgaWYgKG9wdGlvbnMubm9leHQpIGNsZWFyU3RhdGVDaGFyKClcbiAgICAgIGNvbnRpbnVlXG5cbiAgICAgIGNhc2UgJygnOlxuICAgICAgICBpZiAoaW5DbGFzcykge1xuICAgICAgICAgIHJlICs9ICcoJ1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN0YXRlQ2hhcikge1xuICAgICAgICAgIHJlICs9ICdcXFxcKCdcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgcGF0dGVybkxpc3RTdGFjay5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBzdGF0ZUNoYXIsXG4gICAgICAgICAgc3RhcnQ6IGkgLSAxLFxuICAgICAgICAgIHJlU3RhcnQ6IHJlLmxlbmd0aCxcbiAgICAgICAgICBvcGVuOiBwbFR5cGVzW3N0YXRlQ2hhcl0ub3BlbixcbiAgICAgICAgICBjbG9zZTogcGxUeXBlc1tzdGF0ZUNoYXJdLmNsb3NlXG4gICAgICAgIH0pXG4gICAgICAgIC8vIG5lZ2F0aW9uIGlzICg/Oig/IWpzKVteL10qKVxuICAgICAgICByZSArPSBzdGF0ZUNoYXIgPT09ICchJyA/ICcoPzooPyEoPzonIDogJyg/OidcbiAgICAgICAgdGhpcy5kZWJ1ZygncGxUeXBlICVqICVqJywgc3RhdGVDaGFyLCByZSlcbiAgICAgICAgc3RhdGVDaGFyID0gZmFsc2VcbiAgICAgIGNvbnRpbnVlXG5cbiAgICAgIGNhc2UgJyknOlxuICAgICAgICBpZiAoaW5DbGFzcyB8fCAhcGF0dGVybkxpc3RTdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICByZSArPSAnXFxcXCknXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFyU3RhdGVDaGFyKClcbiAgICAgICAgaGFzTWFnaWMgPSB0cnVlXG4gICAgICAgIHZhciBwbCA9IHBhdHRlcm5MaXN0U3RhY2sucG9wKClcbiAgICAgICAgLy8gbmVnYXRpb24gaXMgKD86KD8hanMpW14vXSopXG4gICAgICAgIC8vIFRoZSBvdGhlcnMgYXJlICg/OjxwYXR0ZXJuPik8dHlwZT5cbiAgICAgICAgcmUgKz0gcGwuY2xvc2VcbiAgICAgICAgaWYgKHBsLnR5cGUgPT09ICchJykge1xuICAgICAgICAgIG5lZ2F0aXZlTGlzdHMucHVzaChwbClcbiAgICAgICAgfVxuICAgICAgICBwbC5yZUVuZCA9IHJlLmxlbmd0aFxuICAgICAgY29udGludWVcblxuICAgICAgY2FzZSAnfCc6XG4gICAgICAgIGlmIChpbkNsYXNzIHx8ICFwYXR0ZXJuTGlzdFN0YWNrLmxlbmd0aCB8fCBlc2NhcGluZykge1xuICAgICAgICAgIHJlICs9ICdcXFxcfCdcbiAgICAgICAgICBlc2NhcGluZyA9IGZhbHNlXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFyU3RhdGVDaGFyKClcbiAgICAgICAgcmUgKz0gJ3wnXG4gICAgICBjb250aW51ZVxuXG4gICAgICAvLyB0aGVzZSBhcmUgbW9zdGx5IHRoZSBzYW1lIGluIHJlZ2V4cCBhbmQgZ2xvYlxuICAgICAgY2FzZSAnWyc6XG4gICAgICAgIC8vIHN3YWxsb3cgYW55IHN0YXRlLXRyYWNraW5nIGNoYXIgYmVmb3JlIHRoZSBbXG4gICAgICAgIGNsZWFyU3RhdGVDaGFyKClcblxuICAgICAgICBpZiAoaW5DbGFzcykge1xuICAgICAgICAgIHJlICs9ICdcXFxcJyArIGNcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgaW5DbGFzcyA9IHRydWVcbiAgICAgICAgY2xhc3NTdGFydCA9IGlcbiAgICAgICAgcmVDbGFzc1N0YXJ0ID0gcmUubGVuZ3RoXG4gICAgICAgIHJlICs9IGNcbiAgICAgIGNvbnRpbnVlXG5cbiAgICAgIGNhc2UgJ10nOlxuICAgICAgICAvLyAgYSByaWdodCBicmFja2V0IHNoYWxsIGxvc2UgaXRzIHNwZWNpYWxcbiAgICAgICAgLy8gIG1lYW5pbmcgYW5kIHJlcHJlc2VudCBpdHNlbGYgaW5cbiAgICAgICAgLy8gIGEgYnJhY2tldCBleHByZXNzaW9uIGlmIGl0IG9jY3Vyc1xuICAgICAgICAvLyAgZmlyc3QgaW4gdGhlIGxpc3QuICAtLSBQT1NJWC4yIDIuOC4zLjJcbiAgICAgICAgaWYgKGkgPT09IGNsYXNzU3RhcnQgKyAxIHx8ICFpbkNsYXNzKSB7XG4gICAgICAgICAgcmUgKz0gJ1xcXFwnICsgY1xuICAgICAgICAgIGVzY2FwaW5nID0gZmFsc2VcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHdlIGxlZnQgYSBjbGFzcyBvcGVuLlxuICAgICAgICAvLyBcIlt6LWFdXCIgaXMgdmFsaWQsIGVxdWl2YWxlbnQgdG8gXCJcXFt6LWFcXF1cIlxuICAgICAgICBpZiAoaW5DbGFzcykge1xuICAgICAgICAgIC8vIHNwbGl0IHdoZXJlIHRoZSBsYXN0IFsgd2FzLCBtYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZVxuICAgICAgICAgIC8vIGFuIGludmFsaWQgcmUuIGlmIHNvLCByZS13YWxrIHRoZSBjb250ZW50cyBvZiB0aGVcbiAgICAgICAgICAvLyB3b3VsZC1iZSBjbGFzcyB0byByZS10cmFuc2xhdGUgYW55IGNoYXJhY3RlcnMgdGhhdFxuICAgICAgICAgIC8vIHdlcmUgcGFzc2VkIHRocm91Z2ggYXMtaXNcbiAgICAgICAgICAvLyBUT0RPOiBJdCB3b3VsZCBwcm9iYWJseSBiZSBmYXN0ZXIgdG8gZGV0ZXJtaW5lIHRoaXNcbiAgICAgICAgICAvLyB3aXRob3V0IGEgdHJ5L2NhdGNoIGFuZCBhIG5ldyBSZWdFeHAsIGJ1dCBpdCdzIHRyaWNreVxuICAgICAgICAgIC8vIHRvIGRvIHNhZmVseS4gIEZvciBub3csIHRoaXMgaXMgc2FmZSBhbmQgd29ya3MuXG4gICAgICAgICAgdmFyIGNzID0gcGF0dGVybi5zdWJzdHJpbmcoY2xhc3NTdGFydCArIDEsIGkpXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFJlZ0V4cCgnWycgKyBjcyArICddJylcbiAgICAgICAgICB9IGNhdGNoIChlcikge1xuICAgICAgICAgICAgLy8gbm90IGEgdmFsaWQgY2xhc3MhXG4gICAgICAgICAgICB2YXIgc3AgPSB0aGlzLnBhcnNlKGNzLCBTVUJQQVJTRSlcbiAgICAgICAgICAgIHJlID0gcmUuc3Vic3RyKDAsIHJlQ2xhc3NTdGFydCkgKyAnXFxcXFsnICsgc3BbMF0gKyAnXFxcXF0nXG4gICAgICAgICAgICBoYXNNYWdpYyA9IGhhc01hZ2ljIHx8IHNwWzFdXG4gICAgICAgICAgICBpbkNsYXNzID0gZmFsc2VcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmluaXNoIHVwIHRoZSBjbGFzcy5cbiAgICAgICAgaGFzTWFnaWMgPSB0cnVlXG4gICAgICAgIGluQ2xhc3MgPSBmYWxzZVxuICAgICAgICByZSArPSBjXG4gICAgICBjb250aW51ZVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBzd2FsbG93IGFueSBzdGF0ZSBjaGFyIHRoYXQgd2Fzbid0IGNvbnN1bWVkXG4gICAgICAgIGNsZWFyU3RhdGVDaGFyKClcblxuICAgICAgICBpZiAoZXNjYXBpbmcpIHtcbiAgICAgICAgICAvLyBubyBuZWVkXG4gICAgICAgICAgZXNjYXBpbmcgPSBmYWxzZVxuICAgICAgICB9IGVsc2UgaWYgKHJlU3BlY2lhbHNbY11cbiAgICAgICAgICAmJiAhKGMgPT09ICdeJyAmJiBpbkNsYXNzKSkge1xuICAgICAgICAgIHJlICs9ICdcXFxcJ1xuICAgICAgICB9XG5cbiAgICAgICAgcmUgKz0gY1xuXG4gICAgfSAvLyBzd2l0Y2hcbiAgfSAvLyBmb3JcblxuICAvLyBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgd2UgbGVmdCBhIGNsYXNzIG9wZW4uXG4gIC8vIFwiW2FiY1wiIGlzIHZhbGlkLCBlcXVpdmFsZW50IHRvIFwiXFxbYWJjXCJcbiAgaWYgKGluQ2xhc3MpIHtcbiAgICAvLyBzcGxpdCB3aGVyZSB0aGUgbGFzdCBbIHdhcywgYW5kIGVzY2FwZSBpdFxuICAgIC8vIHRoaXMgaXMgYSBodWdlIHBpdGEuICBXZSBub3cgaGF2ZSB0byByZS13YWxrXG4gICAgLy8gdGhlIGNvbnRlbnRzIG9mIHRoZSB3b3VsZC1iZSBjbGFzcyB0byByZS10cmFuc2xhdGVcbiAgICAvLyBhbnkgY2hhcmFjdGVycyB0aGF0IHdlcmUgcGFzc2VkIHRocm91Z2ggYXMtaXNcbiAgICBjcyA9IHBhdHRlcm4uc3Vic3RyKGNsYXNzU3RhcnQgKyAxKVxuICAgIHNwID0gdGhpcy5wYXJzZShjcywgU1VCUEFSU0UpXG4gICAgcmUgPSByZS5zdWJzdHIoMCwgcmVDbGFzc1N0YXJ0KSArICdcXFxcWycgKyBzcFswXVxuICAgIGhhc01hZ2ljID0gaGFzTWFnaWMgfHwgc3BbMV1cbiAgfVxuXG4gIC8vIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB3ZSBoYWQgYSArKCB0aGluZyBhdCB0aGUgKmVuZCpcbiAgLy8gb2YgdGhlIHBhdHRlcm4uXG4gIC8vIGVhY2ggcGF0dGVybiBsaXN0IHN0YWNrIGFkZHMgMyBjaGFycywgYW5kIHdlIG5lZWQgdG8gZ28gdGhyb3VnaFxuICAvLyBhbmQgZXNjYXBlIGFueSB8IGNoYXJzIHRoYXQgd2VyZSBwYXNzZWQgdGhyb3VnaCBhcy1pcyBmb3IgdGhlIHJlZ2V4cC5cbiAgLy8gR28gdGhyb3VnaCBhbmQgZXNjYXBlIHRoZW0sIHRha2luZyBjYXJlIG5vdCB0byBkb3VibGUtZXNjYXBlIGFueVxuICAvLyB8IGNoYXJzIHRoYXQgd2VyZSBhbHJlYWR5IGVzY2FwZWQuXG4gIGZvciAocGwgPSBwYXR0ZXJuTGlzdFN0YWNrLnBvcCgpOyBwbDsgcGwgPSBwYXR0ZXJuTGlzdFN0YWNrLnBvcCgpKSB7XG4gICAgdmFyIHRhaWwgPSByZS5zbGljZShwbC5yZVN0YXJ0ICsgcGwub3Blbi5sZW5ndGgpXG4gICAgdGhpcy5kZWJ1Zygnc2V0dGluZyB0YWlsJywgcmUsIHBsKVxuICAgIC8vIG1heWJlIHNvbWUgZXZlbiBudW1iZXIgb2YgXFwsIHRoZW4gbWF5YmUgMSBcXCwgZm9sbG93ZWQgYnkgYSB8XG4gICAgdGFpbCA9IHRhaWwucmVwbGFjZSgvKCg/OlxcXFx7Mn0pezAsNjR9KShcXFxcPylcXHwvZywgZnVuY3Rpb24gKF8sICQxLCAkMikge1xuICAgICAgaWYgKCEkMikge1xuICAgICAgICAvLyB0aGUgfCBpc24ndCBhbHJlYWR5IGVzY2FwZWQsIHNvIGVzY2FwZSBpdC5cbiAgICAgICAgJDIgPSAnXFxcXCdcbiAgICAgIH1cblxuICAgICAgLy8gbmVlZCB0byBlc2NhcGUgYWxsIHRob3NlIHNsYXNoZXMgKmFnYWluKiwgd2l0aG91dCBlc2NhcGluZyB0aGVcbiAgICAgIC8vIG9uZSB0aGF0IHdlIG5lZWQgZm9yIGVzY2FwaW5nIHRoZSB8IGNoYXJhY3Rlci4gIEFzIGl0IHdvcmtzIG91dCxcbiAgICAgIC8vIGVzY2FwaW5nIGFuIGV2ZW4gbnVtYmVyIG9mIHNsYXNoZXMgY2FuIGJlIGRvbmUgYnkgc2ltcGx5IHJlcGVhdGluZ1xuICAgICAgLy8gaXQgZXhhY3RseSBhZnRlciBpdHNlbGYuICBUaGF0J3Mgd2h5IHRoaXMgdHJpY2sgd29ya3MuXG4gICAgICAvL1xuICAgICAgLy8gSSBhbSBzb3JyeSB0aGF0IHlvdSBoYXZlIHRvIHNlZSB0aGlzLlxuICAgICAgcmV0dXJuICQxICsgJDEgKyAkMiArICd8J1xuICAgIH0pXG5cbiAgICB0aGlzLmRlYnVnKCd0YWlsPSVqXFxuICAgJXMnLCB0YWlsLCB0YWlsLCBwbCwgcmUpXG4gICAgdmFyIHQgPSBwbC50eXBlID09PSAnKicgPyBzdGFyXG4gICAgICA6IHBsLnR5cGUgPT09ICc/JyA/IHFtYXJrXG4gICAgICA6ICdcXFxcJyArIHBsLnR5cGVcblxuICAgIGhhc01hZ2ljID0gdHJ1ZVxuICAgIHJlID0gcmUuc2xpY2UoMCwgcGwucmVTdGFydCkgKyB0ICsgJ1xcXFwoJyArIHRhaWxcbiAgfVxuXG4gIC8vIGhhbmRsZSB0cmFpbGluZyB0aGluZ3MgdGhhdCBvbmx5IG1hdHRlciBhdCB0aGUgdmVyeSBlbmQuXG4gIGNsZWFyU3RhdGVDaGFyKClcbiAgaWYgKGVzY2FwaW5nKSB7XG4gICAgLy8gdHJhaWxpbmcgXFxcXFxuICAgIHJlICs9ICdcXFxcXFxcXCdcbiAgfVxuXG4gIC8vIG9ubHkgbmVlZCB0byBhcHBseSB0aGUgbm9kb3Qgc3RhcnQgaWYgdGhlIHJlIHN0YXJ0cyB3aXRoXG4gIC8vIHNvbWV0aGluZyB0aGF0IGNvdWxkIGNvbmNlaXZhYmx5IGNhcHR1cmUgYSBkb3RcbiAgdmFyIGFkZFBhdHRlcm5TdGFydCA9IGZhbHNlXG4gIHN3aXRjaCAocmUuY2hhckF0KDApKSB7XG4gICAgY2FzZSAnLic6XG4gICAgY2FzZSAnWyc6XG4gICAgY2FzZSAnKCc6IGFkZFBhdHRlcm5TdGFydCA9IHRydWVcbiAgfVxuXG4gIC8vIEhhY2sgdG8gd29yayBhcm91bmQgbGFjayBvZiBuZWdhdGl2ZSBsb29rYmVoaW5kIGluIEpTXG4gIC8vIEEgcGF0dGVybiBsaWtlOiAqLiEoeCkuISh5fHopIG5lZWRzIHRvIGVuc3VyZSB0aGF0IGEgbmFtZVxuICAvLyBsaWtlICdhLnh5ei55eicgZG9lc24ndCBtYXRjaC4gIFNvLCB0aGUgZmlyc3QgbmVnYXRpdmVcbiAgLy8gbG9va2FoZWFkLCBoYXMgdG8gbG9vayBBTEwgdGhlIHdheSBhaGVhZCwgdG8gdGhlIGVuZCBvZlxuICAvLyB0aGUgcGF0dGVybi5cbiAgZm9yICh2YXIgbiA9IG5lZ2F0aXZlTGlzdHMubGVuZ3RoIC0gMTsgbiA+IC0xOyBuLS0pIHtcbiAgICB2YXIgbmwgPSBuZWdhdGl2ZUxpc3RzW25dXG5cbiAgICB2YXIgbmxCZWZvcmUgPSByZS5zbGljZSgwLCBubC5yZVN0YXJ0KVxuICAgIHZhciBubEZpcnN0ID0gcmUuc2xpY2UobmwucmVTdGFydCwgbmwucmVFbmQgLSA4KVxuICAgIHZhciBubExhc3QgPSByZS5zbGljZShubC5yZUVuZCAtIDgsIG5sLnJlRW5kKVxuICAgIHZhciBubEFmdGVyID0gcmUuc2xpY2UobmwucmVFbmQpXG5cbiAgICBubExhc3QgKz0gbmxBZnRlclxuXG4gICAgLy8gSGFuZGxlIG5lc3RlZCBzdHVmZiBsaWtlICooKi5qc3whKCouanNvbikpLCB3aGVyZSBvcGVuIHBhcmVuc1xuICAgIC8vIG1lYW4gdGhhdCB3ZSBzaG91bGQgKm5vdCogaW5jbHVkZSB0aGUgKSBpbiB0aGUgYml0IHRoYXQgaXMgY29uc2lkZXJlZFxuICAgIC8vIFwiYWZ0ZXJcIiB0aGUgbmVnYXRlZCBzZWN0aW9uLlxuICAgIHZhciBvcGVuUGFyZW5zQmVmb3JlID0gbmxCZWZvcmUuc3BsaXQoJygnKS5sZW5ndGggLSAxXG4gICAgdmFyIGNsZWFuQWZ0ZXIgPSBubEFmdGVyXG4gICAgZm9yIChpID0gMDsgaSA8IG9wZW5QYXJlbnNCZWZvcmU7IGkrKykge1xuICAgICAgY2xlYW5BZnRlciA9IGNsZWFuQWZ0ZXIucmVwbGFjZSgvXFwpWysqP10/LywgJycpXG4gICAgfVxuICAgIG5sQWZ0ZXIgPSBjbGVhbkFmdGVyXG5cbiAgICB2YXIgZG9sbGFyID0gJydcbiAgICBpZiAobmxBZnRlciA9PT0gJycgJiYgaXNTdWIgIT09IFNVQlBBUlNFKSB7XG4gICAgICBkb2xsYXIgPSAnJCdcbiAgICB9XG4gICAgdmFyIG5ld1JlID0gbmxCZWZvcmUgKyBubEZpcnN0ICsgbmxBZnRlciArIGRvbGxhciArIG5sTGFzdFxuICAgIHJlID0gbmV3UmVcbiAgfVxuXG4gIC8vIGlmIHRoZSByZSBpcyBub3QgXCJcIiBhdCB0aGlzIHBvaW50LCB0aGVuIHdlIG5lZWQgdG8gbWFrZSBzdXJlXG4gIC8vIGl0IGRvZXNuJ3QgbWF0Y2ggYWdhaW5zdCBhbiBlbXB0eSBwYXRoIHBhcnQuXG4gIC8vIE90aGVyd2lzZSBhLyogd2lsbCBtYXRjaCBhLywgd2hpY2ggaXQgc2hvdWxkIG5vdC5cbiAgaWYgKHJlICE9PSAnJyAmJiBoYXNNYWdpYykge1xuICAgIHJlID0gJyg/PS4pJyArIHJlXG4gIH1cblxuICBpZiAoYWRkUGF0dGVyblN0YXJ0KSB7XG4gICAgcmUgPSBwYXR0ZXJuU3RhcnQgKyByZVxuICB9XG5cbiAgLy8gcGFyc2luZyBqdXN0IGEgcGllY2Ugb2YgYSBsYXJnZXIgcGF0dGVybi5cbiAgaWYgKGlzU3ViID09PSBTVUJQQVJTRSkge1xuICAgIHJldHVybiBbcmUsIGhhc01hZ2ljXVxuICB9XG5cbiAgLy8gc2tpcCB0aGUgcmVnZXhwIGZvciBub24tbWFnaWNhbCBwYXR0ZXJuc1xuICAvLyB1bmVzY2FwZSBhbnl0aGluZyBpbiBpdCwgdGhvdWdoLCBzbyB0aGF0IGl0J2xsIGJlXG4gIC8vIGFuIGV4YWN0IG1hdGNoIGFnYWluc3QgYSBmaWxlIGV0Yy5cbiAgaWYgKCFoYXNNYWdpYykge1xuICAgIHJldHVybiBnbG9iVW5lc2NhcGUocGF0dGVybilcbiAgfVxuXG4gIHZhciBmbGFncyA9IG9wdGlvbnMubm9jYXNlID8gJ2knIDogJydcbiAgdHJ5IHtcbiAgICB2YXIgcmVnRXhwID0gbmV3IFJlZ0V4cCgnXicgKyByZSArICckJywgZmxhZ3MpXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgLy8gSWYgaXQgd2FzIGFuIGludmFsaWQgcmVndWxhciBleHByZXNzaW9uLCB0aGVuIGl0IGNhbid0IG1hdGNoXG4gICAgLy8gYW55dGhpbmcuICBUaGlzIHRyaWNrIGxvb2tzIGZvciBhIGNoYXJhY3RlciBhZnRlciB0aGUgZW5kIG9mXG4gICAgLy8gdGhlIHN0cmluZywgd2hpY2ggaXMgb2YgY291cnNlIGltcG9zc2libGUsIGV4Y2VwdCBpbiBtdWx0aS1saW5lXG4gICAgLy8gbW9kZSwgYnV0IGl0J3Mgbm90IGEgL20gcmVnZXguXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoJyQuJylcbiAgfVxuXG4gIHJlZ0V4cC5fZ2xvYiA9IHBhdHRlcm5cbiAgcmVnRXhwLl9zcmMgPSByZVxuXG4gIHJldHVybiByZWdFeHBcbn1cblxubWluaW1hdGNoLm1ha2VSZSA9IGZ1bmN0aW9uIChwYXR0ZXJuLCBvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgTWluaW1hdGNoKHBhdHRlcm4sIG9wdGlvbnMgfHwge30pLm1ha2VSZSgpXG59XG5cbk1pbmltYXRjaC5wcm90b3R5cGUubWFrZVJlID0gbWFrZVJlXG5mdW5jdGlvbiBtYWtlUmUgKCkge1xuICBpZiAodGhpcy5yZWdleHAgfHwgdGhpcy5yZWdleHAgPT09IGZhbHNlKSByZXR1cm4gdGhpcy5yZWdleHBcblxuICAvLyBhdCB0aGlzIHBvaW50LCB0aGlzLnNldCBpcyBhIDJkIGFycmF5IG9mIHBhcnRpYWxcbiAgLy8gcGF0dGVybiBzdHJpbmdzLCBvciBcIioqXCIuXG4gIC8vXG4gIC8vIEl0J3MgYmV0dGVyIHRvIHVzZSAubWF0Y2goKS4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkbid0XG4gIC8vIGJlIHVzZWQsIHJlYWxseSwgYnV0IGl0J3MgcHJldHR5IGNvbnZlbmllbnQgc29tZXRpbWVzLFxuICAvLyB3aGVuIHlvdSBqdXN0IHdhbnQgdG8gd29yayB3aXRoIGEgcmVnZXguXG4gIHZhciBzZXQgPSB0aGlzLnNldFxuXG4gIGlmICghc2V0Lmxlbmd0aCkge1xuICAgIHRoaXMucmVnZXhwID0gZmFsc2VcbiAgICByZXR1cm4gdGhpcy5yZWdleHBcbiAgfVxuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9uc1xuXG4gIHZhciB0d29TdGFyID0gb3B0aW9ucy5ub2dsb2JzdGFyID8gc3RhclxuICAgIDogb3B0aW9ucy5kb3QgPyB0d29TdGFyRG90XG4gICAgOiB0d29TdGFyTm9Eb3RcbiAgdmFyIGZsYWdzID0gb3B0aW9ucy5ub2Nhc2UgPyAnaScgOiAnJ1xuXG4gIHZhciByZSA9IHNldC5tYXAoZnVuY3Rpb24gKHBhdHRlcm4pIHtcbiAgICByZXR1cm4gcGF0dGVybi5tYXAoZnVuY3Rpb24gKHApIHtcbiAgICAgIHJldHVybiAocCA9PT0gR0xPQlNUQVIpID8gdHdvU3RhclxuICAgICAgOiAodHlwZW9mIHAgPT09ICdzdHJpbmcnKSA/IHJlZ0V4cEVzY2FwZShwKVxuICAgICAgOiBwLl9zcmNcbiAgICB9KS5qb2luKCdcXFxcXFwvJylcbiAgfSkuam9pbignfCcpXG5cbiAgLy8gbXVzdCBtYXRjaCBlbnRpcmUgcGF0dGVyblxuICAvLyBlbmRpbmcgaW4gYSAqIG9yICoqIHdpbGwgbWFrZSBpdCBsZXNzIHN0cmljdC5cbiAgcmUgPSAnXig/OicgKyByZSArICcpJCdcblxuICAvLyBjYW4gbWF0Y2ggYW55dGhpbmcsIGFzIGxvbmcgYXMgaXQncyBub3QgdGhpcy5cbiAgaWYgKHRoaXMubmVnYXRlKSByZSA9ICdeKD8hJyArIHJlICsgJykuKiQnXG5cbiAgdHJ5IHtcbiAgICB0aGlzLnJlZ2V4cCA9IG5ldyBSZWdFeHAocmUsIGZsYWdzKVxuICB9IGNhdGNoIChleCkge1xuICAgIHRoaXMucmVnZXhwID0gZmFsc2VcbiAgfVxuICByZXR1cm4gdGhpcy5yZWdleHBcbn1cblxubWluaW1hdGNoLm1hdGNoID0gZnVuY3Rpb24gKGxpc3QsIHBhdHRlcm4sIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgdmFyIG1tID0gbmV3IE1pbmltYXRjaChwYXR0ZXJuLCBvcHRpb25zKVxuICBsaXN0ID0gbGlzdC5maWx0ZXIoZnVuY3Rpb24gKGYpIHtcbiAgICByZXR1cm4gbW0ubWF0Y2goZilcbiAgfSlcbiAgaWYgKG1tLm9wdGlvbnMubm9udWxsICYmICFsaXN0Lmxlbmd0aCkge1xuICAgIGxpc3QucHVzaChwYXR0ZXJuKVxuICB9XG4gIHJldHVybiBsaXN0XG59XG5cbk1pbmltYXRjaC5wcm90b3R5cGUubWF0Y2ggPSBtYXRjaFxuZnVuY3Rpb24gbWF0Y2ggKGYsIHBhcnRpYWwpIHtcbiAgdGhpcy5kZWJ1ZygnbWF0Y2gnLCBmLCB0aGlzLnBhdHRlcm4pXG4gIC8vIHNob3J0LWNpcmN1aXQgaW4gdGhlIGNhc2Ugb2YgYnVzdGVkIHRoaW5ncy5cbiAgLy8gY29tbWVudHMsIGV0Yy5cbiAgaWYgKHRoaXMuY29tbWVudCkgcmV0dXJuIGZhbHNlXG4gIGlmICh0aGlzLmVtcHR5KSByZXR1cm4gZiA9PT0gJydcblxuICBpZiAoZiA9PT0gJy8nICYmIHBhcnRpYWwpIHJldHVybiB0cnVlXG5cbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnNcblxuICAvLyB3aW5kb3dzOiBuZWVkIHRvIHVzZSAvLCBub3QgXFxcbiAgaWYgKHBhdGguc2VwICE9PSAnLycpIHtcbiAgICBmID0gZi5zcGxpdChwYXRoLnNlcCkuam9pbignLycpXG4gIH1cblxuICAvLyB0cmVhdCB0aGUgdGVzdCBwYXRoIGFzIGEgc2V0IG9mIHBhdGhwYXJ0cy5cbiAgZiA9IGYuc3BsaXQoc2xhc2hTcGxpdClcbiAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sICdzcGxpdCcsIGYpXG5cbiAgLy8ganVzdCBPTkUgb2YgdGhlIHBhdHRlcm4gc2V0cyBpbiB0aGlzLnNldCBuZWVkcyB0byBtYXRjaFxuICAvLyBpbiBvcmRlciBmb3IgaXQgdG8gYmUgdmFsaWQuICBJZiBuZWdhdGluZywgdGhlbiBqdXN0IG9uZVxuICAvLyBtYXRjaCBtZWFucyB0aGF0IHdlIGhhdmUgZmFpbGVkLlxuICAvLyBFaXRoZXIgd2F5LCByZXR1cm4gb24gdGhlIGZpcnN0IGhpdC5cblxuICB2YXIgc2V0ID0gdGhpcy5zZXRcbiAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sICdzZXQnLCBzZXQpXG5cbiAgLy8gRmluZCB0aGUgYmFzZW5hbWUgb2YgdGhlIHBhdGggYnkgbG9va2luZyBmb3IgdGhlIGxhc3Qgbm9uLWVtcHR5IHNlZ21lbnRcbiAgdmFyIGZpbGVuYW1lXG4gIHZhciBpXG4gIGZvciAoaSA9IGYubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBmaWxlbmFtZSA9IGZbaV1cbiAgICBpZiAoZmlsZW5hbWUpIGJyZWFrXG4gIH1cblxuICBmb3IgKGkgPSAwOyBpIDwgc2V0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHBhdHRlcm4gPSBzZXRbaV1cbiAgICB2YXIgZmlsZSA9IGZcbiAgICBpZiAob3B0aW9ucy5tYXRjaEJhc2UgJiYgcGF0dGVybi5sZW5ndGggPT09IDEpIHtcbiAgICAgIGZpbGUgPSBbZmlsZW5hbWVdXG4gICAgfVxuICAgIHZhciBoaXQgPSB0aGlzLm1hdGNoT25lKGZpbGUsIHBhdHRlcm4sIHBhcnRpYWwpXG4gICAgaWYgKGhpdCkge1xuICAgICAgaWYgKG9wdGlvbnMuZmxpcE5lZ2F0ZSkgcmV0dXJuIHRydWVcbiAgICAgIHJldHVybiAhdGhpcy5uZWdhdGVcbiAgICB9XG4gIH1cblxuICAvLyBkaWRuJ3QgZ2V0IGFueSBoaXRzLiAgdGhpcyBpcyBzdWNjZXNzIGlmIGl0J3MgYSBuZWdhdGl2ZVxuICAvLyBwYXR0ZXJuLCBmYWlsdXJlIG90aGVyd2lzZS5cbiAgaWYgKG9wdGlvbnMuZmxpcE5lZ2F0ZSkgcmV0dXJuIGZhbHNlXG4gIHJldHVybiB0aGlzLm5lZ2F0ZVxufVxuXG4vLyBzZXQgcGFydGlhbCB0byB0cnVlIHRvIHRlc3QgaWYsIGZvciBleGFtcGxlLFxuLy8gXCIvYS9iXCIgbWF0Y2hlcyB0aGUgc3RhcnQgb2YgXCIvKi9iLyovZFwiXG4vLyBQYXJ0aWFsIG1lYW5zLCBpZiB5b3UgcnVuIG91dCBvZiBmaWxlIGJlZm9yZSB5b3UgcnVuXG4vLyBvdXQgb2YgcGF0dGVybiwgdGhlbiB0aGF0J3MgZmluZSwgYXMgbG9uZyBhcyBhbGxcbi8vIHRoZSBwYXJ0cyBtYXRjaC5cbk1pbmltYXRjaC5wcm90b3R5cGUubWF0Y2hPbmUgPSBmdW5jdGlvbiAoZmlsZSwgcGF0dGVybiwgcGFydGlhbCkge1xuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9uc1xuXG4gIHRoaXMuZGVidWcoJ21hdGNoT25lJyxcbiAgICB7ICd0aGlzJzogdGhpcywgZmlsZTogZmlsZSwgcGF0dGVybjogcGF0dGVybiB9KVxuXG4gIHRoaXMuZGVidWcoJ21hdGNoT25lJywgZmlsZS5sZW5ndGgsIHBhdHRlcm4ubGVuZ3RoKVxuXG4gIGZvciAodmFyIGZpID0gMCxcbiAgICAgIHBpID0gMCxcbiAgICAgIGZsID0gZmlsZS5sZW5ndGgsXG4gICAgICBwbCA9IHBhdHRlcm4ubGVuZ3RoXG4gICAgICA7IChmaSA8IGZsKSAmJiAocGkgPCBwbClcbiAgICAgIDsgZmkrKywgcGkrKykge1xuICAgIHRoaXMuZGVidWcoJ21hdGNoT25lIGxvb3AnKVxuICAgIHZhciBwID0gcGF0dGVybltwaV1cbiAgICB2YXIgZiA9IGZpbGVbZmldXG5cbiAgICB0aGlzLmRlYnVnKHBhdHRlcm4sIHAsIGYpXG5cbiAgICAvLyBzaG91bGQgYmUgaW1wb3NzaWJsZS5cbiAgICAvLyBzb21lIGludmFsaWQgcmVnZXhwIHN0dWZmIGluIHRoZSBzZXQuXG4gICAgaWYgKHAgPT09IGZhbHNlKSByZXR1cm4gZmFsc2VcblxuICAgIGlmIChwID09PSBHTE9CU1RBUikge1xuICAgICAgdGhpcy5kZWJ1ZygnR0xPQlNUQVInLCBbcGF0dGVybiwgcCwgZl0pXG5cbiAgICAgIC8vIFwiKipcIlxuICAgICAgLy8gYS8qKi9iLyoqL2Mgd291bGQgbWF0Y2ggdGhlIGZvbGxvd2luZzpcbiAgICAgIC8vIGEvYi94L3kvei9jXG4gICAgICAvLyBhL3gveS96L2IvY1xuICAgICAgLy8gYS9iL3gvYi94L2NcbiAgICAgIC8vIGEvYi9jXG4gICAgICAvLyBUbyBkbyB0aGlzLCB0YWtlIHRoZSByZXN0IG9mIHRoZSBwYXR0ZXJuIGFmdGVyXG4gICAgICAvLyB0aGUgKiosIGFuZCBzZWUgaWYgaXQgd291bGQgbWF0Y2ggdGhlIGZpbGUgcmVtYWluZGVyLlxuICAgICAgLy8gSWYgc28sIHJldHVybiBzdWNjZXNzLlxuICAgICAgLy8gSWYgbm90LCB0aGUgKiogXCJzd2FsbG93c1wiIGEgc2VnbWVudCwgYW5kIHRyeSBhZ2Fpbi5cbiAgICAgIC8vIFRoaXMgaXMgcmVjdXJzaXZlbHkgYXdmdWwuXG4gICAgICAvL1xuICAgICAgLy8gYS8qKi9iLyoqL2MgbWF0Y2hpbmcgYS9iL3gveS96L2NcbiAgICAgIC8vIC0gYSBtYXRjaGVzIGFcbiAgICAgIC8vIC0gZG91Ymxlc3RhclxuICAgICAgLy8gICAtIG1hdGNoT25lKGIveC95L3ovYywgYi8qKi9jKVxuICAgICAgLy8gICAgIC0gYiBtYXRjaGVzIGJcbiAgICAgIC8vICAgICAtIGRvdWJsZXN0YXJcbiAgICAgIC8vICAgICAgIC0gbWF0Y2hPbmUoeC95L3ovYywgYykgLT4gbm9cbiAgICAgIC8vICAgICAgIC0gbWF0Y2hPbmUoeS96L2MsIGMpIC0+IG5vXG4gICAgICAvLyAgICAgICAtIG1hdGNoT25lKHovYywgYykgLT4gbm9cbiAgICAgIC8vICAgICAgIC0gbWF0Y2hPbmUoYywgYykgeWVzLCBoaXRcbiAgICAgIHZhciBmciA9IGZpXG4gICAgICB2YXIgcHIgPSBwaSArIDFcbiAgICAgIGlmIChwciA9PT0gcGwpIHtcbiAgICAgICAgdGhpcy5kZWJ1ZygnKiogYXQgdGhlIGVuZCcpXG4gICAgICAgIC8vIGEgKiogYXQgdGhlIGVuZCB3aWxsIGp1c3Qgc3dhbGxvdyB0aGUgcmVzdC5cbiAgICAgICAgLy8gV2UgaGF2ZSBmb3VuZCBhIG1hdGNoLlxuICAgICAgICAvLyBob3dldmVyLCBpdCB3aWxsIG5vdCBzd2FsbG93IC8ueCwgdW5sZXNzXG4gICAgICAgIC8vIG9wdGlvbnMuZG90IGlzIHNldC5cbiAgICAgICAgLy8gLiBhbmQgLi4gYXJlICpuZXZlciogbWF0Y2hlZCBieSAqKiwgZm9yIGV4cGxvc2l2ZWx5XG4gICAgICAgIC8vIGV4cG9uZW50aWFsIHJlYXNvbnMuXG4gICAgICAgIGZvciAoOyBmaSA8IGZsOyBmaSsrKSB7XG4gICAgICAgICAgaWYgKGZpbGVbZmldID09PSAnLicgfHwgZmlsZVtmaV0gPT09ICcuLicgfHxcbiAgICAgICAgICAgICghb3B0aW9ucy5kb3QgJiYgZmlsZVtmaV0uY2hhckF0KDApID09PSAnLicpKSByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICAvLyBvaywgbGV0J3Mgc2VlIGlmIHdlIGNhbiBzd2FsbG93IHdoYXRldmVyIHdlIGNhbi5cbiAgICAgIHdoaWxlIChmciA8IGZsKSB7XG4gICAgICAgIHZhciBzd2FsbG93ZWUgPSBmaWxlW2ZyXVxuXG4gICAgICAgIHRoaXMuZGVidWcoJ1xcbmdsb2JzdGFyIHdoaWxlJywgZmlsZSwgZnIsIHBhdHRlcm4sIHByLCBzd2FsbG93ZWUpXG5cbiAgICAgICAgLy8gWFhYIHJlbW92ZSB0aGlzIHNsaWNlLiAgSnVzdCBwYXNzIHRoZSBzdGFydCBpbmRleC5cbiAgICAgICAgaWYgKHRoaXMubWF0Y2hPbmUoZmlsZS5zbGljZShmciksIHBhdHRlcm4uc2xpY2UocHIpLCBwYXJ0aWFsKSkge1xuICAgICAgICAgIHRoaXMuZGVidWcoJ2dsb2JzdGFyIGZvdW5kIG1hdGNoIScsIGZyLCBmbCwgc3dhbGxvd2VlKVxuICAgICAgICAgIC8vIGZvdW5kIGEgbWF0Y2guXG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjYW4ndCBzd2FsbG93IFwiLlwiIG9yIFwiLi5cIiBldmVyLlxuICAgICAgICAgIC8vIGNhbiBvbmx5IHN3YWxsb3cgXCIuZm9vXCIgd2hlbiBleHBsaWNpdGx5IGFza2VkLlxuICAgICAgICAgIGlmIChzd2FsbG93ZWUgPT09ICcuJyB8fCBzd2FsbG93ZWUgPT09ICcuLicgfHxcbiAgICAgICAgICAgICghb3B0aW9ucy5kb3QgJiYgc3dhbGxvd2VlLmNoYXJBdCgwKSA9PT0gJy4nKSkge1xuICAgICAgICAgICAgdGhpcy5kZWJ1ZygnZG90IGRldGVjdGVkIScsIGZpbGUsIGZyLCBwYXR0ZXJuLCBwcilcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gKiogc3dhbGxvd3MgYSBzZWdtZW50LCBhbmQgY29udGludWUuXG4gICAgICAgICAgdGhpcy5kZWJ1ZygnZ2xvYnN0YXIgc3dhbGxvdyBhIHNlZ21lbnQsIGFuZCBjb250aW51ZScpXG4gICAgICAgICAgZnIrK1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIG5vIG1hdGNoIHdhcyBmb3VuZC5cbiAgICAgIC8vIEhvd2V2ZXIsIGluIHBhcnRpYWwgbW9kZSwgd2UgY2FuJ3Qgc2F5IHRoaXMgaXMgbmVjZXNzYXJpbHkgb3Zlci5cbiAgICAgIC8vIElmIHRoZXJlJ3MgbW9yZSAqcGF0dGVybiogbGVmdCwgdGhlblxuICAgICAgaWYgKHBhcnRpYWwpIHtcbiAgICAgICAgLy8gcmFuIG91dCBvZiBmaWxlXG4gICAgICAgIHRoaXMuZGVidWcoJ1xcbj4+PiBubyBtYXRjaCwgcGFydGlhbD8nLCBmaWxlLCBmciwgcGF0dGVybiwgcHIpXG4gICAgICAgIGlmIChmciA9PT0gZmwpIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICAvLyBzb21ldGhpbmcgb3RoZXIgdGhhbiAqKlxuICAgIC8vIG5vbi1tYWdpYyBwYXR0ZXJucyBqdXN0IGhhdmUgdG8gbWF0Y2ggZXhhY3RseVxuICAgIC8vIHBhdHRlcm5zIHdpdGggbWFnaWMgaGF2ZSBiZWVuIHR1cm5lZCBpbnRvIHJlZ2V4cHMuXG4gICAgdmFyIGhpdFxuICAgIGlmICh0eXBlb2YgcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChvcHRpb25zLm5vY2FzZSkge1xuICAgICAgICBoaXQgPSBmLnRvTG93ZXJDYXNlKCkgPT09IHAudG9Mb3dlckNhc2UoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGl0ID0gZiA9PT0gcFxuICAgICAgfVxuICAgICAgdGhpcy5kZWJ1Zygnc3RyaW5nIG1hdGNoJywgcCwgZiwgaGl0KVxuICAgIH0gZWxzZSB7XG4gICAgICBoaXQgPSBmLm1hdGNoKHApXG4gICAgICB0aGlzLmRlYnVnKCdwYXR0ZXJuIG1hdGNoJywgcCwgZiwgaGl0KVxuICAgIH1cblxuICAgIGlmICghaGl0KSByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIE5vdGU6IGVuZGluZyBpbiAvIG1lYW5zIHRoYXQgd2UnbGwgZ2V0IGEgZmluYWwgXCJcIlxuICAvLyBhdCB0aGUgZW5kIG9mIHRoZSBwYXR0ZXJuLiAgVGhpcyBjYW4gb25seSBtYXRjaCBhXG4gIC8vIGNvcnJlc3BvbmRpbmcgXCJcIiBhdCB0aGUgZW5kIG9mIHRoZSBmaWxlLlxuICAvLyBJZiB0aGUgZmlsZSBlbmRzIGluIC8sIHRoZW4gaXQgY2FuIG9ubHkgbWF0Y2ggYVxuICAvLyBhIHBhdHRlcm4gdGhhdCBlbmRzIGluIC8sIHVubGVzcyB0aGUgcGF0dGVybiBqdXN0XG4gIC8vIGRvZXNuJ3QgaGF2ZSBhbnkgbW9yZSBmb3IgaXQuIEJ1dCwgYS9iLyBzaG91bGQgKm5vdCpcbiAgLy8gbWF0Y2ggXCJhL2IvKlwiLCBldmVuIHRob3VnaCBcIlwiIG1hdGNoZXMgYWdhaW5zdCB0aGVcbiAgLy8gW14vXSo/IHBhdHRlcm4sIGV4Y2VwdCBpbiBwYXJ0aWFsIG1vZGUsIHdoZXJlIGl0IG1pZ2h0XG4gIC8vIHNpbXBseSBub3QgYmUgcmVhY2hlZCB5ZXQuXG4gIC8vIEhvd2V2ZXIsIGEvYi8gc2hvdWxkIHN0aWxsIHNhdGlzZnkgYS8qXG5cbiAgLy8gbm93IGVpdGhlciB3ZSBmZWxsIG9mZiB0aGUgZW5kIG9mIHRoZSBwYXR0ZXJuLCBvciB3ZSdyZSBkb25lLlxuICBpZiAoZmkgPT09IGZsICYmIHBpID09PSBwbCkge1xuICAgIC8vIHJhbiBvdXQgb2YgcGF0dGVybiBhbmQgZmlsZW5hbWUgYXQgdGhlIHNhbWUgdGltZS5cbiAgICAvLyBhbiBleGFjdCBoaXQhXG4gICAgcmV0dXJuIHRydWVcbiAgfSBlbHNlIGlmIChmaSA9PT0gZmwpIHtcbiAgICAvLyByYW4gb3V0IG9mIGZpbGUsIGJ1dCBzdGlsbCBoYWQgcGF0dGVybiBsZWZ0LlxuICAgIC8vIHRoaXMgaXMgb2sgaWYgd2UncmUgZG9pbmcgdGhlIG1hdGNoIGFzIHBhcnQgb2ZcbiAgICAvLyBhIGdsb2IgZnMgdHJhdmVyc2FsLlxuICAgIHJldHVybiBwYXJ0aWFsXG4gIH0gZWxzZSBpZiAocGkgPT09IHBsKSB7XG4gICAgLy8gcmFuIG91dCBvZiBwYXR0ZXJuLCBzdGlsbCBoYXZlIGZpbGUgbGVmdC5cbiAgICAvLyB0aGlzIGlzIG9ubHkgYWNjZXB0YWJsZSBpZiB3ZSdyZSBvbiB0aGUgdmVyeSBsYXN0XG4gICAgLy8gZW1wdHkgc2VnbWVudCBvZiBhIGZpbGUgd2l0aCBhIHRyYWlsaW5nIHNsYXNoLlxuICAgIC8vIGEvKiBzaG91bGQgbWF0Y2ggYS9iL1xuICAgIHZhciBlbXB0eUZpbGVFbmQgPSAoZmkgPT09IGZsIC0gMSkgJiYgKGZpbGVbZmldID09PSAnJylcbiAgICByZXR1cm4gZW1wdHlGaWxlRW5kXG4gIH1cblxuICAvLyBzaG91bGQgYmUgdW5yZWFjaGFibGUuXG4gIHRocm93IG5ldyBFcnJvcignd3RmPycpXG59XG5cbi8vIHJlcGxhY2Ugc3R1ZmYgbGlrZSBcXCogd2l0aCAqXG5mdW5jdGlvbiBnbG9iVW5lc2NhcGUgKHMpIHtcbiAgcmV0dXJuIHMucmVwbGFjZSgvXFxcXCguKS9nLCAnJDEnKVxufVxuXG5mdW5jdGlvbiByZWdFeHBFc2NhcGUgKHMpIHtcbiAgcmV0dXJuIHMucmVwbGFjZSgvWy1bXFxde30oKSorPy4sXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiZXZlbnRzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNoaWxkX3Byb2Nlc3NcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwidXRpbFwiKTsiLCJ2YXIgY29uY2F0TWFwID0gcmVxdWlyZSgnY29uY2F0LW1hcCcpO1xudmFyIGJhbGFuY2VkID0gcmVxdWlyZSgnYmFsYW5jZWQtbWF0Y2gnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBhbmRUb3A7XG5cbnZhciBlc2NTbGFzaCA9ICdcXDBTTEFTSCcrTWF0aC5yYW5kb20oKSsnXFwwJztcbnZhciBlc2NPcGVuID0gJ1xcME9QRU4nK01hdGgucmFuZG9tKCkrJ1xcMCc7XG52YXIgZXNjQ2xvc2UgPSAnXFwwQ0xPU0UnK01hdGgucmFuZG9tKCkrJ1xcMCc7XG52YXIgZXNjQ29tbWEgPSAnXFwwQ09NTUEnK01hdGgucmFuZG9tKCkrJ1xcMCc7XG52YXIgZXNjUGVyaW9kID0gJ1xcMFBFUklPRCcrTWF0aC5yYW5kb20oKSsnXFwwJztcblxuZnVuY3Rpb24gbnVtZXJpYyhzdHIpIHtcbiAgcmV0dXJuIHBhcnNlSW50KHN0ciwgMTApID09IHN0clxuICAgID8gcGFyc2VJbnQoc3RyLCAxMClcbiAgICA6IHN0ci5jaGFyQ29kZUF0KDApO1xufVxuXG5mdW5jdGlvbiBlc2NhcGVCcmFjZXMoc3RyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoJ1xcXFxcXFxcJykuam9pbihlc2NTbGFzaClcbiAgICAgICAgICAgIC5zcGxpdCgnXFxcXHsnKS5qb2luKGVzY09wZW4pXG4gICAgICAgICAgICAuc3BsaXQoJ1xcXFx9Jykuam9pbihlc2NDbG9zZSlcbiAgICAgICAgICAgIC5zcGxpdCgnXFxcXCwnKS5qb2luKGVzY0NvbW1hKVxuICAgICAgICAgICAgLnNwbGl0KCdcXFxcLicpLmpvaW4oZXNjUGVyaW9kKTtcbn1cblxuZnVuY3Rpb24gdW5lc2NhcGVCcmFjZXMoc3RyKSB7XG4gIHJldHVybiBzdHIuc3BsaXQoZXNjU2xhc2gpLmpvaW4oJ1xcXFwnKVxuICAgICAgICAgICAgLnNwbGl0KGVzY09wZW4pLmpvaW4oJ3snKVxuICAgICAgICAgICAgLnNwbGl0KGVzY0Nsb3NlKS5qb2luKCd9JylcbiAgICAgICAgICAgIC5zcGxpdChlc2NDb21tYSkuam9pbignLCcpXG4gICAgICAgICAgICAuc3BsaXQoZXNjUGVyaW9kKS5qb2luKCcuJyk7XG59XG5cblxuLy8gQmFzaWNhbGx5IGp1c3Qgc3RyLnNwbGl0KFwiLFwiKSwgYnV0IGhhbmRsaW5nIGNhc2VzXG4vLyB3aGVyZSB3ZSBoYXZlIG5lc3RlZCBicmFjZWQgc2VjdGlvbnMsIHdoaWNoIHNob3VsZCBiZVxuLy8gdHJlYXRlZCBhcyBpbmRpdmlkdWFsIG1lbWJlcnMsIGxpa2Uge2Ese2IsY30sZH1cbmZ1bmN0aW9uIHBhcnNlQ29tbWFQYXJ0cyhzdHIpIHtcbiAgaWYgKCFzdHIpXG4gICAgcmV0dXJuIFsnJ107XG5cbiAgdmFyIHBhcnRzID0gW107XG4gIHZhciBtID0gYmFsYW5jZWQoJ3snLCAnfScsIHN0cik7XG5cbiAgaWYgKCFtKVxuICAgIHJldHVybiBzdHIuc3BsaXQoJywnKTtcblxuICB2YXIgcHJlID0gbS5wcmU7XG4gIHZhciBib2R5ID0gbS5ib2R5O1xuICB2YXIgcG9zdCA9IG0ucG9zdDtcbiAgdmFyIHAgPSBwcmUuc3BsaXQoJywnKTtcblxuICBwW3AubGVuZ3RoLTFdICs9ICd7JyArIGJvZHkgKyAnfSc7XG4gIHZhciBwb3N0UGFydHMgPSBwYXJzZUNvbW1hUGFydHMocG9zdCk7XG4gIGlmIChwb3N0Lmxlbmd0aCkge1xuICAgIHBbcC5sZW5ndGgtMV0gKz0gcG9zdFBhcnRzLnNoaWZ0KCk7XG4gICAgcC5wdXNoLmFwcGx5KHAsIHBvc3RQYXJ0cyk7XG4gIH1cblxuICBwYXJ0cy5wdXNoLmFwcGx5KHBhcnRzLCBwKTtcblxuICByZXR1cm4gcGFydHM7XG59XG5cbmZ1bmN0aW9uIGV4cGFuZFRvcChzdHIpIHtcbiAgaWYgKCFzdHIpXG4gICAgcmV0dXJuIFtdO1xuXG4gIC8vIEkgZG9uJ3Qga25vdyB3aHkgQmFzaCA0LjMgZG9lcyB0aGlzLCBidXQgaXQgZG9lcy5cbiAgLy8gQW55dGhpbmcgc3RhcnRpbmcgd2l0aCB7fSB3aWxsIGhhdmUgdGhlIGZpcnN0IHR3byBieXRlcyBwcmVzZXJ2ZWRcbiAgLy8gYnV0ICpvbmx5KiBhdCB0aGUgdG9wIGxldmVsLCBzbyB7fSxhfWIgd2lsbCBub3QgZXhwYW5kIHRvIGFueXRoaW5nLFxuICAvLyBidXQgYXt9LGJ9YyB3aWxsIGJlIGV4cGFuZGVkIHRvIFthfWMsYWJjXS5cbiAgLy8gT25lIGNvdWxkIGFyZ3VlIHRoYXQgdGhpcyBpcyBhIGJ1ZyBpbiBCYXNoLCBidXQgc2luY2UgdGhlIGdvYWwgb2ZcbiAgLy8gdGhpcyBtb2R1bGUgaXMgdG8gbWF0Y2ggQmFzaCdzIHJ1bGVzLCB3ZSBlc2NhcGUgYSBsZWFkaW5nIHt9XG4gIGlmIChzdHIuc3Vic3RyKDAsIDIpID09PSAne30nKSB7XG4gICAgc3RyID0gJ1xcXFx7XFxcXH0nICsgc3RyLnN1YnN0cigyKTtcbiAgfVxuXG4gIHJldHVybiBleHBhbmQoZXNjYXBlQnJhY2VzKHN0ciksIHRydWUpLm1hcCh1bmVzY2FwZUJyYWNlcyk7XG59XG5cbmZ1bmN0aW9uIGlkZW50aXR5KGUpIHtcbiAgcmV0dXJuIGU7XG59XG5cbmZ1bmN0aW9uIGVtYnJhY2Uoc3RyKSB7XG4gIHJldHVybiAneycgKyBzdHIgKyAnfSc7XG59XG5mdW5jdGlvbiBpc1BhZGRlZChlbCkge1xuICByZXR1cm4gL14tPzBcXGQvLnRlc3QoZWwpO1xufVxuXG5mdW5jdGlvbiBsdGUoaSwgeSkge1xuICByZXR1cm4gaSA8PSB5O1xufVxuZnVuY3Rpb24gZ3RlKGksIHkpIHtcbiAgcmV0dXJuIGkgPj0geTtcbn1cblxuZnVuY3Rpb24gZXhwYW5kKHN0ciwgaXNUb3ApIHtcbiAgdmFyIGV4cGFuc2lvbnMgPSBbXTtcblxuICB2YXIgbSA9IGJhbGFuY2VkKCd7JywgJ30nLCBzdHIpO1xuICBpZiAoIW0gfHwgL1xcJCQvLnRlc3QobS5wcmUpKSByZXR1cm4gW3N0cl07XG5cbiAgdmFyIGlzTnVtZXJpY1NlcXVlbmNlID0gL14tP1xcZCtcXC5cXC4tP1xcZCsoPzpcXC5cXC4tP1xcZCspPyQvLnRlc3QobS5ib2R5KTtcbiAgdmFyIGlzQWxwaGFTZXF1ZW5jZSA9IC9eW2EtekEtWl1cXC5cXC5bYS16QS1aXSg/OlxcLlxcLi0/XFxkKyk/JC8udGVzdChtLmJvZHkpO1xuICB2YXIgaXNTZXF1ZW5jZSA9IGlzTnVtZXJpY1NlcXVlbmNlIHx8IGlzQWxwaGFTZXF1ZW5jZTtcbiAgdmFyIGlzT3B0aW9ucyA9IG0uYm9keS5pbmRleE9mKCcsJykgPj0gMDtcbiAgaWYgKCFpc1NlcXVlbmNlICYmICFpc09wdGlvbnMpIHtcbiAgICAvLyB7YX0sYn1cbiAgICBpZiAobS5wb3N0Lm1hdGNoKC8sLipcXH0vKSkge1xuICAgICAgc3RyID0gbS5wcmUgKyAneycgKyBtLmJvZHkgKyBlc2NDbG9zZSArIG0ucG9zdDtcbiAgICAgIHJldHVybiBleHBhbmQoc3RyKTtcbiAgICB9XG4gICAgcmV0dXJuIFtzdHJdO1xuICB9XG5cbiAgdmFyIG47XG4gIGlmIChpc1NlcXVlbmNlKSB7XG4gICAgbiA9IG0uYm9keS5zcGxpdCgvXFwuXFwuLyk7XG4gIH0gZWxzZSB7XG4gICAgbiA9IHBhcnNlQ29tbWFQYXJ0cyhtLmJvZHkpO1xuICAgIGlmIChuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8geHt7YSxifX15ID09PiB4e2F9eSB4e2J9eVxuICAgICAgbiA9IGV4cGFuZChuWzBdLCBmYWxzZSkubWFwKGVtYnJhY2UpO1xuICAgICAgaWYgKG4ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHZhciBwb3N0ID0gbS5wb3N0Lmxlbmd0aFxuICAgICAgICAgID8gZXhwYW5kKG0ucG9zdCwgZmFsc2UpXG4gICAgICAgICAgOiBbJyddO1xuICAgICAgICByZXR1cm4gcG9zdC5tYXAoZnVuY3Rpb24ocCkge1xuICAgICAgICAgIHJldHVybiBtLnByZSArIG5bMF0gKyBwO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBhdCB0aGlzIHBvaW50LCBuIGlzIHRoZSBwYXJ0cywgYW5kIHdlIGtub3cgaXQncyBub3QgYSBjb21tYSBzZXRcbiAgLy8gd2l0aCBhIHNpbmdsZSBlbnRyeS5cblxuICAvLyBubyBuZWVkIHRvIGV4cGFuZCBwcmUsIHNpbmNlIGl0IGlzIGd1YXJhbnRlZWQgdG8gYmUgZnJlZSBvZiBicmFjZS1zZXRzXG4gIHZhciBwcmUgPSBtLnByZTtcbiAgdmFyIHBvc3QgPSBtLnBvc3QubGVuZ3RoXG4gICAgPyBleHBhbmQobS5wb3N0LCBmYWxzZSlcbiAgICA6IFsnJ107XG5cbiAgdmFyIE47XG5cbiAgaWYgKGlzU2VxdWVuY2UpIHtcbiAgICB2YXIgeCA9IG51bWVyaWMoblswXSk7XG4gICAgdmFyIHkgPSBudW1lcmljKG5bMV0pO1xuICAgIHZhciB3aWR0aCA9IE1hdGgubWF4KG5bMF0ubGVuZ3RoLCBuWzFdLmxlbmd0aClcbiAgICB2YXIgaW5jciA9IG4ubGVuZ3RoID09IDNcbiAgICAgID8gTWF0aC5hYnMobnVtZXJpYyhuWzJdKSlcbiAgICAgIDogMTtcbiAgICB2YXIgdGVzdCA9IGx0ZTtcbiAgICB2YXIgcmV2ZXJzZSA9IHkgPCB4O1xuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICBpbmNyICo9IC0xO1xuICAgICAgdGVzdCA9IGd0ZTtcbiAgICB9XG4gICAgdmFyIHBhZCA9IG4uc29tZShpc1BhZGRlZCk7XG5cbiAgICBOID0gW107XG5cbiAgICBmb3IgKHZhciBpID0geDsgdGVzdChpLCB5KTsgaSArPSBpbmNyKSB7XG4gICAgICB2YXIgYztcbiAgICAgIGlmIChpc0FscGhhU2VxdWVuY2UpIHtcbiAgICAgICAgYyA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSk7XG4gICAgICAgIGlmIChjID09PSAnXFxcXCcpXG4gICAgICAgICAgYyA9ICcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYyA9IFN0cmluZyhpKTtcbiAgICAgICAgaWYgKHBhZCkge1xuICAgICAgICAgIHZhciBuZWVkID0gd2lkdGggLSBjLmxlbmd0aDtcbiAgICAgICAgICBpZiAobmVlZCA+IDApIHtcbiAgICAgICAgICAgIHZhciB6ID0gbmV3IEFycmF5KG5lZWQgKyAxKS5qb2luKCcwJyk7XG4gICAgICAgICAgICBpZiAoaSA8IDApXG4gICAgICAgICAgICAgIGMgPSAnLScgKyB6ICsgYy5zbGljZSgxKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgYyA9IHogKyBjO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgTi5wdXNoKGMpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBOID0gY29uY2F0TWFwKG4sIGZ1bmN0aW9uKGVsKSB7IHJldHVybiBleHBhbmQoZWwsIGZhbHNlKSB9KTtcbiAgfVxuXG4gIGZvciAodmFyIGogPSAwOyBqIDwgTi5sZW5ndGg7IGorKykge1xuICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcG9zdC5sZW5ndGg7IGsrKykge1xuICAgICAgdmFyIGV4cGFuc2lvbiA9IHByZSArIE5bal0gKyBwb3N0W2tdO1xuICAgICAgaWYgKCFpc1RvcCB8fCBpc1NlcXVlbmNlIHx8IGV4cGFuc2lvbilcbiAgICAgICAgZXhwYW5zaW9ucy5wdXNoKGV4cGFuc2lvbik7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGV4cGFuc2lvbnM7XG59XG5cbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHhzLCBmbikge1xuICAgIHZhciByZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB4ID0gZm4oeHNbaV0sIGkpO1xuICAgICAgICBpZiAoaXNBcnJheSh4KSkgcmVzLnB1c2guYXBwbHkocmVzLCB4KTtcbiAgICAgICAgZWxzZSByZXMucHVzaCh4KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn07XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoeHMpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHhzKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbn07XG4iLCIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGJhbGFuY2VkO1xuZnVuY3Rpb24gYmFsYW5jZWQoYSwgYiwgc3RyKSB7XG4gIGlmIChhIGluc3RhbmNlb2YgUmVnRXhwKSBhID0gbWF5YmVNYXRjaChhLCBzdHIpO1xuICBpZiAoYiBpbnN0YW5jZW9mIFJlZ0V4cCkgYiA9IG1heWJlTWF0Y2goYiwgc3RyKTtcblxuICB2YXIgciA9IHJhbmdlKGEsIGIsIHN0cik7XG5cbiAgcmV0dXJuIHIgJiYge1xuICAgIHN0YXJ0OiByWzBdLFxuICAgIGVuZDogclsxXSxcbiAgICBwcmU6IHN0ci5zbGljZSgwLCByWzBdKSxcbiAgICBib2R5OiBzdHIuc2xpY2UoclswXSArIGEubGVuZ3RoLCByWzFdKSxcbiAgICBwb3N0OiBzdHIuc2xpY2UoclsxXSArIGIubGVuZ3RoKVxuICB9O1xufVxuXG5mdW5jdGlvbiBtYXliZU1hdGNoKHJlZywgc3RyKSB7XG4gIHZhciBtID0gc3RyLm1hdGNoKHJlZyk7XG4gIHJldHVybiBtID8gbVswXSA6IG51bGw7XG59XG5cbmJhbGFuY2VkLnJhbmdlID0gcmFuZ2U7XG5mdW5jdGlvbiByYW5nZShhLCBiLCBzdHIpIHtcbiAgdmFyIGJlZ3MsIGJlZywgbGVmdCwgcmlnaHQsIHJlc3VsdDtcbiAgdmFyIGFpID0gc3RyLmluZGV4T2YoYSk7XG4gIHZhciBiaSA9IHN0ci5pbmRleE9mKGIsIGFpICsgMSk7XG4gIHZhciBpID0gYWk7XG5cbiAgaWYgKGFpID49IDAgJiYgYmkgPiAwKSB7XG4gICAgYmVncyA9IFtdO1xuICAgIGxlZnQgPSBzdHIubGVuZ3RoO1xuXG4gICAgd2hpbGUgKGkgPj0gMCAmJiAhcmVzdWx0KSB7XG4gICAgICBpZiAoaSA9PSBhaSkge1xuICAgICAgICBiZWdzLnB1c2goaSk7XG4gICAgICAgIGFpID0gc3RyLmluZGV4T2YoYSwgaSArIDEpO1xuICAgICAgfSBlbHNlIGlmIChiZWdzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgIHJlc3VsdCA9IFsgYmVncy5wb3AoKSwgYmkgXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJlZyA9IGJlZ3MucG9wKCk7XG4gICAgICAgIGlmIChiZWcgPCBsZWZ0KSB7XG4gICAgICAgICAgbGVmdCA9IGJlZztcbiAgICAgICAgICByaWdodCA9IGJpO1xuICAgICAgICB9XG5cbiAgICAgICAgYmkgPSBzdHIuaW5kZXhPZihiLCBpICsgMSk7XG4gICAgICB9XG5cbiAgICAgIGkgPSBhaSA8IGJpICYmIGFpID49IDAgPyBhaSA6IGJpO1xuICAgIH1cblxuICAgIGlmIChiZWdzLmxlbmd0aCkge1xuICAgICAgcmVzdWx0ID0gWyBsZWZ0LCByaWdodCBdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB2YXJuYW1lID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgY2FtZWxiYWNrOiBjYW1lbGJhY2ssXG4gICAgY2FtZWxjYXNlOiBjYW1lbGNhc2UsXG4gICAgZGFzaDogZGFzaCxcbiAgICB1bmRlcnNjb3JlOiB1bmRlcnNjb3JlLFxuICAgIHNwbGl0OiBzcGxpdFxufTtcblxuLy8gQ29udmVydCBhIHZhcmlhYmxlIG5hbWUgc3RyaW5nIHRvIGNhbWVsYmFjayBzdHlsZVxuZnVuY3Rpb24gY2FtZWxiYWNrIChuYW1lKSB7XG4gICAgdmFyIHBhcnRzID0gdmFybmFtZS5zcGxpdChuYW1lKTtcbiAgICByZXR1cm4gcGFydHMuc2hpZnQoKSArIHRpdGxlQ2FzZVdvcmRzKHBhcnRzKS5qb2luKCcnKTtcbn1cblxuLy8gQ29udmVydCBhIHZhcmlhYmxlIG5hbWUgc3RyaW5nIHRvIGNhbWVsY2FzZSBzdHlsZVxuZnVuY3Rpb24gY2FtZWxjYXNlIChuYW1lKSB7XG4gICAgdmFyIHBhcnRzID0gdmFybmFtZS5zcGxpdChuYW1lKTtcbiAgICByZXR1cm4gdGl0bGVDYXNlV29yZHMocGFydHMpLmpvaW4oJycpO1xufVxuXG4vLyBDb252ZXJ0IGEgdmFyaWFibGUgbmFtZSBzdHJpbmcgdG8gZGFzaC1zZXBhcmF0ZWQgc3R5bGVcbmZ1bmN0aW9uIGRhc2ggKG5hbWUpIHtcbiAgICByZXR1cm4gdmFybmFtZS5zcGxpdChuYW1lKS5qb2luKCctJyk7XG59XG5cbi8vIENvbnZlcnQgYSB2YXJpYWJsZSBuYW1lIHN0cmluZyB0byB1bmRlcnNjb3JlLXNlcGFyYXRlZCBzdHlsZVxuZnVuY3Rpb24gdW5kZXJzY29yZSAobmFtZSkge1xuICAgIHJldHVybiB2YXJuYW1lLnNwbGl0KG5hbWUpLmpvaW4oJ18nKTtcbn1cblxuLy8gU3BsaXQgYSB2YXJpYWJsZSBuYW1lIHN0cmluZyBpbnRvIHBhcnRzXG5mdW5jdGlvbiBzcGxpdCAobmFtZSkge1xuICAgIG5hbWUgPSBuYW1lXG4gICAgICAgIC5yZXBsYWNlKC9bXmEtejAtOV0rL2dpLCAnICcpXG4gICAgICAgIC5yZXBsYWNlKC8oW0EtWjAtOV0rKShbQS1aXVthLXpdKS9nLCAnJDEgJDInKVxuICAgICAgICAucmVwbGFjZSgvKFthLXowLTldKShbQS1aXSkvZywgJyQxICQyJylcbiAgICAgICAgLnRvTG93ZXJDYXNlKCk7XG4gICAgcmV0dXJuIHRyaW0obmFtZSkuc3BsaXQoL1xccysvKTtcbn1cblxuLy8gVHJpbSB3aGl0ZXNwYWNlIGZyb20gYSBzdHJpbmdcbmZ1bmN0aW9uIHRyaW0gKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xufVxuXG4vLyBDb252ZXJ0IGFsbCBzdHJpbmdzIGluIGFuIGFycmF5IHRvIHRpdGxlLWNhc2VcbmZ1bmN0aW9uIHRpdGxlQ2FzZVdvcmRzIChwYXJ0cykge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkgKyspIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHBhcnRzW2ldLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgcGFydHNbaV0uc3Vic3RyKDEpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG59XG4iLCJleHBvcnQgZW51bSBJRW50cnlUeXBlIHtcbiAgRklMRSA9IDEsXG4gIERJUkVDVE9SWSA9IDJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRW50cnkge1xuICB0eXBlOiBJRW50cnlUeXBlO1xuICBmaWxlbmFtZTogc3RyaW5nO1xuICBiYXNlZGlyOiBzdHJpbmc7XG4gIGV4cG9ydGVkTmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElBc3NldHNPcHRpb25zIHtcbiAgbW9kdWxlOiBcImVzNlwiIHwgXCJjb21tb25qc1wiO1xuICBmaWxldHlwZTogXCJ0c1wiIHwgXCJqc1wiO1xuICBtYXRjaDogc3RyaW5nO1xuICBhc3NldHNQYXRoTGlzdDogc3RyaW5nW107XG4gIGV4cG9ydFJlYWN0Q29tcG9uZW50Rm9yU3ZnOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdEFzc2V0c09wdGlvbnM6IElBc3NldHNPcHRpb25zID0ge1xuICBtb2R1bGU6IFwiZXM2XCIsXG4gIGZpbGV0eXBlOiBcInRzXCIsXG4gIG1hdGNoOiBcIiouKyhwbmd8anBnfHBuZ3xzdmd8cGRmfGdpZnxtb3Z8aWNvfHhtbClcIixcbiAgYXNzZXRzUGF0aExpc3Q6IFtcIi4vYXNzZXRzXCJdLFxuICBleHBvcnRSZWFjdENvbXBvbmVudEZvclN2ZzogZmFsc2Vcbn07XG4iLCJpbXBvcnQge1xuICBJRW50cnksXG4gIElFbnRyeVR5cGUsXG4gIGRlZmF1bHRBc3NldHNPcHRpb25zLFxuICBJQXNzZXRzT3B0aW9uc1xufSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0ICogYXMgZnMgZnJvbSBcImZzXCI7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgKiBhcyBtaW5pbWF0Y2ggZnJvbSBcIm1pbmltYXRjaFwiO1xuLy8gTm8gdHlwZSBkZWZpbmVkIGZpbGVcbmNvbnN0IHZhcm5hbWUgPSByZXF1aXJlKFwidmFybmFtZVwiKTtcblxuZXhwb3J0IGNsYXNzIFBhcnNlciB7XG4gIHB1YmxpYyBzdGF0aWMgcGFyc2VEaXJlY3RvcnkoXG4gICAgZGlycGF0aDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IElBc3NldHNPcHRpb25zID0gZGVmYXVsdEFzc2V0c09wdGlvbnNcbiAgKTogSUVudHJ5W10gfCB1bmRlZmluZWQge1xuICAgIGxldCBkaXJTdGF0cztcbiAgICB0cnkge1xuICAgICAgZGlyU3RhdHMgPSBmcy5sc3RhdFN5bmMoZGlycGF0aCk7XG5cbiAgICAgIGlmICghZGlyU3RhdHMuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY29uc3QgZmlsZW5hbWVzID0gZnMucmVhZGRpclN5bmMoZGlycGF0aCk7XG5cbiAgICByZXR1cm4gZmlsZW5hbWVzXG4gICAgICAubWFwKGZpbGVuYW1lID0+IHtcbiAgICAgICAgY29uc3Qgc3RhdHMgPSBmcy5sc3RhdFN5bmMocGF0aC5yZXNvbHZlKGRpcnBhdGgsIGZpbGVuYW1lKSk7XG4gICAgICAgIHJldHVybiB7IGZpbGVuYW1lLCBzdGF0cyB9O1xuICAgICAgfSlcbiAgICAgIC5maWx0ZXIoKHsgZmlsZW5hbWUsIHN0YXRzIH0pID0+IHtcbiAgICAgICAgLy8gT25seSBwcm9jZXNzIHJlZ3VsYXIgZmlsZSBvciBkaXJlY3RvcnlcbiAgICAgICAgaWYgKHN0YXRzLmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0cy5pc0ZpbGUoKSkge1xuICAgICAgICAgIC8vIGlmIHR5cGUgaXMgZmlsZSwgY2hlY2sgbWF0Y2ggb3B0aW9uIHRvIGRldGVybWluZSBpZiBuZWVkXG4gICAgICAgICAgcmV0dXJuIG1pbmltYXRjaChmaWxlbmFtZSwgb3B0aW9ucy5tYXRjaCwgeyBtYXRjaEJhc2U6IHRydWUgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KVxuICAgICAgLm1hcCgoeyBmaWxlbmFtZSwgc3RhdHMgfSkgPT4ge1xuICAgICAgICBjb25zdCByYXdFeHBvcnRlZE5hbWUgPSB2YXJuYW1lLmNhbWVsYmFjayhmaWxlbmFtZSkgYXMgc3RyaW5nO1xuICAgICAgICAvLyBJZiBpdCBpcyBhIG51bWJlciAsIGFkZCBwcmVmaXhcbiAgICAgICAgY29uc3QgZXhwb3J0ZWROYW1lID0gL1xcZC8udGVzdChyYXdFeHBvcnRlZE5hbWUuc3Vic3RyKDAsIDEpKVxuICAgICAgICAgID8gXCJudW1cIiArIHJhd0V4cG9ydGVkTmFtZVxuICAgICAgICAgIDogcmF3RXhwb3J0ZWROYW1lO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdHlwZTogc3RhdHMuaXNEaXJlY3RvcnkoKSA/IElFbnRyeVR5cGUuRElSRUNUT1JZIDogSUVudHJ5VHlwZS5GSUxFLFxuICAgICAgICAgIGZpbGVuYW1lLFxuICAgICAgICAgIGJhc2VkaXI6IGRpcnBhdGgsXG4gICAgICAgICAgZXhwb3J0ZWROYW1lOiBleHBvcnRlZE5hbWVcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBJQXNzZXRzT3B0aW9ucywgZGVmYXVsdEFzc2V0c09wdGlvbnMsIElFbnRyeVR5cGUgfSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0IHsgR2VuZXJhdG9yIH0gZnJvbSBcIi4vZ2VuZXJhdG9yXCI7XG5pbXBvcnQgeyBQYXJzZXIgfSBmcm9tIFwiLi9wYXJzZXJcIjtcbmltcG9ydCAqIGFzIHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCAqIGFzIGZzIGZyb20gXCJmc1wiO1xuXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVJbmRleEZpbGVGb3JEaXJlY3RvcnkgPSAoXG4gIGRpcnBhdGg6IHN0cmluZyxcbiAgcmVjdXJzaXZlOiBib29sZWFuLFxuICBvcHRpb25zOiBJQXNzZXRzT3B0aW9ucyA9IGRlZmF1bHRBc3NldHNPcHRpb25zLFxuICB2ZXJib3NlOiBib29sZWFuID0gZmFsc2VcbikgPT4ge1xuICBjb25zdCBlbnRyeUxpc3QgPSBQYXJzZXIucGFyc2VEaXJlY3RvcnkoZGlycGF0aCwgb3B0aW9ucyk7XG5cbiAgaWYgKGVudHJ5TGlzdCkge1xuICAgIGxldCBpbmRleEZpbGVuYW1lID0gXCJpbmRleFwiO1xuICAgIGNvbnN0IGluZGV4RmlsZUNvbnRlbnQgPSBHZW5lcmF0b3IuZ2VuZXJhdGVDb250ZW50QnlFbnRlcnlMaXN0KFxuICAgICAgZW50cnlMaXN0LFxuICAgICAgb3B0aW9uc1xuICAgICk7XG5cbiAgICBpZiAob3B0aW9ucy5maWxldHlwZSA9PT0gXCJ0c1wiKSB7XG4gICAgICBpbmRleEZpbGVuYW1lICs9IFwiLnRzXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluZGV4RmlsZW5hbWUgKz0gXCIuanNcIjtcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleEZpbGVGdWxsUGF0aCA9IHBhdGgucmVzb2x2ZShkaXJwYXRoLCBpbmRleEZpbGVuYW1lKTtcbiAgICBmcy53cml0ZUZpbGVTeW5jKGluZGV4RmlsZUZ1bGxQYXRoLCBpbmRleEZpbGVDb250ZW50KTtcbiAgICBpZiAodmVyYm9zZSkge1xuICAgICAgY29uc29sZS5sb2coYEdlbmVyYXRlZCAke2luZGV4RmlsZW5hbWV9IG9uIGRpcmVjdG9yeTogJHtkaXJwYXRofWApO1xuICAgIH1cblxuICAgIC8vIGlmIHJlY3Vyc2l2ZSBzZXQsIHJlY3Vyc2l2ZWx5IHByb2Nlc3MgYWxsIHN1Yi1kaXJlY3RvcnlcbiAgICBpZiAocmVjdXJzaXZlKSB7XG4gICAgICBlbnRyeUxpc3RcbiAgICAgICAgLmZpbHRlcihlbnRyeSA9PiBlbnRyeS50eXBlID09PSBJRW50cnlUeXBlLkRJUkVDVE9SWSlcbiAgICAgICAgLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICAgIGdlbmVyYXRlSW5kZXhGaWxlRm9yRGlyZWN0b3J5KFxuICAgICAgICAgICAgcGF0aC5yZXNvbHZlKGRpcnBhdGgsIGVudHJ5LmZpbGVuYW1lKSxcbiAgICAgICAgICAgIHJlY3Vyc2l2ZSxcbiAgICAgICAgICAgIG9wdGlvbnMsXG4gICAgICAgICAgICB2ZXJib3NlXG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHtcbiAgSUVudHJ5LFxuICBJRW50cnlUeXBlLFxuICBJQXNzZXRzT3B0aW9ucyxcbiAgZGVmYXVsdEFzc2V0c09wdGlvbnNcbn0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCAqIGFzIHBhdGggZnJvbSBcInBhdGhcIjtcblxuZXhwb3J0IGNsYXNzIEdlbmVyYXRvciB7XG4gIC8qKlxuICAgKiBAcGFyYW0gZW50cnlMaXN0IGVudHJ5IGxpc3QgdG8gcHJvY2VzcyBpbiB0aGlzIHBhdGhcbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgZ2VuZXJhdGVDb250ZW50QnlFbnRlcnlMaXN0KFxuICAgIGVudHJ5TGlzdDogSUVudHJ5W10sXG4gICAgb3B0aW9uczogSUFzc2V0c09wdGlvbnMgPSBkZWZhdWx0QXNzZXRzT3B0aW9uc1xuICApIHtcbiAgICBjb25zdCBzeW1ib2xzVG9FeHBvcnQ6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgaW1wb3J0TGluZXM6IHN0cmluZ1tdID0gW107XG5cbiAgICAvLyBzb3J0IGZpcnN0XG4gICAgZW50cnlMaXN0XG4gICAgICAuc29ydCgoZW50cnksIGVudHJ5TmV4dCkgPT4gZW50cnkudHlwZSAtIGVudHJ5TmV4dC50eXBlKVxuICAgICAgLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICBzeW1ib2xzVG9FeHBvcnQucHVzaChlbnRyeS5leHBvcnRlZE5hbWUpO1xuICAgICAgICBpZiAob3B0aW9ucy5tb2R1bGUgPT0gXCJlczZcIikge1xuICAgICAgICAgIGltcG9ydExpbmVzLnB1c2goXG4gICAgICAgICAgICBgaW1wb3J0ICR7ZW50cnkuZXhwb3J0ZWROYW1lfSBmcm9tICcuLyR7ZW50cnkuZmlsZW5hbWV9JztgXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIG9wdGlvbnMuZXhwb3J0UmVhY3RDb21wb25lbnRGb3JTdmcgJiZcbiAgICAgICAgICAgIHBhdGguZXh0bmFtZShlbnRyeS5maWxlbmFtZSkudG9Mb3dlckNhc2UoKSA9PT0gXCIuc3ZnXCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGNvbnN0IHN2Z0NvbXBvbmVudE5hbWUgPSBgJHtlbnRyeS5leHBvcnRlZE5hbWV9Q29tcG9uZW50YDtcbiAgICAgICAgICAgIGltcG9ydExpbmVzLnB1c2goXG4gICAgICAgICAgICAgIGBpbXBvcnQgeyBSZWFjdENvbXBvbmVudCBhcyAke3N2Z0NvbXBvbmVudE5hbWV9IH0gZnJvbSAnLi8ke1xuICAgICAgICAgICAgICAgIGVudHJ5LmZpbGVuYW1lXG4gICAgICAgICAgICAgIH0nO2BcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBzeW1ib2xzVG9FeHBvcnQucHVzaChzdmdDb21wb25lbnROYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5tb2R1bGUgPT0gXCJjb21tb25qc1wiKSB7XG4gICAgICAgICAgaW1wb3J0TGluZXMucHVzaChcbiAgICAgICAgICAgIGBjb25zdCAke2VudHJ5LmV4cG9ydGVkTmFtZX0gPSByZXF1aXJlKCcuLyR7ZW50cnkuZmlsZW5hbWV9Jyk7YFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgY29uc3QgaW1wb3J0QmxvY2sgPSBpbXBvcnRMaW5lcy5qb2luKFwiXFxuXCIpO1xuICAgIGxldCBleHBvcnRCbG9jaztcblxuICAgIGlmIChvcHRpb25zLm1vZHVsZSA9PT0gXCJlczZcIikge1xuICAgICAgZXhwb3J0QmxvY2sgPSBgZXhwb3J0IGRlZmF1bHQge1xuICAgICR7c3ltYm9sc1RvRXhwb3J0LmpvaW4oXCIsXFxuICAgIFwiKX1cbn07YDtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMubW9kdWxlID09PSBcImNvbW1vbmpzXCIpIHtcbiAgICAgIGV4cG9ydEJsb2NrID0gYG1vZHVsZS5leHBvcnRzID0ge1xuICAgICR7c3ltYm9sc1RvRXhwb3J0LmpvaW4oXCIsXFxuICAgIFwiKX1cbn07YDtcbiAgICB9XG5cbiAgICByZXR1cm4gW2ltcG9ydEJsb2NrLCBcIlxcblwiLCBleHBvcnRCbG9ja10uam9pbihcIlxcblwiKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSBcImFzc2V0cy1jb3JlL3NyYy9jb25maWdcIjtcbmltcG9ydCAqIGFzIHByb2dyYW0gZnJvbSBcImNvbW1hbmRlclwiO1xuaW1wb3J0IHsgZ2VuZXJhdGVJbmRleEZpbGVGb3JEaXJlY3RvcnkgfSBmcm9tIFwiYXNzZXRzLWNvcmUvc3JjL2luZGV4XCI7XG5pbXBvcnQgeyBJQXNzZXRzT3B0aW9ucywgZGVmYXVsdEFzc2V0c09wdGlvbnMgfSBmcm9tIFwiYXNzZXRzLWNvcmUvc3JjL3R5cGVzXCI7XG5pbXBvcnQgKiBhcyBmcyBmcm9tIFwiZnNcIjtcblxubGV0IGRpcmVjdG9yeTtcblxucHJvZ3JhbVxuICAuYXJndW1lbnRzKFwiPGRpcmVjb3RyeT5cIilcbiAgLm9wdGlvbihcIi1tLCAtLW1vZHVsZSA8bW9kdWxlPlwiLCBcInVzZSB3aGljaCBKUyBtb2R1bGUgc3lzdGVtczogZXM2L2NvbW1vbmpzXCIpXG4gIC5vcHRpb24oXCItdiwgLS12ZXJib3NlXCIsIFwib3VwdXQgZGV0YWlsIG1lc3NhZ2UgdG8gc3Rkb3V0XCIpXG4gIC5vcHRpb24oXCItdCwgLS1maWxldHlwZSA8ZmlsZXR5cGU+XCIsIFwid2hpY2ggZmlsZSBleHRpb25zaW9uIHRvIHVzZTogdHMvanNcIilcbiAgLm9wdGlvbihcbiAgICBcIi1jLCAtLWNvbmZpZyA8Y29uZmlnPlwiLFxuICAgIFwiY29uZmlnIGZpbGUgdG8gcmVhZC4gZGVmYXVsdCA8Y3dkPi8uYXNzZXRzcmNcIixcbiAgICBcIi4vYXNzZXRzcmNcIlxuICApXG4gIC5vcHRpb24oXG4gICAgXCItYSwgLS1tYXRjaCA8bWF0Y2g+XCIsXG4gICAgXCJ3aGljaCBmaWxlcyB0byBpbXBvcnQuIGluIG1pbmltYXRjaCBmb3JtYXQ6IGVnLiAqLisocG5nL3N2ZylcIlxuICApXG4gIC5vcHRpb24oXCItciwgLS1zdmdcIiwgXCJ3aGV0aGVyIGdlbmVyYXRlIHN2ZyByZWFjdCBjb21wb25lbnQgb3Igbm90XCIsIGZhbHNlKVxuICAuYWN0aW9uKHJvb3REaXJlY290cnkgPT4ge1xuICAgIGRpcmVjdG9yeSA9IHJvb3REaXJlY290cnk7XG4gIH0pXG4gIC5wYXJzZShwcm9jZXNzLmFyZ3YpO1xuXG4vLyBjb25maWcgcHJpb3JpdHkgY2xpIG9wdGlvbnMgPiBjb25maWdfZmlsZSA+IGRlZmF1bHRfdmFsdWVcblxubGV0IG9wdGlvbnM6IElBc3NldHNPcHRpb25zID0gZGVmYXVsdEFzc2V0c09wdGlvbnM7XG5cbmlmIChwcm9ncmFtLmNvbmZpZyAhPT0gdW5kZWZpbmVkKSB7XG4gIHRyeSB7XG4gICAgaWYgKGZzLmxzdGF0U3luYyhwcm9ncmFtLmNvbmZpZykuaXNGaWxlKCkpIHtcbiAgICAgIGlmIChwcm9ncmFtLnZlcmJvc2UpIHtcbiAgICAgICAgY29uc29sZS5sb2coYENvbmZpZyBmaWxlIGZvdW5kZWQhIGxvYWQgZnJvbSAke3Byb2dyYW0uY29uZmlnfWApO1xuICAgICAgICBvcHRpb25zID0gQ29uZmlnLmxvYWRPcHRpb25zRnJvbUNvbmZpZ0ZpbGUocHJvZ3JhbS5jb25maWcpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJvZ3JhbS52ZXJib3NlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ29uZmlnIGZpbGUgbm90IGZvdW5kZWQhIHVzZSBkZWZhdWx0IGNvbmZpZ1wiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAocHJvZ3JhbS52ZXJib3NlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgXCJDb25maWcgZmlsZSB5b3VyIHByb3ZpZGUgaGFzIHNvbWUgcHJvYmxlbXMsIGNhbiBub3QgbG9hZCwgZmFsbGJhY2sgdG8gdXNlIGRlZmF1bHQgY29uZmlnXCJcbiAgICAgICk7XG4gICAgfVxuICB9XG59IGVsc2Uge1xuICBpZiAocHJvZ3JhbS52ZXJib3NlKSB7XG4gICAgY29uc29sZS5sb2coXCJDb25maWcgZmlsZSBub3QgZm91bmRlZCEgdXNlIGRlZmF1bHQgY29uZmlnXCIpO1xuICB9XG59XG5cbmlmIChkaXJlY3RvcnkgIT09IHVuZGVmaW5lZCkge1xuICBvcHRpb25zID0ge1xuICAgIC4uLm9wdGlvbnMsXG4gICAgYXNzZXRzUGF0aExpc3Q6IFtkaXJlY3RvcnldXG4gIH07XG59XG5cbmlmIChwcm9ncmFtLm1vZHVsZSkge1xuICBvcHRpb25zID0ge1xuICAgIC4uLm9wdGlvbnMsXG4gICAgbW9kdWxlOiBwcm9ncmFtLm1vZHVsZVxuICB9O1xufVxuXG5pZiAocHJvZ3JhbS5maWxldHlwZSkge1xuICBvcHRpb25zID0ge1xuICAgIC4uLm9wdGlvbnMsXG4gICAgZmlsZXR5cGU6IHByb2dyYW0uZmlsZXR5cGVcbiAgfTtcbn1cblxuaWYgKHByb2dyYW0ubWF0Y2gpIHtcbiAgb3B0aW9ucyA9IHtcbiAgICAuLi5vcHRpb25zLFxuICAgIG1hdGNoOiBwcm9ncmFtLm1hdGNoXG4gIH07XG59XG5cbmlmIChwcm9ncmFtLnN2Zykge1xuICBvcHRpb25zID0ge1xuICAgIC4uLm9wdGlvbnMsXG4gICAgZXhwb3J0UmVhY3RDb21wb25lbnRGb3JTdmc6IHByb2dyYW0uc3ZnXG4gIH07XG59XG5cbmlmIChwcm9ncmFtLnZlcmJvc2UpIHtcbiAgY29uc29sZS5sb2coYE9wdGlvbnMgaXM6IFxcbiR7SlNPTi5zdHJpbmdpZnkob3B0aW9ucywgdW5kZWZpbmVkLCAyKX1gKTtcbn1cblxub3B0aW9ucy5hc3NldHNQYXRoTGlzdC5mb3JFYWNoKGFzc2V0c1BhdGggPT4ge1xuICAvLyBSdW4gZ2VuZXJhdGUgY29tbWFuZFxuICBnZW5lcmF0ZUluZGV4RmlsZUZvckRpcmVjdG9yeShhc3NldHNQYXRoLCB0cnVlLCBvcHRpb25zLCBwcm9ncmFtLnZlcmJvc2UpO1xufSk7XG4iLCJpbXBvcnQgeyBkZWZhdWx0QXNzZXRzT3B0aW9ucyB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgKiBhcyBmcyBmcm9tIFwiZnNcIjtcblxuLyoqXG4gKiBMb2FkIGNvbmZpZyBmcm9tIGZpbGUsIGlmIGVycm9yIG9yIGZpbGUgaXMgbm90IGV4aXN0aW5nLCB1c2UgZGVmYXVsdCBvcHRpb25zXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25maWcge1xuICBwdWJsaWMgc3RhdGljIGxvYWRPcHRpb25zRnJvbUNvbmZpZ0ZpbGUoY29uZmlnRmlsZU5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IHN0YXRzID0gZnMubHN0YXRTeW5jKGNvbmZpZ0ZpbGVOYW1lKTtcbiAgICBpZiAoIXN0YXRzLmlzRmlsZSgpKSB7XG4gICAgICByZXR1cm4gZGVmYXVsdEFzc2V0c09wdGlvbnM7XG4gICAgfVxuXG4gICAgY29uc3QgY29udGVudCA9IGZzLnJlYWRGaWxlU3luYyhjb25maWdGaWxlTmFtZSwgeyBlbmNvZGluZzogXCJ1dGYtOFwiIH0pO1xuXG4gICAgaWYgKCFjb250ZW50KSB7XG4gICAgICByZXR1cm4gZGVmYXVsdEFzc2V0c09wdGlvbnM7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGNvbmZpZ09iamVjdCA9IEpTT04ucGFyc2UoY29udGVudCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5kZWZhdWx0QXNzZXRzT3B0aW9ucyxcbiAgICAgICAgLi4uY29uZmlnT2JqZWN0XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0QXNzZXRzT3B0aW9ucztcbiAgICB9XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=