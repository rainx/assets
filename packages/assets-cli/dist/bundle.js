!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=11)}([function(t,e,n){var r=n(4).EventEmitter,i=n(5).spawn,o=n(2),s=o.dirname,a=o.basename,u=n(1);function c(t,e){this.flags=t,this.required=t.indexOf("<")>=0,this.optional=t.indexOf("[")>=0,this.bool=-1===t.indexOf("-no-"),(t=t.split(/[ ,|]+/)).length>1&&!/^[[<]/.test(t[1])&&(this.short=t.shift()),this.long=t.shift(),this.description=e||""}function p(t){this.commands=[],this.options=[],this._execs={},this._allowUnknownOption=!1,this._args=[],this._name=t||""}function h(t,e){var n=Math.max(0,e-t.length);return t+Array(n+1).join(" ")}function l(t,e){e=e||[];for(var n=0;n<e.length;n++)"--help"!==e[n]&&"-h"!==e[n]||(t.outputHelp(),process.exit(0))}function f(t){var e=t.name+(!0===t.variadic?"...":"");return t.required?"<"+e+">":"["+e+"]"}function g(t){try{if(u.statSync(t).isFile())return!0}catch(t){return!1}}n(6).inherits(p,r),(e=t.exports=new p).Command=p,e.Option=c,c.prototype.name=function(){return this.long.replace("--","").replace("no-","")},c.prototype.attributeName=function(){return this.name().split("-").reduce(function(t,e){return t+e[0].toUpperCase()+e.slice(1)})},c.prototype.is=function(t){return this.short===t||this.long===t},p.prototype.command=function(t,e,n){"object"==typeof e&&null!==e&&(n=e,e=null),n=n||{};var r=t.split(/ +/),i=new p(r.shift());return e&&(i.description(e),this.executables=!0,this._execs[i._name]=!0,n.isDefault&&(this.defaultExecutable=i._name)),i._noHelp=!!n.noHelp,this.commands.push(i),i.parseExpectedArgs(r),i.parent=this,e?this:i},p.prototype.arguments=function(t){return this.parseExpectedArgs(t.split(/ +/))},p.prototype.addImplicitHelpCommand=function(){this.command("help [cmd]","display help for [cmd]")},p.prototype.parseExpectedArgs=function(t){if(t.length){var e=this;return t.forEach(function(t){var n={required:!1,name:"",variadic:!1};switch(t[0]){case"<":n.required=!0,n.name=t.slice(1,-1);break;case"[":n.name=t.slice(1,-1)}n.name.length>3&&"..."===n.name.slice(-3)&&(n.variadic=!0,n.name=n.name.slice(0,-3)),n.name&&e._args.push(n)}),this}},p.prototype.action=function(t){var e=this,n=function(n,r){n=n||[],r=r||[];var i=e.parseOptions(r);l(e,i.unknown),i.unknown.length>0&&e.unknownOption(i.unknown[0]),i.args.length&&(n=i.args.concat(n)),e._args.forEach(function(t,r){t.required&&null==n[r]?e.missingArgument(t.name):t.variadic&&(r!==e._args.length-1&&e.variadicArgNotLast(t.name),n[r]=n.splice(r))}),e._args.length?n[e._args.length]=e:n.push(e),t.apply(e,n)},r=this.parent||this,i=r===this?"*":this._name;return r.on("command:"+i,n),this._alias&&r.on("command:"+this._alias,n),this},p.prototype.option=function(t,e,n,r){var i=this,o=new c(t,e),s=o.name(),a=o.attributeName();if("function"!=typeof n)if(n instanceof RegExp){var u=n;n=function(t,e){var n=u.exec(t);return n?n[0]:e}}else r=n,n=null;return(!o.bool||o.optional||o.required)&&(o.bool||(r=!0),void 0!==r&&(i[a]=r,o.defaultValue=r)),this.options.push(o),this.on("option:"+s,function(t){null!==t&&n&&(t=n(t,void 0===i[a]?r:i[a])),"boolean"==typeof i[a]||void 0===i[a]?i[a]=null==t?!!o.bool&&(r||!0):t:null!==t&&(i[a]=t)}),this},p.prototype.allowUnknownOption=function(t){return this._allowUnknownOption=0===arguments.length||t,this},p.prototype.parse=function(t){this.executables&&this.addImplicitHelpCommand(),this.rawArgs=t,this._name=this._name||a(t[1],".js"),this.executables&&t.length<3&&!this.defaultExecutable&&t.push("--help");var e=this.parseOptions(this.normalize(t.slice(2))),n=this.args=e.args,r=this.parseArgs(this.args,e.unknown),i=r.args[0],o=null;return i&&(o=this.commands.filter(function(t){return t.alias()===i})[0]),this._execs[i]&&"function"!=typeof this._execs[i]?this.executeSubCommand(t,n,e.unknown):o?(n[0]=o._name,this.executeSubCommand(t,n,e.unknown)):this.defaultExecutable?(n.unshift(this.defaultExecutable),this.executeSubCommand(t,n,e.unknown)):r},p.prototype.executeSubCommand=function(t,e,n){(e=e.concat(n)).length||this.help(),"help"===e[0]&&1===e.length&&this.help(),"help"===e[0]&&(e[0]=e[1],e[1]="--help");var r,c=t[1],p=a(c,o.extname(c))+"-"+e[0],h=u.lstatSync(c).isSymbolicLink()?u.readlinkSync(c):c;h!==c&&"/"!==h.charAt(0)&&(h=o.join(s(c),h)),r=s(h);var l,f=o.join(r,p),m=!1;g(f+".js")?(p=f+".js",m=!0):g(f+".ts")?(p=f+".ts",m=!0):g(f)&&(p=f),e=e.slice(1),"win32"!==process.platform?m?(e.unshift(p),e=(process.execArgv||[]).concat(e),l=i(process.argv[0],e,{stdio:"inherit",customFds:[0,1,2]})):l=i(p,e,{stdio:"inherit",customFds:[0,1,2]}):(e.unshift(p),l=i(process.execPath,e,{stdio:"inherit"}));["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach(function(t){process.on(t,function(){!1===l.killed&&null===l.exitCode&&l.kill(t)})}),l.on("close",process.exit.bind(process)),l.on("error",function(t){"ENOENT"===t.code?console.error("error: %s(1) does not exist, try --help",p):"EACCES"===t.code&&console.error("error: %s(1) not executable. try chmod or run with root",p),process.exit(1)}),this.runningCommand=l},p.prototype.normalize=function(t){for(var e,n,r,i=[],o=0,s=t.length;o<s;++o){if(e=t[o],o>0&&(n=this.optionFor(t[o-1])),"--"===e){i=i.concat(t.slice(o));break}n&&n.required?i.push(e):e.length>1&&"-"===e[0]&&"-"!==e[1]?e.slice(1).split("").forEach(function(t){i.push("-"+t)}):/^--/.test(e)&&~(r=e.indexOf("="))?i.push(e.slice(0,r),e.slice(r+1)):i.push(e)}return i},p.prototype.parseArgs=function(t,e){var n;return t.length?(n=t[0],this.listeners("command:"+n).length?this.emit("command:"+t.shift(),t,e):this.emit("command:*",t)):(l(this,e),e.length>0&&this.unknownOption(e[0]),0===this.commands.length&&0===this._args.filter(function(t){return t.required}).length&&this.emit("command:*")),this},p.prototype.optionFor=function(t){for(var e=0,n=this.options.length;e<n;++e)if(this.options[e].is(t))return this.options[e]},p.prototype.parseOptions=function(t){for(var e,n,r,i=[],o=t.length,s=[],a=0;a<o;++a)if(r=t[a],e)i.push(r);else if("--"!==r)if(n=this.optionFor(r))if(n.required){if(null==(r=t[++a]))return this.optionMissingArgument(n);this.emit("option:"+n.name(),r)}else n.optional?(null==(r=t[a+1])||"-"===r[0]&&"-"!==r?r=null:++a,this.emit("option:"+n.name(),r)):this.emit("option:"+n.name());else r.length>1&&"-"===r[0]?(s.push(r),a+1<t.length&&"-"!==t[a+1][0]&&s.push(t[++a])):i.push(r);else e=!0;return{args:i,unknown:s}},p.prototype.opts=function(){for(var t={},e=this.options.length,n=0;n<e;n++){var r=this.options[n].attributeName();t[r]=r===this._versionOptionName?this._version:this[r]}return t},p.prototype.missingArgument=function(t){console.error("error: missing required argument `%s'",t),process.exit(1)},p.prototype.optionMissingArgument=function(t,e){e?console.error("error: option `%s' argument missing, got `%s'",t.flags,e):console.error("error: option `%s' argument missing",t.flags),process.exit(1)},p.prototype.unknownOption=function(t){this._allowUnknownOption||(console.error("error: unknown option `%s'",t),process.exit(1))},p.prototype.variadicArgNotLast=function(t){console.error("error: variadic arguments must be last `%s'",t),process.exit(1)},p.prototype.version=function(t,e){if(0===arguments.length)return this._version;this._version=t;var n=new c(e=e||"-V, --version","output the version number");return this._versionOptionName=n.long.substr(2)||"version",this.options.push(n),this.on("option:"+this._versionOptionName,function(){process.stdout.write(t+"\n"),process.exit(0)}),this},p.prototype.description=function(t,e){return 0===arguments.length?this._description:(this._description=t,this._argsDescription=e,this)},p.prototype.alias=function(t){var e=this;if(0!==this.commands.length&&(e=this.commands[this.commands.length-1]),0===arguments.length)return e._alias;if(t===e._name)throw new Error("Command alias can't be the same as its name");return e._alias=t,this},p.prototype.usage=function(t){var e=this._args.map(function(t){return f(t)}),n="[options]"+(this.commands.length?" [command]":"")+(this._args.length?" "+e.join(" "):"");return 0===arguments.length?this._usage||n:(this._usage=t,this)},p.prototype.name=function(t){return 0===arguments.length?this._name:(this._name=t,this)},p.prototype.prepareCommands=function(){return this.commands.filter(function(t){return!t._noHelp}).map(function(t){var e=t._args.map(function(t){return f(t)}).join(" ");return[t._name+(t._alias?"|"+t._alias:"")+(t.options.length?" [options]":"")+(e?" "+e:""),t._description]})},p.prototype.largestCommandLength=function(){return this.prepareCommands().reduce(function(t,e){return Math.max(t,e[0].length)},0)},p.prototype.largestOptionLength=function(){var t=[].slice.call(this.options);return t.push({flags:"-h, --help"}),t.reduce(function(t,e){return Math.max(t,e.flags.length)},0)},p.prototype.largestArgLength=function(){return this._args.reduce(function(t,e){return Math.max(t,e.name.length)},0)},p.prototype.padWidth=function(){var t=this.largestOptionLength();return this._argsDescription&&this._args.length&&this.largestArgLength()>t&&(t=this.largestArgLength()),this.commands&&this.commands.length&&this.largestCommandLength()>t&&(t=this.largestCommandLength()),t},p.prototype.optionHelp=function(){var t=this.padWidth();return this.options.map(function(e){return h(e.flags,t)+"  "+e.description+(e.bool&&void 0!==e.defaultValue?" (default: "+JSON.stringify(e.defaultValue)+")":"")}).concat([h("-h, --help",t)+"  output usage information"]).join("\n")},p.prototype.commandHelp=function(){if(!this.commands.length)return"";var t=this.prepareCommands(),e=this.padWidth();return["Commands:",t.map(function(t){var n=t[1]?"  "+t[1]:"";return(n?h(t[0],e):t[0])+n}).join("\n").replace(/^/gm,"  "),""].join("\n")},p.prototype.helpInformation=function(){var t=[];if(this._description){t=[this._description,""];var e=this._argsDescription;if(e&&this._args.length){var n=this.padWidth();t.push("Arguments:"),t.push(""),this._args.forEach(function(r){t.push("  "+h(r.name,n)+"  "+e[r.name])}),t.push("")}}var r=this._name;this._alias&&(r=r+"|"+this._alias);var i=["Usage: "+r+" "+this.usage(),""],o=[],s=this.commandHelp();s&&(o=[s]);var a=["Options:",""+this.optionHelp().replace(/^/gm,"  "),""];return i.concat(t).concat(a).concat(o).join("\n")},p.prototype.outputHelp=function(t){t||(t=function(t){return t}),process.stdout.write(t(this.helpInformation())),this.emit("--help")},p.prototype.help=function(t){this.outputHelp(t),process.exit()}},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("path")},function(t,e,n){t.exports=g,g.Minimatch=m;var r={sep:"/"};try{r=n(2)}catch(t){}var i=g.GLOBSTAR=m.GLOBSTAR={},o=n(7),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",u=a+"*?",c="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",p="(?:(?!(?:\\/|^)\\.).)*?",h="().*{}+?[]^$\\!".split("").reduce(function(t,e){return t[e]=!0,t},{});var l=/\/+/;function f(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach(function(t){n[t]=e[t]}),Object.keys(t).forEach(function(e){n[e]=t[e]}),n}function g(t,e,n){if("string"!=typeof e)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new m(e,n).match(t))}function m(t,e){if(!(this instanceof m))return new m(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==r.sep&&(t=t.split(r.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function d(t,e){if(e||(e=this instanceof m?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:o(t)}g.filter=function(t,e){return e=e||{},function(n,r,i){return g(n,t,e)}},g.defaults=function(t){if(!t||!Object.keys(t).length)return g;var e=g,n=function(n,r,i){return e.minimatch(n,r,f(t,i))};return n.Minimatch=function(n,r){return new e.Minimatch(n,f(t,r))},n},m.defaults=function(t){return t&&Object.keys(t).length?g.defaults(t).Minimatch:m},m.prototype.debug=function(){},m.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(t){return t.split(l)}),this.debug(this.pattern,n),n=n.map(function(t,e,n){return t.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(t){return-1===t.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},m.prototype.parseNegate=function(){var t=this.pattern,e=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,o=t.length;i<o&&"!"===t.charAt(i);i++)e=!e,r++;r&&(this.pattern=t.substr(r));this.negate=e},g.braceExpand=function(t,e){return d(t,e)},m.prototype.braceExpand=d,m.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===t)return i;if(""===t)return"";var r,o="",c=!!n.nocase,p=!1,l=[],f=[],g=!1,m=-1,d=-1,y="."===t.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=this;function x(){if(r){switch(r){case"*":o+=u,c=!0;break;case"?":o+=a,c=!0;break;default:o+="\\"+r}b.debug("clearStateChar %j %j",r,o),r=!1}}for(var _,w=0,j=t.length;w<j&&(_=t.charAt(w));w++)if(this.debug("%s\t%s %s %j",t,w,o,_),p&&h[_])o+="\\"+_,p=!1;else switch(_){case"/":return!1;case"\\":x(),p=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,w,o,_),g){this.debug("  in class"),"!"===_&&w===d+1&&(_="^"),o+=_;continue}b.debug("call clearStateChar %j",r),x(),r=_,n.noext&&x();continue;case"(":if(g){o+="(";continue}if(!r){o+="\\(";continue}l.push({type:r,start:w-1,reStart:o.length,open:s[r].open,close:s[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(g||!l.length){o+="\\)";continue}x(),c=!0;var O=l.pop();o+=O.close,"!"===O.type&&f.push(O),O.reEnd=o.length;continue;case"|":if(g||!l.length||p){o+="\\|",p=!1;continue}x(),o+="|";continue;case"[":if(x(),g){o+="\\"+_;continue}g=!0,d=w,m=o.length,o+=_;continue;case"]":if(w===d+1||!g){o+="\\"+_,p=!1;continue}if(g){var E=t.substring(d+1,w);try{RegExp("["+E+"]")}catch(t){var S=this.parse(E,v);o=o.substr(0,m)+"\\["+S[0]+"\\]",c=c||S[1],g=!1;continue}}c=!0,g=!1,o+=_;continue;default:x(),p?p=!1:!h[_]||"^"===_&&g||(o+="\\"),o+=_}g&&(E=t.substr(d+1),S=this.parse(E,v),o=o.substr(0,m)+"\\["+S[0],c=c||S[1]);for(O=l.pop();O;O=l.pop()){var C=o.slice(O.reStart+O.open.length);this.debug("setting tail",o,O),C=C.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(t,e,n){return n||(n="\\"),e+e+n+"|"}),this.debug("tail=%j\n   %s",C,C,O,o);var A="*"===O.type?u:"?"===O.type?a:"\\"+O.type;c=!0,o=o.slice(0,O.reStart)+A+"\\("+C}x(),p&&(o+="\\\\");var k=!1;switch(o.charAt(0)){case".":case"[":case"(":k=!0}for(var $=f.length-1;$>-1;$--){var R=f[$],L=o.slice(0,R.reStart),M=o.slice(R.reStart,R.reEnd-8),N=o.slice(R.reEnd-8,R.reEnd),F=o.slice(R.reEnd);N+=F;var I=L.split("(").length-1,q=F;for(w=0;w<I;w++)q=q.replace(/\)[+*?]?/,"");var T="";""===(F=q)&&e!==v&&(T="$");var D=L+M+F+T+N;o=D}""!==o&&c&&(o="(?=.)"+o);k&&(o=y+o);if(e===v)return[o,c];if(!c)return t.replace(/\\(.)/g,"$1");var H=n.nocase?"i":"";try{var P=new RegExp("^"+o+"$",H)}catch(t){return new RegExp("$.")}return P._glob=t,P._src=o,P};var v={};g.makeRe=function(t,e){return new m(t,e||{}).makeRe()},m.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?u:e.dot?c:p,r=e.nocase?"i":"",o=t.map(function(t){return t.map(function(t){return t===i?n:"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t._src}).join("\\/")}).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(t){this.regexp=!1}return this.regexp},g.match=function(t,e,n){var r=new m(e,n=n||{});return t=t.filter(function(t){return r.match(t)}),r.options.nonull&&!t.length&&t.push(e),t},m.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var n=this.options;"/"!==r.sep&&(t=t.split(r.sep).join("/"));t=t.split(l),this.debug(this.pattern,"split",t);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=t.length-1;o>=0&&!(i=t[o]);o--);for(o=0;o<s.length;o++){var a=s[o],u=t;n.matchBase&&1===a.length&&(u=[i]);var c=this.matchOne(u,a,e);if(c)return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},m.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,s=0,a=t.length,u=e.length;o<a&&s<u;o++,s++){this.debug("matchOne loop");var c,p=e[s],h=t[o];if(this.debug(e,p,h),!1===p)return!1;if(p===i){this.debug("GLOBSTAR",[e,p,h]);var l=o,f=s+1;if(f===u){for(this.debug("** at the end");o<a;o++)if("."===t[o]||".."===t[o]||!r.dot&&"."===t[o].charAt(0))return!1;return!0}for(;l<a;){var g=t[l];if(this.debug("\nglobstar while",t,l,e,f,g),this.matchOne(t.slice(l),e.slice(f),n))return this.debug("globstar found match!",l,a,g),!0;if("."===g||".."===g||!r.dot&&"."===g.charAt(0)){this.debug("dot detected!",t,l,e,f);break}this.debug("globstar swallow a segment, and continue"),l++}return!(!n||(this.debug("\n>>> no match, partial?",t,l,e,f),l!==a))}if("string"==typeof p?(c=r.nocase?h.toLowerCase()===p.toLowerCase():h===p,this.debug("string match",p,h,c)):(c=h.match(p),this.debug("pattern match",p,h,c)),!c)return!1}if(o===a&&s===u)return!0;if(o===a)return n;if(s===u)return o===a-1&&""===t[o];throw new Error("wtf?")}},function(t,e){t.exports=require("events")},function(t,e){t.exports=require("child_process")},function(t,e){t.exports=require("util")},function(t,e,n){var r=n(8),i=n(9);t.exports=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return function t(e,n){var o=[];var s=i("{","}",e);if(!s||/\$$/.test(s.pre))return[e];var u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body);var c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body);var h=u||c;var d=s.body.indexOf(",")>=0;if(!h&&!d)return s.post.match(/,.*\}/)?(e=s.pre+"{"+s.body+a+s.post,t(e)):[e];var v;if(h)v=s.body.split(/\.\./);else if(1===(v=function t(e){if(!e)return[""];var n=[];var r=i("{","}",e);if(!r)return e.split(",");var o=r.pre;var s=r.body;var a=r.post;var u=o.split(",");u[u.length-1]+="{"+s+"}";var c=t(a);a.length&&(u[u.length-1]+=c.shift(),u.push.apply(u,c));n.push.apply(n,u);return n}(s.body)).length&&1===(v=t(v[0],!1).map(l)).length){var y=s.post.length?t(s.post,!1):[""];return y.map(function(t){return s.pre+v[0]+t})}var b=s.pre;var y=s.post.length?t(s.post,!1):[""];var x;if(h){var _=p(v[0]),w=p(v[1]),j=Math.max(v[0].length,v[1].length),O=3==v.length?Math.abs(p(v[2])):1,E=g,S=w<_;S&&(O*=-1,E=m);var C=v.some(f);x=[];for(var A=_;E(A,w);A+=O){var k;if(c)"\\"===(k=String.fromCharCode(A))&&(k="");else if(k=String(A),C){var $=j-k.length;if($>0){var R=new Array($+1).join("0");k=A<0?"-"+R+k.slice(1):R+k}}x.push(k)}}else x=r(v,function(e){return t(e,!1)});for(var L=0;L<x.length;L++)for(var M=0;M<y.length;M++){var N=b+x[L]+y[M];(!n||h||N)&&o.push(N)}return o}(function(t){return t.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(u).split("\\.").join(c)}(t),!0).map(h)};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",u="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function p(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function h(t){return t.split(o).join("\\").split(s).join("{").split(a).join("}").split(u).join(",").split(c).join(".")}function l(t){return"{"+t+"}"}function f(t){return/^-?0\d/.test(t)}function g(t,e){return t<=e}function m(t,e){return t>=e}},function(t,e){t.exports=function(t,e){for(var r=[],i=0;i<t.length;i++){var o=e(t[i],i);n(o)?r.push.apply(r,o):r.push(o)}return r};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function r(t,e,n){t instanceof RegExp&&(t=i(t,n)),e instanceof RegExp&&(e=i(e,n));var r=o(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function i(t,e){var n=e.match(t);return n?n[0]:null}function o(t,e,n){var r,i,o,s,a,u=n.indexOf(t),c=n.indexOf(e,u+1),p=u;if(u>=0&&c>0){for(r=[],o=n.length;p>=0&&!a;)p==u?(r.push(p),u=n.indexOf(t,p+1)):1==r.length?a=[r.pop(),c]:((i=r.pop())<o&&(o=i,s=c),c=n.indexOf(e,p+1)),p=u<c&&u>=0?u:c;r.length&&(a=[o,s])}return a}t.exports=r,r.range=o},function(t,e,n){"use strict";var r=t.exports={camelback:function(t){var e=r.split(t);return e.shift()+i(e).join("")},camelcase:function(t){return i(r.split(t)).join("")},dash:function(t){return r.split(t).join("-")},underscore:function(t){return r.split(t).join("_")},split:function(t){return(e=t=t.replace(/[^a-z0-9]+/gi," ").replace(/([A-Z0-9]+)([A-Z][a-z])/g,"$1 $2").replace(/([a-z0-9])([A-Z])/g,"$1 $2").toLowerCase(),e.replace(/^\s+|\s+$/g,"")).split(/\s+/);var e}};function i(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].charAt(0).toUpperCase()+t[n].substr(1));return e}},function(t,e,n){"use strict";let r;n.r(e),function(t){t[t.FILE=1]="FILE",t[t.DIRECTORY=2]="DIRECTORY"}(r||(r={}));const i={module:"es6",filetype:"ts",match:"*.+(png|jpg|png|svg|pdf|gif|mov|ico|xml)",assetsPathList:["./assets"],exportReactComponentForSvg:!1};var o=n(1);var s=n(0),a=n(2);var u=n(3);const c=n(10);const p=(t,e,n=i,s=!1)=>{const h=class{static parseDirectory(t,e=i){let n;try{if(!(n=o.lstatSync(t)).isDirectory())return}catch(t){return}return o.readdirSync(t).map(e=>({filename:e,stats:o.lstatSync(a.resolve(t,e))})).filter(({filename:t,stats:n})=>!!n.isDirectory()||!!n.isFile()&&u(t,e.match,{matchBase:!0})).map(({filename:e,stats:n})=>{const i=c.camelback(e),o=/\d/.test(i.substr(0,1))?"num"+i:i;return{type:n.isDirectory()?r.DIRECTORY:r.FILE,filename:e,basedir:t,exportedName:o}})}}.parseDirectory(t,n);if(h){let u="index";const c=class{static generateContentByEnteryList(t,e=i){const n=[],r=[];t.sort((t,e)=>t.type-e.type).forEach(t=>{if(n.push(t.exportedName),"es6"==e.module){if(r.push(`import ${t.exportedName} from './${t.filename}';`),e.exportReactComponentForSvg&&".svg"===a.extname(t.filename).toLowerCase()){const e=`${t.exportedName}Component`;r.push(`import { ReactComponent as ${e} } form './${t.filename}';`),n.push(e)}}else"commonjs"==e.module&&r.push(`const ${t.exportedName} = require('./${t.filename}');`)});const o=r.join("\n");let s;return"es6"===e.module?s=`export default {\n    ${n.join(",\n    ")}\n};`:"commonjs"===e.module&&(s=`module.exports = {\n    ${n.join(",\n    ")}\n};`),[o,"\n",s].join("\n")}}.generateContentByEnteryList(h,n);"ts"===n.filetype?u+=".ts":u+=".js";const l=a.resolve(t,u);o.writeFileSync(l,c),s&&console.log(`Generated ${u} on directory: ${t}`),e&&h.filter(t=>t.type===r.DIRECTORY).forEach(r=>{p(a.resolve(t,r.filename),e,n,s)})}};let h;s.arguments("<direcotry>").option("-m, --module <module>","use which JS module systems: es6/commonjs").option("-v, --verbose","ouput detail message to stdout").option("-t, --filetype <filetype>","which file extionsion to use: ts/js").option("-c, --config <config>","config file to read. default <cwd>/.assetsrc","./assetsrc").option("-a, --match <match>","which files to import. in minimatch format: eg. *.+(png/svg)").option("-r, --svg","whether generate svg react component or not",!1).action(t=>{h=t}).parse(process.argv);let l=i;if(void 0!==s.config)try{o.lstatSync(s.config).isFile()?s.verbose&&(console.log(`Config file founded! load from ${s.config}`),l=class{static loadOptionsFromConfigFile(t){if(!o.lstatSync(t).isFile())return i;const e=o.readFileSync(t,{encoding:"utf-8"});if(!e)return i;try{const t=JSON.parse(e);return{...i,...t}}catch(t){return i}}}.loadOptionsFromConfigFile(s.config)):s.verbose&&console.log("Config file not founded! use default config")}catch(t){s.verbose&&console.log("Config file your provide has some problems, can not load, fallback to use default config")}else s.verbose&&console.log("Config file not founded! use default config");void 0!==h&&(l={...l,assetsPathList:[h]}),s.module&&(l={...l,module:s.module}),s.filetype&&(l={...l,filetype:s.filetype}),s.match&&(l={...l,match:s.match}),console.log(s.svg),s.svg&&(l={...l,exportReactComponentForSvg:s.svg}),s.verbose&&console.log(`Options is: \n${JSON.stringify(l,void 0,2)}`),l.assetsPathList.forEach(t=>{p(t,!0,l,s.verbose)})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvbW1hbmRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcInBhdGhcIiIsIndlYnBhY2s6Ly8vLi4vYXNzZXRzLWNvcmUvbm9kZV9tb2R1bGVzL21pbmltYXRjaC9taW5pbWF0Y2guanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZXZlbnRzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiY2hpbGRfcHJvY2Vzc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcInV0aWxcIiIsIndlYnBhY2s6Ly8vLi4vYXNzZXRzLWNvcmUvbm9kZV9tb2R1bGVzL2JyYWNlLWV4cGFuc2lvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vYXNzZXRzLWNvcmUvbm9kZV9tb2R1bGVzL2NvbmNhdC1tYXAvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4uL2Fzc2V0cy1jb3JlL25vZGVfbW9kdWxlcy9iYWxhbmNlZC1tYXRjaC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi4vYXNzZXRzLWNvcmUvbm9kZV9tb2R1bGVzL3Zhcm5hbWUvbGliL3Zhcm5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4uL2Fzc2V0cy1jb3JlL3NyYy90eXBlcy50cyIsIndlYnBhY2s6Ly8vLi4vYXNzZXRzLWNvcmUvc3JjL3BhcnNlci50cyIsIndlYnBhY2s6Ly8vLi4vYXNzZXRzLWNvcmUvc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uLi9hc3NldHMtY29yZS9zcmMvZ2VuZXJhdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi4vYXNzZXRzLWNvcmUvc3JjL2NvbmZpZy50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkV2ZW50RW1pdHRlciIsInNwYXduIiwicGF0aCIsImRpcm5hbWUiLCJiYXNlbmFtZSIsImZzIiwiT3B0aW9uIiwiZmxhZ3MiLCJkZXNjcmlwdGlvbiIsInRoaXMiLCJyZXF1aXJlZCIsImluZGV4T2YiLCJvcHRpb25hbCIsImJvb2wiLCJzcGxpdCIsImxlbmd0aCIsInRlc3QiLCJzaG9ydCIsInNoaWZ0IiwibG9uZyIsIkNvbW1hbmQiLCJjb21tYW5kcyIsIm9wdGlvbnMiLCJfZXhlY3MiLCJfYWxsb3dVbmtub3duT3B0aW9uIiwiX2FyZ3MiLCJfbmFtZSIsInBhZCIsInN0ciIsIndpZHRoIiwibGVuIiwiTWF0aCIsIm1heCIsIkFycmF5Iiwiam9pbiIsIm91dHB1dEhlbHBJZk5lY2Vzc2FyeSIsImNtZCIsIm91dHB1dEhlbHAiLCJwcm9jZXNzIiwiZXhpdCIsImh1bWFuUmVhZGFibGVBcmdOYW1lIiwiYXJnIiwibmFtZU91dHB1dCIsInZhcmlhZGljIiwiZXhpc3RzIiwiZmlsZSIsInN0YXRTeW5jIiwiaXNGaWxlIiwiZSIsImluaGVyaXRzIiwicmVwbGFjZSIsImF0dHJpYnV0ZU5hbWUiLCJyZWR1Y2UiLCJ3b3JkIiwidG9VcHBlckNhc2UiLCJzbGljZSIsImlzIiwiY29tbWFuZCIsImRlc2MiLCJvcHRzIiwiYXJncyIsImV4ZWN1dGFibGVzIiwiaXNEZWZhdWx0IiwiZGVmYXVsdEV4ZWN1dGFibGUiLCJfbm9IZWxwIiwibm9IZWxwIiwicHVzaCIsInBhcnNlRXhwZWN0ZWRBcmdzIiwicGFyZW50IiwiYXJndW1lbnRzIiwiYWRkSW1wbGljaXRIZWxwQ29tbWFuZCIsInNlbGYiLCJmb3JFYWNoIiwiYXJnRGV0YWlscyIsImFjdGlvbiIsImZuIiwibGlzdGVuZXIiLCJ1bmtub3duIiwicGFyc2VkIiwicGFyc2VPcHRpb25zIiwidW5rbm93bk9wdGlvbiIsImNvbmNhdCIsIm1pc3NpbmdBcmd1bWVudCIsInZhcmlhZGljQXJnTm90TGFzdCIsInNwbGljZSIsImFwcGx5Iiwib24iLCJfYWxpYXMiLCJvcHRpb24iLCJkZWZhdWx0VmFsdWUiLCJvbmFtZSIsIlJlZ0V4cCIsInJlZ2V4IiwidmFsIiwiZGVmIiwiZXhlYyIsInVuZGVmaW5lZCIsImFsbG93VW5rbm93bk9wdGlvbiIsInBhcnNlIiwiYXJndiIsInJhd0FyZ3MiLCJub3JtYWxpemUiLCJyZXN1bHQiLCJwYXJzZUFyZ3MiLCJhbGlhc0NvbW1hbmQiLCJmaWx0ZXIiLCJhbGlhcyIsImV4ZWN1dGVTdWJDb21tYW5kIiwidW5zaGlmdCIsImhlbHAiLCJiYXNlRGlyIiwiZiIsImJpbiIsImV4dG5hbWUiLCJsaW5rIiwibHN0YXRTeW5jIiwiaXNTeW1ib2xpY0xpbmsiLCJyZWFkbGlua1N5bmMiLCJjaGFyQXQiLCJwcm9jIiwibG9jYWxCaW4iLCJpc0V4cGxpY2l0SlMiLCJwbGF0Zm9ybSIsImV4ZWNBcmd2Iiwic3RkaW8iLCJjdXN0b21GZHMiLCJleGVjUGF0aCIsInNpZ25hbCIsImtpbGxlZCIsImV4aXRDb2RlIiwia2lsbCIsImVyciIsImNvZGUiLCJjb25zb2xlIiwiZXJyb3IiLCJydW5uaW5nQ29tbWFuZCIsImxhc3RPcHQiLCJpbmRleCIsInJldCIsIm9wdGlvbkZvciIsImxpc3RlbmVycyIsImVtaXQiLCJhIiwibGl0ZXJhbCIsInVua25vd25PcHRpb25zIiwib3B0aW9uTWlzc2luZ0FyZ3VtZW50IiwiX3ZlcnNpb25PcHRpb25OYW1lIiwiX3ZlcnNpb24iLCJmbGFnIiwidmVyc2lvbiIsInZlcnNpb25PcHRpb24iLCJzdWJzdHIiLCJzdGRvdXQiLCJ3cml0ZSIsImFyZ3NEZXNjcmlwdGlvbiIsIl9kZXNjcmlwdGlvbiIsIl9hcmdzRGVzY3JpcHRpb24iLCJFcnJvciIsInVzYWdlIiwibWFwIiwiX3VzYWdlIiwicHJlcGFyZUNvbW1hbmRzIiwibGFyZ2VzdENvbW1hbmRMZW5ndGgiLCJsYXJnZXN0T3B0aW9uTGVuZ3RoIiwibGFyZ2VzdEFyZ0xlbmd0aCIsInBhZFdpZHRoIiwib3B0aW9uSGVscCIsIkpTT04iLCJzdHJpbmdpZnkiLCJjb21tYW5kSGVscCIsImhlbHBJbmZvcm1hdGlvbiIsImNtZE5hbWUiLCJjbWRzIiwiY2IiLCJwYXNzdGhydSIsInJlcXVpcmUiLCJtaW5pbWF0Y2giLCJNaW5pbWF0Y2giLCJzZXAiLCJlciIsIkdMT0JTVEFSIiwiZXhwYW5kIiwicGxUeXBlcyIsIiEiLCJvcGVuIiwiY2xvc2UiLCI/IiwiKyIsIioiLCJAIiwicW1hcmsiLCJzdGFyIiwidHdvU3RhckRvdCIsInR3b1N0YXJOb0RvdCIsInJlU3BlY2lhbHMiLCJzZXQiLCJzbGFzaFNwbGl0IiwiZXh0IiwiYiIsImtleXMiLCJrIiwicGF0dGVybiIsIlR5cGVFcnJvciIsIm5vY29tbWVudCIsInRyaW0iLCJtYXRjaCIsInJlZ2V4cCIsIm5lZ2F0ZSIsImNvbW1lbnQiLCJlbXB0eSIsIm1ha2UiLCJicmFjZUV4cGFuZCIsIm5vYnJhY2UiLCJsaXN0IiwiZGVmYXVsdHMiLCJvcmlnIiwiZGVidWciLCJfbWFkZSIsInBhcnNlTmVnYXRlIiwiZ2xvYlNldCIsImdsb2JQYXJ0cyIsInNpIiwibmVnYXRlT2Zmc2V0Iiwibm9uZWdhdGUiLCJpc1N1YiIsIm5vZ2xvYnN0YXIiLCJzdGF0ZUNoYXIiLCJyZSIsImhhc01hZ2ljIiwibm9jYXNlIiwiZXNjYXBpbmciLCJwYXR0ZXJuTGlzdFN0YWNrIiwibmVnYXRpdmVMaXN0cyIsImluQ2xhc3MiLCJyZUNsYXNzU3RhcnQiLCJjbGFzc1N0YXJ0IiwicGF0dGVyblN0YXJ0IiwiZG90IiwiY2xlYXJTdGF0ZUNoYXIiLCJub2V4dCIsInR5cGUiLCJzdGFydCIsInJlU3RhcnQiLCJwbCIsInBvcCIsInJlRW5kIiwiY3MiLCJzdWJzdHJpbmciLCJzcCIsIlNVQlBBUlNFIiwidGFpbCIsIl8iLCIkMSIsIiQyIiwiYWRkUGF0dGVyblN0YXJ0IiwibmwiLCJubEJlZm9yZSIsIm5sRmlyc3QiLCJubExhc3QiLCJubEFmdGVyIiwib3BlblBhcmVuc0JlZm9yZSIsImNsZWFuQWZ0ZXIiLCJkb2xsYXIiLCJuZXdSZSIsInJlZ0V4cCIsIl9nbG9iIiwiX3NyYyIsIm1ha2VSZSIsInR3b1N0YXIiLCJleCIsIm1tIiwibm9udWxsIiwicGFydGlhbCIsImZpbGVuYW1lIiwibWF0Y2hCYXNlIiwiaGl0IiwibWF0Y2hPbmUiLCJmbGlwTmVnYXRlIiwiZmkiLCJwaSIsImZsIiwiZnIiLCJwciIsInN3YWxsb3dlZSIsInRvTG93ZXJDYXNlIiwiY29uY2F0TWFwIiwiYmFsYW5jZWQiLCJpc1RvcCIsImV4cGFuc2lvbnMiLCJwcmUiLCJpc051bWVyaWNTZXF1ZW5jZSIsImJvZHkiLCJpc0FscGhhU2VxdWVuY2UiLCJpc1NlcXVlbmNlIiwiaXNPcHRpb25zIiwicG9zdCIsImVzY0Nsb3NlIiwicGFyc2VDb21tYVBhcnRzIiwicGFydHMiLCJwb3N0UGFydHMiLCJlbWJyYWNlIiwiTiIsIngiLCJudW1lcmljIiwieSIsImluY3IiLCJhYnMiLCJsdGUiLCJyZXZlcnNlIiwiZ3RlIiwic29tZSIsImlzUGFkZGVkIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwibmVlZCIsInoiLCJlbCIsImoiLCJleHBhbnNpb24iLCJlc2NTbGFzaCIsImVzY09wZW4iLCJlc2NDb21tYSIsImVzY1BlcmlvZCIsImVzY2FwZUJyYWNlcyIsInVuZXNjYXBlQnJhY2VzIiwicmFuZG9tIiwicGFyc2VJbnQiLCJjaGFyQ29kZUF0IiwieHMiLCJyZXMiLCJpc0FycmF5IiwidG9TdHJpbmciLCJtYXliZU1hdGNoIiwicmFuZ2UiLCJlbmQiLCJyZWciLCJiZWdzIiwiYmVnIiwibGVmdCIsInJpZ2h0IiwiYWkiLCJiaSIsInZhcm5hbWUiLCJjYW1lbGJhY2siLCJ0aXRsZUNhc2VXb3JkcyIsImNhbWVsY2FzZSIsImRhc2giLCJ1bmRlcnNjb3JlIiwic3RyaW5nIiwicmVzdWx0cyIsIklFbnRyeVR5cGUiLCJkZWZhdWx0QXNzZXRzT3B0aW9ucyIsImZpbGV0eXBlIiwiYXNzZXRzUGF0aExpc3QiLCJleHBvcnRSZWFjdENvbXBvbmVudEZvclN2ZyIsImdlbmVyYXRlSW5kZXhGaWxlRm9yRGlyZWN0b3J5IiwiZGlycGF0aCIsInJlY3Vyc2l2ZSIsInZlcmJvc2UiLCJlbnRyeUxpc3QiLCJbb2JqZWN0IE9iamVjdF0iLCJkaXJTdGF0cyIsImlzRGlyZWN0b3J5Iiwic3RhdHMiLCJyYXdFeHBvcnRlZE5hbWUiLCJleHBvcnRlZE5hbWUiLCJESVJFQ1RPUlkiLCJGSUxFIiwiYmFzZWRpciIsInBhcnNlRGlyZWN0b3J5IiwiaW5kZXhGaWxlbmFtZSIsImluZGV4RmlsZUNvbnRlbnQiLCJzeW1ib2xzVG9FeHBvcnQiLCJpbXBvcnRMaW5lcyIsInNvcnQiLCJlbnRyeSIsImVudHJ5TmV4dCIsInN2Z0NvbXBvbmVudE5hbWUiLCJpbXBvcnRCbG9jayIsImV4cG9ydEJsb2NrIiwiZ2VuZXJhdGVDb250ZW50QnlFbnRlcnlMaXN0IiwiaW5kZXhGaWxlRnVsbFBhdGgiLCJsb2ciLCJkaXJlY3RvcnkiLCJwcm9ncmFtIiwicm9vdERpcmVjb3RyeSIsImNvbmZpZ0ZpbGVOYW1lIiwiY29udGVudCIsImVuY29kaW5nIiwiY29uZmlnT2JqZWN0IiwibG9hZE9wdGlvbnNGcm9tQ29uZmlnRmlsZSIsImFzc2V0c1BhdGgiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdB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NlgsRUFBZ0IsQ0FBRUUsU0FBVSxVQUU1RCxJQUFLRCxFQUNILE9BQU9wQyxFQUdULElBQ0UsTUFBTXNDLEVBQWU5TixLQUFLckUsTUFBTWlTLEdBQ2hDLE1BQU8sSUFDRnBDLEtBQ0FzQyxHQUVMLE1BQU9yVixHQUNQLE9BQU8rUyxLRFdZdUMsMEJBQTBCTixXQUd6Q0EsV0FDRjNQLFFBQVF5UCxJQUFJLCtDQUdoQixNQUFPOVUsR0FDSGdWLFdBQ0YzUCxRQUFReVAsSUFDTixpR0FLRkUsV0FDRjNQLFFBQVF5UCxJQUFJLG9EQUlFOVIsSUFBZCtSLElBQ0Z6VyxFQUFVLElBQ0xBLEVBQ0gyVSxlQUFnQixDQUFDOEIsS0FJakJDLFdBQ0YxVyxFQUFVLElBQ0xBLEVBQ0h2RCxPQUFRaWEsV0FJUkEsYUFDRjFXLEVBQVUsSUFDTEEsRUFDSDBVLFNBQVVnQyxhQUlWQSxVQUNGMVcsRUFBVSxJQUNMQSxFQUNIdUwsTUFBT21MLFVBSVgzUCxRQUFReVAsSUFBSUUsT0FDUkEsUUFDRjFXLEVBQVUsSUFDTEEsRUFDSDRVLDJCQUE0QjhCLFFBSTVCQSxXQUNGM1AsUUFBUXlQLHFCQUFxQnZOLEtBQUtDLFVBQVVsSixPQUFTMEUsRUFBVyxNQUdsRTFFLEVBQVEyVSxlQUFlelIsUUFBUStULElBRTdCcEMsRUFBOEJvQyxHQUFZLEVBQU1qWCxFQUFTMFciLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDExKTtcbiIsIi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyO1xudmFyIHNwYXduID0gcmVxdWlyZSgnY2hpbGRfcHJvY2VzcycpLnNwYXduO1xudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG52YXIgZGlybmFtZSA9IHBhdGguZGlybmFtZTtcbnZhciBiYXNlbmFtZSA9IHBhdGguYmFzZW5hbWU7XG52YXIgZnMgPSByZXF1aXJlKCdmcycpO1xuXG4vKipcbiAqIEluaGVyaXQgYENvbW1hbmRgIGZyb20gYEV2ZW50RW1pdHRlci5wcm90b3R5cGVgLlxuICovXG5cbnJlcXVpcmUoJ3V0aWwnKS5pbmhlcml0cyhDb21tYW5kLCBFdmVudEVtaXR0ZXIpO1xuXG4vKipcbiAqIEV4cG9zZSB0aGUgcm9vdCBjb21tYW5kLlxuICovXG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IG5ldyBDb21tYW5kKCk7XG5cbi8qKlxuICogRXhwb3NlIGBDb21tYW5kYC5cbiAqL1xuXG5leHBvcnRzLkNvbW1hbmQgPSBDb21tYW5kO1xuXG4vKipcbiAqIEV4cG9zZSBgT3B0aW9uYC5cbiAqL1xuXG5leHBvcnRzLk9wdGlvbiA9IE9wdGlvbjtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IGBPcHRpb25gIHdpdGggdGhlIGdpdmVuIGBmbGFnc2AgYW5kIGBkZXNjcmlwdGlvbmAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZsYWdzXG4gKiBAcGFyYW0ge1N0cmluZ30gZGVzY3JpcHRpb25cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gT3B0aW9uKGZsYWdzLCBkZXNjcmlwdGlvbikge1xuICB0aGlzLmZsYWdzID0gZmxhZ3M7XG4gIHRoaXMucmVxdWlyZWQgPSBmbGFncy5pbmRleE9mKCc8JykgPj0gMDtcbiAgdGhpcy5vcHRpb25hbCA9IGZsYWdzLmluZGV4T2YoJ1snKSA+PSAwO1xuICB0aGlzLmJvb2wgPSBmbGFncy5pbmRleE9mKCctbm8tJykgPT09IC0xO1xuICBmbGFncyA9IGZsYWdzLnNwbGl0KC9bICx8XSsvKTtcbiAgaWYgKGZsYWdzLmxlbmd0aCA+IDEgJiYgIS9eW1s8XS8udGVzdChmbGFnc1sxXSkpIHRoaXMuc2hvcnQgPSBmbGFncy5zaGlmdCgpO1xuICB0aGlzLmxvbmcgPSBmbGFncy5zaGlmdCgpO1xuICB0aGlzLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb24gfHwgJyc7XG59XG5cbi8qKlxuICogUmV0dXJuIG9wdGlvbiBuYW1lLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbk9wdGlvbi5wcm90b3R5cGUubmFtZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5sb25nXG4gICAgLnJlcGxhY2UoJy0tJywgJycpXG4gICAgLnJlcGxhY2UoJ25vLScsICcnKTtcbn07XG5cbi8qKlxuICogUmV0dXJuIG9wdGlvbiBuYW1lLCBpbiBhIGNhbWVsY2FzZSBmb3JtYXQgdGhhdCBjYW4gYmUgdXNlZFxuICogYXMgYSBvYmplY3QgYXR0cmlidXRlIGtleS5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5PcHRpb24ucHJvdG90eXBlLmF0dHJpYnV0ZU5hbWUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIGNhbWVsY2FzZSh0aGlzLm5hbWUoKSk7XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGBhcmdgIG1hdGNoZXMgdGhlIHNob3J0IG9yIGxvbmcgZmxhZy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gYXJnXG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuT3B0aW9uLnByb3RvdHlwZS5pcyA9IGZ1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdGhpcy5zaG9ydCA9PT0gYXJnIHx8IHRoaXMubG9uZyA9PT0gYXJnO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IGBDb21tYW5kYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBDb21tYW5kKG5hbWUpIHtcbiAgdGhpcy5jb21tYW5kcyA9IFtdO1xuICB0aGlzLm9wdGlvbnMgPSBbXTtcbiAgdGhpcy5fZXhlY3MgPSB7fTtcbiAgdGhpcy5fYWxsb3dVbmtub3duT3B0aW9uID0gZmFsc2U7XG4gIHRoaXMuX2FyZ3MgPSBbXTtcbiAgdGhpcy5fbmFtZSA9IG5hbWUgfHwgJyc7XG59XG5cbi8qKlxuICogQWRkIGNvbW1hbmQgYG5hbWVgLlxuICpcbiAqIFRoZSBgLmFjdGlvbigpYCBjYWxsYmFjayBpcyBpbnZva2VkIHdoZW4gdGhlXG4gKiBjb21tYW5kIGBuYW1lYCBpcyBzcGVjaWZpZWQgdmlhIF9fQVJHVl9fLFxuICogYW5kIHRoZSByZW1haW5pbmcgYXJndW1lbnRzIGFyZSBhcHBsaWVkIHRvIHRoZVxuICogZnVuY3Rpb24gZm9yIGFjY2Vzcy5cbiAqXG4gKiBXaGVuIHRoZSBgbmFtZWAgaXMgXCIqXCIgYW4gdW4tbWF0Y2hlZCBjb21tYW5kXG4gKiB3aWxsIGJlIHBhc3NlZCBhcyB0aGUgZmlyc3QgYXJnLCBmb2xsb3dlZCBieVxuICogdGhlIHJlc3Qgb2YgX19BUkdWX18gcmVtYWluaW5nLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgcHJvZ3JhbVxuICogICAgICAgIC52ZXJzaW9uKCcwLjAuMScpXG4gKiAgICAgICAgLm9wdGlvbignLUMsIC0tY2hkaXIgPHBhdGg+JywgJ2NoYW5nZSB0aGUgd29ya2luZyBkaXJlY3RvcnknKVxuICogICAgICAgIC5vcHRpb24oJy1jLCAtLWNvbmZpZyA8cGF0aD4nLCAnc2V0IGNvbmZpZyBwYXRoLiBkZWZhdWx0cyB0byAuL2RlcGxveS5jb25mJylcbiAqICAgICAgICAub3B0aW9uKCctVCwgLS1uby10ZXN0cycsICdpZ25vcmUgdGVzdCBob29rJylcbiAqXG4gKiAgICAgIHByb2dyYW1cbiAqICAgICAgICAuY29tbWFuZCgnc2V0dXAnKVxuICogICAgICAgIC5kZXNjcmlwdGlvbigncnVuIHJlbW90ZSBzZXR1cCBjb21tYW5kcycpXG4gKiAgICAgICAgLmFjdGlvbihmdW5jdGlvbigpIHtcbiAqICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXR1cCcpO1xuICogICAgICAgIH0pO1xuICpcbiAqICAgICAgcHJvZ3JhbVxuICogICAgICAgIC5jb21tYW5kKCdleGVjIDxjbWQ+JylcbiAqICAgICAgICAuZGVzY3JpcHRpb24oJ3J1biB0aGUgZ2l2ZW4gcmVtb3RlIGNvbW1hbmQnKVxuICogICAgICAgIC5hY3Rpb24oZnVuY3Rpb24oY21kKSB7XG4gKiAgICAgICAgICBjb25zb2xlLmxvZygnZXhlYyBcIiVzXCInLCBjbWQpO1xuICogICAgICAgIH0pO1xuICpcbiAqICAgICAgcHJvZ3JhbVxuICogICAgICAgIC5jb21tYW5kKCd0ZWFyZG93biA8ZGlyPiBbb3RoZXJEaXJzLi4uXScpXG4gKiAgICAgICAgLmRlc2NyaXB0aW9uKCdydW4gdGVhcmRvd24gY29tbWFuZHMnKVxuICogICAgICAgIC5hY3Rpb24oZnVuY3Rpb24oZGlyLCBvdGhlckRpcnMpIHtcbiAqICAgICAgICAgIGNvbnNvbGUubG9nKCdkaXIgXCIlc1wiJywgZGlyKTtcbiAqICAgICAgICAgIGlmIChvdGhlckRpcnMpIHtcbiAqICAgICAgICAgICAgb3RoZXJEaXJzLmZvckVhY2goZnVuY3Rpb24gKG9EaXIpIHtcbiAqICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZGlyIFwiJXNcIicsIG9EaXIpO1xuICogICAgICAgICAgICB9KTtcbiAqICAgICAgICAgIH1cbiAqICAgICAgICB9KTtcbiAqXG4gKiAgICAgIHByb2dyYW1cbiAqICAgICAgICAuY29tbWFuZCgnKicpXG4gKiAgICAgICAgLmRlc2NyaXB0aW9uKCdkZXBsb3kgdGhlIGdpdmVuIGVudicpXG4gKiAgICAgICAgLmFjdGlvbihmdW5jdGlvbihlbnYpIHtcbiAqICAgICAgICAgIGNvbnNvbGUubG9nKCdkZXBsb3lpbmcgXCIlc1wiJywgZW52KTtcbiAqICAgICAgICB9KTtcbiAqXG4gKiAgICAgIHByb2dyYW0ucGFyc2UocHJvY2Vzcy5hcmd2KTtcbiAgKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfSBbZGVzY10gZm9yIGdpdC1zdHlsZSBzdWItY29tbWFuZHNcbiAqIEByZXR1cm4ge0NvbW1hbmR9IHRoZSBuZXcgY29tbWFuZFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS5jb21tYW5kID0gZnVuY3Rpb24obmFtZSwgZGVzYywgb3B0cykge1xuICBpZiAodHlwZW9mIGRlc2MgPT09ICdvYmplY3QnICYmIGRlc2MgIT09IG51bGwpIHtcbiAgICBvcHRzID0gZGVzYztcbiAgICBkZXNjID0gbnVsbDtcbiAgfVxuICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgdmFyIGFyZ3MgPSBuYW1lLnNwbGl0KC8gKy8pO1xuICB2YXIgY21kID0gbmV3IENvbW1hbmQoYXJncy5zaGlmdCgpKTtcblxuICBpZiAoZGVzYykge1xuICAgIGNtZC5kZXNjcmlwdGlvbihkZXNjKTtcbiAgICB0aGlzLmV4ZWN1dGFibGVzID0gdHJ1ZTtcbiAgICB0aGlzLl9leGVjc1tjbWQuX25hbWVdID0gdHJ1ZTtcbiAgICBpZiAob3B0cy5pc0RlZmF1bHQpIHRoaXMuZGVmYXVsdEV4ZWN1dGFibGUgPSBjbWQuX25hbWU7XG4gIH1cbiAgY21kLl9ub0hlbHAgPSAhIW9wdHMubm9IZWxwO1xuICB0aGlzLmNvbW1hbmRzLnB1c2goY21kKTtcbiAgY21kLnBhcnNlRXhwZWN0ZWRBcmdzKGFyZ3MpO1xuICBjbWQucGFyZW50ID0gdGhpcztcblxuICBpZiAoZGVzYykgcmV0dXJuIHRoaXM7XG4gIHJldHVybiBjbWQ7XG59O1xuXG4vKipcbiAqIERlZmluZSBhcmd1bWVudCBzeW50YXggZm9yIHRoZSB0b3AtbGV2ZWwgY29tbWFuZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLmFyZ3VtZW50cyA9IGZ1bmN0aW9uKGRlc2MpIHtcbiAgcmV0dXJuIHRoaXMucGFyc2VFeHBlY3RlZEFyZ3MoZGVzYy5zcGxpdCgvICsvKSk7XG59O1xuXG4vKipcbiAqIEFkZCBhbiBpbXBsaWNpdCBgaGVscCBbY21kXWAgc3ViY29tbWFuZFxuICogd2hpY2ggaW52b2tlcyBgLS1oZWxwYCBmb3IgdGhlIGdpdmVuIGNvbW1hbmQuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUuYWRkSW1wbGljaXRIZWxwQ29tbWFuZCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNvbW1hbmQoJ2hlbHAgW2NtZF0nLCAnZGlzcGxheSBoZWxwIGZvciBbY21kXScpO1xufTtcblxuLyoqXG4gKiBQYXJzZSBleHBlY3RlZCBgYXJnc2AuXG4gKlxuICogRm9yIGV4YW1wbGUgYFtcIlt0eXBlXVwiXWAgYmVjb21lcyBgW3sgcmVxdWlyZWQ6IGZhbHNlLCBuYW1lOiAndHlwZScgfV1gLlxuICpcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3NcbiAqIEByZXR1cm4ge0NvbW1hbmR9IGZvciBjaGFpbmluZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS5wYXJzZUV4cGVjdGVkQXJncyA9IGZ1bmN0aW9uKGFyZ3MpIHtcbiAgaWYgKCFhcmdzLmxlbmd0aCkgcmV0dXJuO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGFyZ3MuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcbiAgICB2YXIgYXJnRGV0YWlscyA9IHtcbiAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgIG5hbWU6ICcnLFxuICAgICAgdmFyaWFkaWM6IGZhbHNlXG4gICAgfTtcblxuICAgIHN3aXRjaCAoYXJnWzBdKSB7XG4gICAgICBjYXNlICc8JzpcbiAgICAgICAgYXJnRGV0YWlscy5yZXF1aXJlZCA9IHRydWU7XG4gICAgICAgIGFyZ0RldGFpbHMubmFtZSA9IGFyZy5zbGljZSgxLCAtMSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnWyc6XG4gICAgICAgIGFyZ0RldGFpbHMubmFtZSA9IGFyZy5zbGljZSgxLCAtMSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChhcmdEZXRhaWxzLm5hbWUubGVuZ3RoID4gMyAmJiBhcmdEZXRhaWxzLm5hbWUuc2xpY2UoLTMpID09PSAnLi4uJykge1xuICAgICAgYXJnRGV0YWlscy52YXJpYWRpYyA9IHRydWU7XG4gICAgICBhcmdEZXRhaWxzLm5hbWUgPSBhcmdEZXRhaWxzLm5hbWUuc2xpY2UoMCwgLTMpO1xuICAgIH1cbiAgICBpZiAoYXJnRGV0YWlscy5uYW1lKSB7XG4gICAgICBzZWxmLl9hcmdzLnB1c2goYXJnRGV0YWlscyk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlZ2lzdGVyIGNhbGxiYWNrIGBmbmAgZm9yIHRoZSBjb21tYW5kLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICAgcHJvZ3JhbVxuICogICAgICAgIC5jb21tYW5kKCdoZWxwJylcbiAqICAgICAgICAuZGVzY3JpcHRpb24oJ2Rpc3BsYXkgdmVyYm9zZSBoZWxwJylcbiAqICAgICAgICAuYWN0aW9uKGZ1bmN0aW9uKCkge1xuICogICAgICAgICAgIC8vIG91dHB1dCBoZWxwIGhlcmVcbiAqICAgICAgICB9KTtcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7Q29tbWFuZH0gZm9yIGNoYWluaW5nXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLmFjdGlvbiA9IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oYXJncywgdW5rbm93bikge1xuICAgIC8vIFBhcnNlIGFueSBzby1mYXIgdW5rbm93biBvcHRpb25zXG4gICAgYXJncyA9IGFyZ3MgfHwgW107XG4gICAgdW5rbm93biA9IHVua25vd24gfHwgW107XG5cbiAgICB2YXIgcGFyc2VkID0gc2VsZi5wYXJzZU9wdGlvbnModW5rbm93bik7XG5cbiAgICAvLyBPdXRwdXQgaGVscCBpZiBuZWNlc3NhcnlcbiAgICBvdXRwdXRIZWxwSWZOZWNlc3Nhcnkoc2VsZiwgcGFyc2VkLnVua25vd24pO1xuXG4gICAgLy8gSWYgdGhlcmUgYXJlIHN0aWxsIGFueSB1bmtub3duIG9wdGlvbnMsIHRoZW4gd2Ugc2ltcGx5XG4gICAgLy8gZGllLCB1bmxlc3Mgc29tZW9uZSBhc2tlZCBmb3IgaGVscCwgaW4gd2hpY2ggY2FzZSB3ZSBnaXZlIGl0XG4gICAgLy8gdG8gdGhlbSwgYW5kIHRoZW4gd2UgZGllLlxuICAgIGlmIChwYXJzZWQudW5rbm93bi5sZW5ndGggPiAwKSB7XG4gICAgICBzZWxmLnVua25vd25PcHRpb24ocGFyc2VkLnVua25vd25bMF0pO1xuICAgIH1cblxuICAgIC8vIExlZnRvdmVyIGFyZ3VtZW50cyBuZWVkIHRvIGJlIHB1c2hlZCBiYWNrLiBGaXhlcyBpc3N1ZSAjNTZcbiAgICBpZiAocGFyc2VkLmFyZ3MubGVuZ3RoKSBhcmdzID0gcGFyc2VkLmFyZ3MuY29uY2F0KGFyZ3MpO1xuXG4gICAgc2VsZi5fYXJncy5mb3JFYWNoKGZ1bmN0aW9uKGFyZywgaSkge1xuICAgICAgaWYgKGFyZy5yZXF1aXJlZCAmJiBhcmdzW2ldID09IG51bGwpIHtcbiAgICAgICAgc2VsZi5taXNzaW5nQXJndW1lbnQoYXJnLm5hbWUpO1xuICAgICAgfSBlbHNlIGlmIChhcmcudmFyaWFkaWMpIHtcbiAgICAgICAgaWYgKGkgIT09IHNlbGYuX2FyZ3MubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHNlbGYudmFyaWFkaWNBcmdOb3RMYXN0KGFyZy5uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFyZ3NbaV0gPSBhcmdzLnNwbGljZShpKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEFsd2F5cyBhcHBlbmQgb3Vyc2VsdmVzIHRvIHRoZSBlbmQgb2YgdGhlIGFyZ3VtZW50cyxcbiAgICAvLyB0byBtYWtlIHN1cmUgd2UgbWF0Y2ggdGhlIG51bWJlciBvZiBhcmd1bWVudHMgdGhlIHVzZXJcbiAgICAvLyBleHBlY3RzXG4gICAgaWYgKHNlbGYuX2FyZ3MubGVuZ3RoKSB7XG4gICAgICBhcmdzW3NlbGYuX2FyZ3MubGVuZ3RoXSA9IHNlbGY7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyZ3MucHVzaChzZWxmKTtcbiAgICB9XG5cbiAgICBmbi5hcHBseShzZWxmLCBhcmdzKTtcbiAgfTtcbiAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50IHx8IHRoaXM7XG4gIHZhciBuYW1lID0gcGFyZW50ID09PSB0aGlzID8gJyonIDogdGhpcy5fbmFtZTtcbiAgcGFyZW50Lm9uKCdjb21tYW5kOicgKyBuYW1lLCBsaXN0ZW5lcik7XG4gIGlmICh0aGlzLl9hbGlhcykgcGFyZW50Lm9uKCdjb21tYW5kOicgKyB0aGlzLl9hbGlhcywgbGlzdGVuZXIpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogRGVmaW5lIG9wdGlvbiB3aXRoIGBmbGFnc2AsIGBkZXNjcmlwdGlvbmAgYW5kIG9wdGlvbmFsXG4gKiBjb2VyY2lvbiBgZm5gLlxuICpcbiAqIFRoZSBgZmxhZ3NgIHN0cmluZyBzaG91bGQgY29udGFpbiBib3RoIHRoZSBzaG9ydCBhbmQgbG9uZyBmbGFncyxcbiAqIHNlcGFyYXRlZCBieSBjb21tYSwgYSBwaXBlIG9yIHNwYWNlLiBUaGUgZm9sbG93aW5nIGFyZSBhbGwgdmFsaWRcbiAqIGFsbCB3aWxsIG91dHB1dCB0aGlzIHdheSB3aGVuIGAtLWhlbHBgIGlzIHVzZWQuXG4gKlxuICogICAgXCItcCwgLS1wZXBwZXJcIlxuICogICAgXCItcHwtLXBlcHBlclwiXG4gKiAgICBcIi1wIC0tcGVwcGVyXCJcbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgLy8gc2ltcGxlIGJvb2xlYW4gZGVmYXVsdGluZyB0byBmYWxzZVxuICogICAgIHByb2dyYW0ub3B0aW9uKCctcCwgLS1wZXBwZXInLCAnYWRkIHBlcHBlcicpO1xuICpcbiAqICAgICAtLXBlcHBlclxuICogICAgIHByb2dyYW0ucGVwcGVyXG4gKiAgICAgLy8gPT4gQm9vbGVhblxuICpcbiAqICAgICAvLyBzaW1wbGUgYm9vbGVhbiBkZWZhdWx0aW5nIHRvIHRydWVcbiAqICAgICBwcm9ncmFtLm9wdGlvbignLUMsIC0tbm8tY2hlZXNlJywgJ3JlbW92ZSBjaGVlc2UnKTtcbiAqXG4gKiAgICAgcHJvZ3JhbS5jaGVlc2VcbiAqICAgICAvLyA9PiB0cnVlXG4gKlxuICogICAgIC0tbm8tY2hlZXNlXG4gKiAgICAgcHJvZ3JhbS5jaGVlc2VcbiAqICAgICAvLyA9PiBmYWxzZVxuICpcbiAqICAgICAvLyByZXF1aXJlZCBhcmd1bWVudFxuICogICAgIHByb2dyYW0ub3B0aW9uKCctQywgLS1jaGRpciA8cGF0aD4nLCAnY2hhbmdlIHRoZSB3b3JraW5nIGRpcmVjdG9yeScpO1xuICpcbiAqICAgICAtLWNoZGlyIC90bXBcbiAqICAgICBwcm9ncmFtLmNoZGlyXG4gKiAgICAgLy8gPT4gXCIvdG1wXCJcbiAqXG4gKiAgICAgLy8gb3B0aW9uYWwgYXJndW1lbnRcbiAqICAgICBwcm9ncmFtLm9wdGlvbignLWMsIC0tY2hlZXNlIFt0eXBlXScsICdhZGQgY2hlZXNlIFttYXJibGVdJyk7XG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZsYWdzXG4gKiBAcGFyYW0ge1N0cmluZ30gZGVzY3JpcHRpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb258Kn0gW2ZuXSBvciBkZWZhdWx0XG4gKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdXG4gKiBAcmV0dXJuIHtDb21tYW5kfSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUub3B0aW9uID0gZnVuY3Rpb24oZmxhZ3MsIGRlc2NyaXB0aW9uLCBmbiwgZGVmYXVsdFZhbHVlKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICBvcHRpb24gPSBuZXcgT3B0aW9uKGZsYWdzLCBkZXNjcmlwdGlvbiksXG4gICAgb25hbWUgPSBvcHRpb24ubmFtZSgpLFxuICAgIG5hbWUgPSBvcHRpb24uYXR0cmlidXRlTmFtZSgpO1xuXG4gIC8vIGRlZmF1bHQgYXMgM3JkIGFyZ1xuICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGZuIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICB2YXIgcmVnZXggPSBmbjtcbiAgICAgIGZuID0gZnVuY3Rpb24odmFsLCBkZWYpIHtcbiAgICAgICAgdmFyIG0gPSByZWdleC5leGVjKHZhbCk7XG4gICAgICAgIHJldHVybiBtID8gbVswXSA6IGRlZjtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IGZuO1xuICAgICAgZm4gPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8vIHByZWFzc2lnbiBkZWZhdWx0IHZhbHVlIG9ubHkgZm9yIC0tbm8tKiwgW29wdGlvbmFsXSwgb3IgPHJlcXVpcmVkPlxuICBpZiAoIW9wdGlvbi5ib29sIHx8IG9wdGlvbi5vcHRpb25hbCB8fCBvcHRpb24ucmVxdWlyZWQpIHtcbiAgICAvLyB3aGVuIC0tbm8tKiB3ZSBtYWtlIHN1cmUgZGVmYXVsdCBpcyB0cnVlXG4gICAgaWYgKCFvcHRpb24uYm9vbCkgZGVmYXVsdFZhbHVlID0gdHJ1ZTtcbiAgICAvLyBwcmVhc3NpZ24gb25seSBpZiB3ZSBoYXZlIGEgZGVmYXVsdFxuICAgIGlmIChkZWZhdWx0VmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc2VsZltuYW1lXSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgIG9wdGlvbi5kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICB9XG5cbiAgLy8gcmVnaXN0ZXIgdGhlIG9wdGlvblxuICB0aGlzLm9wdGlvbnMucHVzaChvcHRpb24pO1xuXG4gIC8vIHdoZW4gaXQncyBwYXNzZWQgYXNzaWduIHRoZSB2YWx1ZVxuICAvLyBhbmQgY29uZGl0aW9uYWxseSBpbnZva2UgdGhlIGNhbGxiYWNrXG4gIHRoaXMub24oJ29wdGlvbjonICsgb25hbWUsIGZ1bmN0aW9uKHZhbCkge1xuICAgIC8vIGNvZXJjaW9uXG4gICAgaWYgKHZhbCAhPT0gbnVsbCAmJiBmbikge1xuICAgICAgdmFsID0gZm4odmFsLCBzZWxmW25hbWVdID09PSB1bmRlZmluZWQgPyBkZWZhdWx0VmFsdWUgOiBzZWxmW25hbWVdKTtcbiAgICB9XG5cbiAgICAvLyB1bmFzc2lnbmVkIG9yIGJvb2xcbiAgICBpZiAodHlwZW9mIHNlbGZbbmFtZV0gPT09ICdib29sZWFuJyB8fCB0eXBlb2Ygc2VsZltuYW1lXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGlmIG5vIHZhbHVlLCBib29sIHRydWUsIGFuZCB3ZSBoYXZlIGEgZGVmYXVsdCwgdGhlbiB1c2UgaXQhXG4gICAgICBpZiAodmFsID09IG51bGwpIHtcbiAgICAgICAgc2VsZltuYW1lXSA9IG9wdGlvbi5ib29sXG4gICAgICAgICAgPyBkZWZhdWx0VmFsdWUgfHwgdHJ1ZVxuICAgICAgICAgIDogZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmW25hbWVdID0gdmFsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodmFsICE9PSBudWxsKSB7XG4gICAgICAvLyByZWFzc2lnblxuICAgICAgc2VsZltuYW1lXSA9IHZhbDtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBBbGxvdyB1bmtub3duIG9wdGlvbnMgb24gdGhlIGNvbW1hbmQgbGluZS5cbiAqXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGFyZyBpZiBgdHJ1ZWAgb3Igb21pdHRlZCwgbm8gZXJyb3Igd2lsbCBiZSB0aHJvd25cbiAqIGZvciB1bmtub3duIG9wdGlvbnMuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5Db21tYW5kLnByb3RvdHlwZS5hbGxvd1Vua25vd25PcHRpb24gPSBmdW5jdGlvbihhcmcpIHtcbiAgdGhpcy5fYWxsb3dVbmtub3duT3B0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMCB8fCBhcmc7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBQYXJzZSBgYXJndmAsIHNldHRpbmdzIG9wdGlvbnMgYW5kIGludm9raW5nIGNvbW1hbmRzIHdoZW4gZGVmaW5lZC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcmd2XG4gKiBAcmV0dXJuIHtDb21tYW5kfSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbihhcmd2KSB7XG4gIC8vIGltcGxpY2l0IGhlbHBcbiAgaWYgKHRoaXMuZXhlY3V0YWJsZXMpIHRoaXMuYWRkSW1wbGljaXRIZWxwQ29tbWFuZCgpO1xuXG4gIC8vIHN0b3JlIHJhdyBhcmdzXG4gIHRoaXMucmF3QXJncyA9IGFyZ3Y7XG5cbiAgLy8gZ3Vlc3MgbmFtZVxuICB0aGlzLl9uYW1lID0gdGhpcy5fbmFtZSB8fCBiYXNlbmFtZShhcmd2WzFdLCAnLmpzJyk7XG5cbiAgLy8gZ2l0aHViLXN0eWxlIHN1Yi1jb21tYW5kcyB3aXRoIG5vIHN1Yi1jb21tYW5kXG4gIGlmICh0aGlzLmV4ZWN1dGFibGVzICYmIGFyZ3YubGVuZ3RoIDwgMyAmJiAhdGhpcy5kZWZhdWx0RXhlY3V0YWJsZSkge1xuICAgIC8vIHRoaXMgdXNlciBuZWVkcyBoZWxwXG4gICAgYXJndi5wdXNoKCctLWhlbHAnKTtcbiAgfVxuXG4gIC8vIHByb2Nlc3MgYXJndlxuICB2YXIgcGFyc2VkID0gdGhpcy5wYXJzZU9wdGlvbnModGhpcy5ub3JtYWxpemUoYXJndi5zbGljZSgyKSkpO1xuICB2YXIgYXJncyA9IHRoaXMuYXJncyA9IHBhcnNlZC5hcmdzO1xuXG4gIHZhciByZXN1bHQgPSB0aGlzLnBhcnNlQXJncyh0aGlzLmFyZ3MsIHBhcnNlZC51bmtub3duKTtcblxuICAvLyBleGVjdXRhYmxlIHN1Yi1jb21tYW5kc1xuICB2YXIgbmFtZSA9IHJlc3VsdC5hcmdzWzBdO1xuXG4gIHZhciBhbGlhc0NvbW1hbmQgPSBudWxsO1xuICAvLyBjaGVjayBhbGlhcyBvZiBzdWIgY29tbWFuZHNcbiAgaWYgKG5hbWUpIHtcbiAgICBhbGlhc0NvbW1hbmQgPSB0aGlzLmNvbW1hbmRzLmZpbHRlcihmdW5jdGlvbihjb21tYW5kKSB7XG4gICAgICByZXR1cm4gY29tbWFuZC5hbGlhcygpID09PSBuYW1lO1xuICAgIH0pWzBdO1xuICB9XG5cbiAgaWYgKHRoaXMuX2V4ZWNzW25hbWVdICYmIHR5cGVvZiB0aGlzLl9leGVjc1tuYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0aGlzLmV4ZWN1dGVTdWJDb21tYW5kKGFyZ3YsIGFyZ3MsIHBhcnNlZC51bmtub3duKTtcbiAgfSBlbHNlIGlmIChhbGlhc0NvbW1hbmQpIHtcbiAgICAvLyBpcyBhbGlhcyBvZiBhIHN1YkNvbW1hbmRcbiAgICBhcmdzWzBdID0gYWxpYXNDb21tYW5kLl9uYW1lO1xuICAgIHJldHVybiB0aGlzLmV4ZWN1dGVTdWJDb21tYW5kKGFyZ3YsIGFyZ3MsIHBhcnNlZC51bmtub3duKTtcbiAgfSBlbHNlIGlmICh0aGlzLmRlZmF1bHRFeGVjdXRhYmxlKSB7XG4gICAgLy8gdXNlIHRoZSBkZWZhdWx0IHN1YmNvbW1hbmRcbiAgICBhcmdzLnVuc2hpZnQodGhpcy5kZWZhdWx0RXhlY3V0YWJsZSk7XG4gICAgcmV0dXJuIHRoaXMuZXhlY3V0ZVN1YkNvbW1hbmQoYXJndiwgYXJncywgcGFyc2VkLnVua25vd24pO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogRXhlY3V0ZSBhIHN1Yi1jb21tYW5kIGV4ZWN1dGFibGUuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJndlxuICogQHBhcmFtIHtBcnJheX0gYXJnc1xuICogQHBhcmFtIHtBcnJheX0gdW5rbm93blxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUuZXhlY3V0ZVN1YkNvbW1hbmQgPSBmdW5jdGlvbihhcmd2LCBhcmdzLCB1bmtub3duKSB7XG4gIGFyZ3MgPSBhcmdzLmNvbmNhdCh1bmtub3duKTtcblxuICBpZiAoIWFyZ3MubGVuZ3RoKSB0aGlzLmhlbHAoKTtcbiAgaWYgKGFyZ3NbMF0gPT09ICdoZWxwJyAmJiBhcmdzLmxlbmd0aCA9PT0gMSkgdGhpcy5oZWxwKCk7XG5cbiAgLy8gPGNtZD4gLS1oZWxwXG4gIGlmIChhcmdzWzBdID09PSAnaGVscCcpIHtcbiAgICBhcmdzWzBdID0gYXJnc1sxXTtcbiAgICBhcmdzWzFdID0gJy0taGVscCc7XG4gIH1cblxuICAvLyBleGVjdXRhYmxlXG4gIHZhciBmID0gYXJndlsxXTtcbiAgLy8gbmFtZSBvZiB0aGUgc3ViY29tbWFuZCwgbGluayBgcG0taW5zdGFsbGBcbiAgdmFyIGJpbiA9IGJhc2VuYW1lKGYsIHBhdGguZXh0bmFtZShmKSkgKyAnLScgKyBhcmdzWzBdO1xuXG4gIC8vIEluIGNhc2Ugb2YgZ2xvYmFsbHkgaW5zdGFsbGVkLCBnZXQgdGhlIGJhc2UgZGlyIHdoZXJlIGV4ZWN1dGFibGVcbiAgLy8gIHN1YmNvbW1hbmQgZmlsZSBzaG91bGQgYmUgbG9jYXRlZCBhdFxuICB2YXIgYmFzZURpcixcbiAgICBsaW5rID0gZnMubHN0YXRTeW5jKGYpLmlzU3ltYm9saWNMaW5rKCkgPyBmcy5yZWFkbGlua1N5bmMoZikgOiBmO1xuXG4gIC8vIHdoZW4gc3ltYm9saW5rIGlzIHJlbGF0aXZlIHBhdGhcbiAgaWYgKGxpbmsgIT09IGYgJiYgbGluay5jaGFyQXQoMCkgIT09ICcvJykge1xuICAgIGxpbmsgPSBwYXRoLmpvaW4oZGlybmFtZShmKSwgbGluayk7XG4gIH1cbiAgYmFzZURpciA9IGRpcm5hbWUobGluayk7XG5cbiAgLy8gcHJlZmVyIGxvY2FsIGAuLzxiaW4+YCB0byBiaW4gaW4gdGhlICRQQVRIXG4gIHZhciBsb2NhbEJpbiA9IHBhdGguam9pbihiYXNlRGlyLCBiaW4pO1xuXG4gIC8vIHdoZXRoZXIgYmluIGZpbGUgaXMgYSBqcyBzY3JpcHQgd2l0aCBleHBsaWNpdCBgLmpzYCBvciBgLnRzYCBleHRlbnNpb25cbiAgdmFyIGlzRXhwbGljaXRKUyA9IGZhbHNlO1xuICBpZiAoZXhpc3RzKGxvY2FsQmluICsgJy5qcycpKSB7XG4gICAgYmluID0gbG9jYWxCaW4gKyAnLmpzJztcbiAgICBpc0V4cGxpY2l0SlMgPSB0cnVlO1xuICB9IGVsc2UgaWYgKGV4aXN0cyhsb2NhbEJpbiArICcudHMnKSkge1xuICAgIGJpbiA9IGxvY2FsQmluICsgJy50cyc7XG4gICAgaXNFeHBsaWNpdEpTID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChleGlzdHMobG9jYWxCaW4pKSB7XG4gICAgYmluID0gbG9jYWxCaW47XG4gIH1cblxuICBhcmdzID0gYXJncy5zbGljZSgxKTtcblxuICB2YXIgcHJvYztcbiAgaWYgKHByb2Nlc3MucGxhdGZvcm0gIT09ICd3aW4zMicpIHtcbiAgICBpZiAoaXNFeHBsaWNpdEpTKSB7XG4gICAgICBhcmdzLnVuc2hpZnQoYmluKTtcbiAgICAgIC8vIGFkZCBleGVjdXRhYmxlIGFyZ3VtZW50cyB0byBzcGF3blxuICAgICAgYXJncyA9IChwcm9jZXNzLmV4ZWNBcmd2IHx8IFtdKS5jb25jYXQoYXJncyk7XG5cbiAgICAgIHByb2MgPSBzcGF3bihwcm9jZXNzLmFyZ3ZbMF0sIGFyZ3MsIHsgc3RkaW86ICdpbmhlcml0JywgY3VzdG9tRmRzOiBbMCwgMSwgMl0gfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb2MgPSBzcGF3bihiaW4sIGFyZ3MsIHsgc3RkaW86ICdpbmhlcml0JywgY3VzdG9tRmRzOiBbMCwgMSwgMl0gfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGFyZ3MudW5zaGlmdChiaW4pO1xuICAgIHByb2MgPSBzcGF3bihwcm9jZXNzLmV4ZWNQYXRoLCBhcmdzLCB7IHN0ZGlvOiAnaW5oZXJpdCcgfSk7XG4gIH1cblxuICB2YXIgc2lnbmFscyA9IFsnU0lHVVNSMScsICdTSUdVU1IyJywgJ1NJR1RFUk0nLCAnU0lHSU5UJywgJ1NJR0hVUCddO1xuICBzaWduYWxzLmZvckVhY2goZnVuY3Rpb24oc2lnbmFsKSB7XG4gICAgcHJvY2Vzcy5vbihzaWduYWwsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHByb2Mua2lsbGVkID09PSBmYWxzZSAmJiBwcm9jLmV4aXRDb2RlID09PSBudWxsKSB7XG4gICAgICAgIHByb2Mua2lsbChzaWduYWwpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgcHJvYy5vbignY2xvc2UnLCBwcm9jZXNzLmV4aXQuYmluZChwcm9jZXNzKSk7XG4gIHByb2Mub24oJ2Vycm9yJywgZnVuY3Rpb24oZXJyKSB7XG4gICAgaWYgKGVyci5jb2RlID09PSAnRU5PRU5UJykge1xuICAgICAgY29uc29sZS5lcnJvcignZXJyb3I6ICVzKDEpIGRvZXMgbm90IGV4aXN0LCB0cnkgLS1oZWxwJywgYmluKTtcbiAgICB9IGVsc2UgaWYgKGVyci5jb2RlID09PSAnRUFDQ0VTJykge1xuICAgICAgY29uc29sZS5lcnJvcignZXJyb3I6ICVzKDEpIG5vdCBleGVjdXRhYmxlLiB0cnkgY2htb2Qgb3IgcnVuIHdpdGggcm9vdCcsIGJpbik7XG4gICAgfVxuICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgfSk7XG5cbiAgLy8gU3RvcmUgdGhlIHJlZmVyZW5jZSB0byB0aGUgY2hpbGQgcHJvY2Vzc1xuICB0aGlzLnJ1bm5pbmdDb21tYW5kID0gcHJvYztcbn07XG5cbi8qKlxuICogTm9ybWFsaXplIGBhcmdzYCwgc3BsaXR0aW5nIGpvaW5lZCBzaG9ydCBmbGFncy4gRm9yIGV4YW1wbGVcbiAqIHRoZSBhcmcgXCItYWJjXCIgaXMgZXF1aXZhbGVudCB0byBcIi1hIC1iIC1jXCIuXG4gKiBUaGlzIGFsc28gbm9ybWFsaXplcyBlcXVhbCBzaWduIGFuZCBzcGxpdHMgXCItLWFiYz1kZWZcIiBpbnRvIFwiLS1hYmMgZGVmXCIuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJnc1xuICogQHJldHVybiB7QXJyYXl9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS5ub3JtYWxpemUgPSBmdW5jdGlvbihhcmdzKSB7XG4gIHZhciByZXQgPSBbXSxcbiAgICBhcmcsXG4gICAgbGFzdE9wdCxcbiAgICBpbmRleDtcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJncy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgIGFyZyA9IGFyZ3NbaV07XG4gICAgaWYgKGkgPiAwKSB7XG4gICAgICBsYXN0T3B0ID0gdGhpcy5vcHRpb25Gb3IoYXJnc1tpIC0gMV0pO1xuICAgIH1cblxuICAgIGlmIChhcmcgPT09ICctLScpIHtcbiAgICAgIC8vIEhvbm9yIG9wdGlvbiB0ZXJtaW5hdG9yXG4gICAgICByZXQgPSByZXQuY29uY2F0KGFyZ3Muc2xpY2UoaSkpO1xuICAgICAgYnJlYWs7XG4gICAgfSBlbHNlIGlmIChsYXN0T3B0ICYmIGxhc3RPcHQucmVxdWlyZWQpIHtcbiAgICAgIHJldC5wdXNoKGFyZyk7XG4gICAgfSBlbHNlIGlmIChhcmcubGVuZ3RoID4gMSAmJiBhcmdbMF0gPT09ICctJyAmJiBhcmdbMV0gIT09ICctJykge1xuICAgICAgYXJnLnNsaWNlKDEpLnNwbGl0KCcnKS5mb3JFYWNoKGZ1bmN0aW9uKGMpIHtcbiAgICAgICAgcmV0LnB1c2goJy0nICsgYyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKC9eLS0vLnRlc3QoYXJnKSAmJiB+KGluZGV4ID0gYXJnLmluZGV4T2YoJz0nKSkpIHtcbiAgICAgIHJldC5wdXNoKGFyZy5zbGljZSgwLCBpbmRleCksIGFyZy5zbGljZShpbmRleCArIDEpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0LnB1c2goYXJnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmV0O1xufTtcblxuLyoqXG4gKiBQYXJzZSBjb21tYW5kIGBhcmdzYC5cbiAqXG4gKiBXaGVuIGxpc3RlbmVyKHMpIGFyZSBhdmFpbGFibGUgdGhvc2VcbiAqIGNhbGxiYWNrcyBhcmUgaW52b2tlZCwgb3RoZXJ3aXNlIHRoZSBcIipcIlxuICogZXZlbnQgaXMgZW1pdHRlZCBhbmQgdGhvc2UgYWN0aW9ucyBhcmUgaW52b2tlZC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcmdzXG4gKiBAcmV0dXJuIHtDb21tYW5kfSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLnBhcnNlQXJncyA9IGZ1bmN0aW9uKGFyZ3MsIHVua25vd24pIHtcbiAgdmFyIG5hbWU7XG5cbiAgaWYgKGFyZ3MubGVuZ3RoKSB7XG4gICAgbmFtZSA9IGFyZ3NbMF07XG4gICAgaWYgKHRoaXMubGlzdGVuZXJzKCdjb21tYW5kOicgKyBuYW1lKS5sZW5ndGgpIHtcbiAgICAgIHRoaXMuZW1pdCgnY29tbWFuZDonICsgYXJncy5zaGlmdCgpLCBhcmdzLCB1bmtub3duKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbWl0KCdjb21tYW5kOionLCBhcmdzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgb3V0cHV0SGVscElmTmVjZXNzYXJ5KHRoaXMsIHVua25vd24pO1xuXG4gICAgLy8gSWYgdGhlcmUgd2VyZSBubyBhcmdzIGFuZCB3ZSBoYXZlIHVua25vd24gb3B0aW9ucyxcbiAgICAvLyB0aGVuIHRoZXkgYXJlIGV4dHJhbmVvdXMgYW5kIHdlIG5lZWQgdG8gZXJyb3IuXG4gICAgaWYgKHVua25vd24ubGVuZ3RoID4gMCkge1xuICAgICAgdGhpcy51bmtub3duT3B0aW9uKHVua25vd25bMF0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5jb21tYW5kcy5sZW5ndGggPT09IDAgJiZcbiAgICAgICAgdGhpcy5fYXJncy5maWx0ZXIoZnVuY3Rpb24oYSkgeyByZXR1cm4gYS5yZXF1aXJlZCB9KS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRoaXMuZW1pdCgnY29tbWFuZDoqJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJldHVybiBhbiBvcHRpb24gbWF0Y2hpbmcgYGFyZ2AgaWYgYW55LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBhcmdcbiAqIEByZXR1cm4ge09wdGlvbn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLm9wdGlvbkZvciA9IGZ1bmN0aW9uKGFyZykge1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5vcHRpb25zLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgaWYgKHRoaXMub3B0aW9uc1tpXS5pcyhhcmcpKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zW2ldO1xuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBQYXJzZSBvcHRpb25zIGZyb20gYGFyZ3ZgIHJldHVybmluZyBgYXJndmBcbiAqIHZvaWQgb2YgdGhlc2Ugb3B0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcmd2XG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUucGFyc2VPcHRpb25zID0gZnVuY3Rpb24oYXJndikge1xuICB2YXIgYXJncyA9IFtdLFxuICAgIGxlbiA9IGFyZ3YubGVuZ3RoLFxuICAgIGxpdGVyYWwsXG4gICAgb3B0aW9uLFxuICAgIGFyZztcblxuICB2YXIgdW5rbm93bk9wdGlvbnMgPSBbXTtcblxuICAvLyBwYXJzZSBvcHRpb25zXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICBhcmcgPSBhcmd2W2ldO1xuXG4gICAgLy8gbGl0ZXJhbCBhcmdzIGFmdGVyIC0tXG4gICAgaWYgKGxpdGVyYWwpIHtcbiAgICAgIGFyZ3MucHVzaChhcmcpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGFyZyA9PT0gJy0tJykge1xuICAgICAgbGl0ZXJhbCA9IHRydWU7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBmaW5kIG1hdGNoaW5nIE9wdGlvblxuICAgIG9wdGlvbiA9IHRoaXMub3B0aW9uRm9yKGFyZyk7XG5cbiAgICAvLyBvcHRpb24gaXMgZGVmaW5lZFxuICAgIGlmIChvcHRpb24pIHtcbiAgICAgIC8vIHJlcXVpcmVzIGFyZ1xuICAgICAgaWYgKG9wdGlvbi5yZXF1aXJlZCkge1xuICAgICAgICBhcmcgPSBhcmd2WysraV07XG4gICAgICAgIGlmIChhcmcgPT0gbnVsbCkgcmV0dXJuIHRoaXMub3B0aW9uTWlzc2luZ0FyZ3VtZW50KG9wdGlvbik7XG4gICAgICAgIHRoaXMuZW1pdCgnb3B0aW9uOicgKyBvcHRpb24ubmFtZSgpLCBhcmcpO1xuICAgICAgLy8gb3B0aW9uYWwgYXJnXG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbi5vcHRpb25hbCkge1xuICAgICAgICBhcmcgPSBhcmd2W2kgKyAxXTtcbiAgICAgICAgaWYgKGFyZyA9PSBudWxsIHx8IChhcmdbMF0gPT09ICctJyAmJiBhcmcgIT09ICctJykpIHtcbiAgICAgICAgICBhcmcgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICsraTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVtaXQoJ29wdGlvbjonICsgb3B0aW9uLm5hbWUoKSwgYXJnKTtcbiAgICAgIC8vIGJvb2xcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZW1pdCgnb3B0aW9uOicgKyBvcHRpb24ubmFtZSgpKTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGxvb2tzIGxpa2UgYW4gb3B0aW9uXG4gICAgaWYgKGFyZy5sZW5ndGggPiAxICYmIGFyZ1swXSA9PT0gJy0nKSB7XG4gICAgICB1bmtub3duT3B0aW9ucy5wdXNoKGFyZyk7XG5cbiAgICAgIC8vIElmIHRoZSBuZXh0IGFyZ3VtZW50IGxvb2tzIGxpa2UgaXQgbWlnaHQgYmVcbiAgICAgIC8vIGFuIGFyZ3VtZW50IGZvciB0aGlzIG9wdGlvbiwgd2UgcGFzcyBpdCBvbi5cbiAgICAgIC8vIElmIGl0IGlzbid0LCB0aGVuIGl0J2xsIHNpbXBseSBiZSBpZ25vcmVkXG4gICAgICBpZiAoKGkgKyAxKSA8IGFyZ3YubGVuZ3RoICYmIGFyZ3ZbaSArIDFdWzBdICE9PSAnLScpIHtcbiAgICAgICAgdW5rbm93bk9wdGlvbnMucHVzaChhcmd2WysraV0pO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgLy8gYXJnXG4gICAgYXJncy5wdXNoKGFyZyk7XG4gIH1cblxuICByZXR1cm4geyBhcmdzOiBhcmdzLCB1bmtub3duOiB1bmtub3duT3B0aW9ucyB9O1xufTtcblxuLyoqXG4gKiBSZXR1cm4gYW4gb2JqZWN0IGNvbnRhaW5pbmcgb3B0aW9ucyBhcyBrZXktdmFsdWUgcGFpcnNcbiAqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5Db21tYW5kLnByb3RvdHlwZS5vcHRzID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXN1bHQgPSB7fSxcbiAgICBsZW4gPSB0aGlzLm9wdGlvbnMubGVuZ3RoO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIga2V5ID0gdGhpcy5vcHRpb25zW2ldLmF0dHJpYnV0ZU5hbWUoKTtcbiAgICByZXN1bHRba2V5XSA9IGtleSA9PT0gdGhpcy5fdmVyc2lvbk9wdGlvbk5hbWUgPyB0aGlzLl92ZXJzaW9uIDogdGhpc1trZXldO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIEFyZ3VtZW50IGBuYW1lYCBpcyBtaXNzaW5nLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS5taXNzaW5nQXJndW1lbnQgPSBmdW5jdGlvbihuYW1lKSB7XG4gIGNvbnNvbGUuZXJyb3IoXCJlcnJvcjogbWlzc2luZyByZXF1aXJlZCBhcmd1bWVudCBgJXMnXCIsIG5hbWUpO1xuICBwcm9jZXNzLmV4aXQoMSk7XG59O1xuXG4vKipcbiAqIGBPcHRpb25gIGlzIG1pc3NpbmcgYW4gYXJndW1lbnQsIGJ1dCByZWNlaXZlZCBgZmxhZ2Agb3Igbm90aGluZy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9uXG4gKiBAcGFyYW0ge1N0cmluZ30gZmxhZ1xuICogQGFwaSBwcml2YXRlXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUub3B0aW9uTWlzc2luZ0FyZ3VtZW50ID0gZnVuY3Rpb24ob3B0aW9uLCBmbGFnKSB7XG4gIGlmIChmbGFnKSB7XG4gICAgY29uc29sZS5lcnJvcihcImVycm9yOiBvcHRpb24gYCVzJyBhcmd1bWVudCBtaXNzaW5nLCBnb3QgYCVzJ1wiLCBvcHRpb24uZmxhZ3MsIGZsYWcpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJlcnJvcjogb3B0aW9uIGAlcycgYXJndW1lbnQgbWlzc2luZ1wiLCBvcHRpb24uZmxhZ3MpO1xuICB9XG4gIHByb2Nlc3MuZXhpdCgxKTtcbn07XG5cbi8qKlxuICogVW5rbm93biBvcHRpb24gYGZsYWdgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmbGFnXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS51bmtub3duT3B0aW9uID0gZnVuY3Rpb24oZmxhZykge1xuICBpZiAodGhpcy5fYWxsb3dVbmtub3duT3B0aW9uKSByZXR1cm47XG4gIGNvbnNvbGUuZXJyb3IoXCJlcnJvcjogdW5rbm93biBvcHRpb24gYCVzJ1wiLCBmbGFnKTtcbiAgcHJvY2Vzcy5leGl0KDEpO1xufTtcblxuLyoqXG4gKiBWYXJpYWRpYyBhcmd1bWVudCB3aXRoIGBuYW1lYCBpcyBub3QgdGhlIGxhc3QgYXJndW1lbnQgYXMgcmVxdWlyZWQuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLnZhcmlhZGljQXJnTm90TGFzdCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgY29uc29sZS5lcnJvcihcImVycm9yOiB2YXJpYWRpYyBhcmd1bWVudHMgbXVzdCBiZSBsYXN0IGAlcydcIiwgbmFtZSk7XG4gIHByb2Nlc3MuZXhpdCgxKTtcbn07XG5cbi8qKlxuICogU2V0IHRoZSBwcm9ncmFtIHZlcnNpb24gdG8gYHN0cmAuXG4gKlxuICogVGhpcyBtZXRob2QgYXV0by1yZWdpc3RlcnMgdGhlIFwiLVYsIC0tdmVyc2lvblwiIGZsYWdcbiAqIHdoaWNoIHdpbGwgcHJpbnQgdGhlIHZlcnNpb24gbnVtYmVyIHdoZW4gcGFzc2VkLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBbZmxhZ3NdXG4gKiBAcmV0dXJuIHtDb21tYW5kfSBmb3IgY2hhaW5pbmdcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUudmVyc2lvbiA9IGZ1bmN0aW9uKHN0ciwgZmxhZ3MpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB0aGlzLl92ZXJzaW9uO1xuICB0aGlzLl92ZXJzaW9uID0gc3RyO1xuICBmbGFncyA9IGZsYWdzIHx8ICctViwgLS12ZXJzaW9uJztcbiAgdmFyIHZlcnNpb25PcHRpb24gPSBuZXcgT3B0aW9uKGZsYWdzLCAnb3V0cHV0IHRoZSB2ZXJzaW9uIG51bWJlcicpO1xuICB0aGlzLl92ZXJzaW9uT3B0aW9uTmFtZSA9IHZlcnNpb25PcHRpb24ubG9uZy5zdWJzdHIoMikgfHwgJ3ZlcnNpb24nO1xuICB0aGlzLm9wdGlvbnMucHVzaCh2ZXJzaW9uT3B0aW9uKTtcbiAgdGhpcy5vbignb3B0aW9uOicgKyB0aGlzLl92ZXJzaW9uT3B0aW9uTmFtZSwgZnVuY3Rpb24oKSB7XG4gICAgcHJvY2Vzcy5zdGRvdXQud3JpdGUoc3RyICsgJ1xcbicpO1xuICAgIHByb2Nlc3MuZXhpdCgwKTtcbiAgfSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgdGhlIGRlc2NyaXB0aW9uIHRvIGBzdHJgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBhcmdzRGVzY3JpcHRpb25cbiAqIEByZXR1cm4ge1N0cmluZ3xDb21tYW5kfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS5kZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKHN0ciwgYXJnc0Rlc2NyaXB0aW9uKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdGhpcy5fZGVzY3JpcHRpb247XG4gIHRoaXMuX2Rlc2NyaXB0aW9uID0gc3RyO1xuICB0aGlzLl9hcmdzRGVzY3JpcHRpb24gPSBhcmdzRGVzY3JpcHRpb247XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBTZXQgYW4gYWxpYXMgZm9yIHRoZSBjb21tYW5kXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGFsaWFzXG4gKiBAcmV0dXJuIHtTdHJpbmd8Q29tbWFuZH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUuYWxpYXMgPSBmdW5jdGlvbihhbGlhcykge1xuICB2YXIgY29tbWFuZCA9IHRoaXM7XG4gIGlmICh0aGlzLmNvbW1hbmRzLmxlbmd0aCAhPT0gMCkge1xuICAgIGNvbW1hbmQgPSB0aGlzLmNvbW1hbmRzW3RoaXMuY29tbWFuZHMubGVuZ3RoIC0gMV07XG4gIH1cblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGNvbW1hbmQuX2FsaWFzO1xuXG4gIGlmIChhbGlhcyA9PT0gY29tbWFuZC5fbmFtZSkgdGhyb3cgbmV3IEVycm9yKCdDb21tYW5kIGFsaWFzIGNhblxcJ3QgYmUgdGhlIHNhbWUgYXMgaXRzIG5hbWUnKTtcblxuICBjb21tYW5kLl9hbGlhcyA9IGFsaWFzO1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogU2V0IC8gZ2V0IHRoZSBjb21tYW5kIHVzYWdlIGBzdHJgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge1N0cmluZ3xDb21tYW5kfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS51c2FnZSA9IGZ1bmN0aW9uKHN0cikge1xuICB2YXIgYXJncyA9IHRoaXMuX2FyZ3MubWFwKGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBodW1hblJlYWRhYmxlQXJnTmFtZShhcmcpO1xuICB9KTtcblxuICB2YXIgdXNhZ2UgPSAnW29wdGlvbnNdJyArXG4gICAgKHRoaXMuY29tbWFuZHMubGVuZ3RoID8gJyBbY29tbWFuZF0nIDogJycpICtcbiAgICAodGhpcy5fYXJncy5sZW5ndGggPyAnICcgKyBhcmdzLmpvaW4oJyAnKSA6ICcnKTtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRoaXMuX3VzYWdlIHx8IHVzYWdlO1xuICB0aGlzLl91c2FnZSA9IHN0cjtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogR2V0IG9yIHNldCB0aGUgbmFtZSBvZiB0aGUgY29tbWFuZFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge1N0cmluZ3xDb21tYW5kfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24oc3RyKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdGhpcy5fbmFtZTtcbiAgdGhpcy5fbmFtZSA9IHN0cjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJldHVybiBwcmVwYXJlZCBjb21tYW5kcy5cbiAqXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLnByZXBhcmVDb21tYW5kcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5jb21tYW5kcy5maWx0ZXIoZnVuY3Rpb24oY21kKSB7XG4gICAgcmV0dXJuICFjbWQuX25vSGVscDtcbiAgfSkubWFwKGZ1bmN0aW9uKGNtZCkge1xuICAgIHZhciBhcmdzID0gY21kLl9hcmdzLm1hcChmdW5jdGlvbihhcmcpIHtcbiAgICAgIHJldHVybiBodW1hblJlYWRhYmxlQXJnTmFtZShhcmcpO1xuICAgIH0pLmpvaW4oJyAnKTtcblxuICAgIHJldHVybiBbXG4gICAgICBjbWQuX25hbWUgK1xuICAgICAgICAoY21kLl9hbGlhcyA/ICd8JyArIGNtZC5fYWxpYXMgOiAnJykgK1xuICAgICAgICAoY21kLm9wdGlvbnMubGVuZ3RoID8gJyBbb3B0aW9uc10nIDogJycpICtcbiAgICAgICAgKGFyZ3MgPyAnICcgKyBhcmdzIDogJycpLFxuICAgICAgY21kLl9kZXNjcmlwdGlvblxuICAgIF07XG4gIH0pO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxhcmdlc3QgY29tbWFuZCBsZW5ndGguXG4gKlxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUubGFyZ2VzdENvbW1hbmRMZW5ndGggPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNvbW1hbmRzID0gdGhpcy5wcmVwYXJlQ29tbWFuZHMoKTtcbiAgcmV0dXJuIGNvbW1hbmRzLnJlZHVjZShmdW5jdGlvbihtYXgsIGNvbW1hbmQpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgobWF4LCBjb21tYW5kWzBdLmxlbmd0aCk7XG4gIH0sIDApO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGxhcmdlc3Qgb3B0aW9uIGxlbmd0aC5cbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS5sYXJnZXN0T3B0aW9uTGVuZ3RoID0gZnVuY3Rpb24oKSB7XG4gIHZhciBvcHRpb25zID0gW10uc2xpY2UuY2FsbCh0aGlzLm9wdGlvbnMpO1xuICBvcHRpb25zLnB1c2goe1xuICAgIGZsYWdzOiAnLWgsIC0taGVscCdcbiAgfSk7XG4gIHJldHVybiBvcHRpb25zLnJlZHVjZShmdW5jdGlvbihtYXgsIG9wdGlvbikge1xuICAgIHJldHVybiBNYXRoLm1heChtYXgsIG9wdGlvbi5mbGFncy5sZW5ndGgpO1xuICB9LCAwKTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsYXJnZXN0IGFyZyBsZW5ndGguXG4gKlxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUubGFyZ2VzdEFyZ0xlbmd0aCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fYXJncy5yZWR1Y2UoZnVuY3Rpb24obWF4LCBhcmcpIHtcbiAgICByZXR1cm4gTWF0aC5tYXgobWF4LCBhcmcubmFtZS5sZW5ndGgpO1xuICB9LCAwKTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBwYWQgd2lkdGguXG4gKlxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUucGFkV2lkdGggPSBmdW5jdGlvbigpIHtcbiAgdmFyIHdpZHRoID0gdGhpcy5sYXJnZXN0T3B0aW9uTGVuZ3RoKCk7XG4gIGlmICh0aGlzLl9hcmdzRGVzY3JpcHRpb24gJiYgdGhpcy5fYXJncy5sZW5ndGgpIHtcbiAgICBpZiAodGhpcy5sYXJnZXN0QXJnTGVuZ3RoKCkgPiB3aWR0aCkge1xuICAgICAgd2lkdGggPSB0aGlzLmxhcmdlc3RBcmdMZW5ndGgoKTtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5jb21tYW5kcyAmJiB0aGlzLmNvbW1hbmRzLmxlbmd0aCkge1xuICAgIGlmICh0aGlzLmxhcmdlc3RDb21tYW5kTGVuZ3RoKCkgPiB3aWR0aCkge1xuICAgICAgd2lkdGggPSB0aGlzLmxhcmdlc3RDb21tYW5kTGVuZ3RoKCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHdpZHRoO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gaGVscCBmb3Igb3B0aW9ucy5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS5vcHRpb25IZWxwID0gZnVuY3Rpb24oKSB7XG4gIHZhciB3aWR0aCA9IHRoaXMucGFkV2lkdGgoKTtcblxuICAvLyBBcHBlbmQgdGhlIGhlbHAgaW5mb3JtYXRpb25cbiAgcmV0dXJuIHRoaXMub3B0aW9ucy5tYXAoZnVuY3Rpb24ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHBhZChvcHRpb24uZmxhZ3MsIHdpZHRoKSArICcgICcgKyBvcHRpb24uZGVzY3JpcHRpb24gK1xuICAgICAgKChvcHRpb24uYm9vbCAmJiBvcHRpb24uZGVmYXVsdFZhbHVlICE9PSB1bmRlZmluZWQpID8gJyAoZGVmYXVsdDogJyArIEpTT04uc3RyaW5naWZ5KG9wdGlvbi5kZWZhdWx0VmFsdWUpICsgJyknIDogJycpO1xuICB9KS5jb25jYXQoW3BhZCgnLWgsIC0taGVscCcsIHdpZHRoKSArICcgICcgKyAnb3V0cHV0IHVzYWdlIGluZm9ybWF0aW9uJ10pXG4gICAgLmpvaW4oJ1xcbicpO1xufTtcblxuLyoqXG4gKiBSZXR1cm4gY29tbWFuZCBoZWxwIGRvY3VtZW50YXRpb24uXG4gKlxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuQ29tbWFuZC5wcm90b3R5cGUuY29tbWFuZEhlbHAgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLmNvbW1hbmRzLmxlbmd0aCkgcmV0dXJuICcnO1xuXG4gIHZhciBjb21tYW5kcyA9IHRoaXMucHJlcGFyZUNvbW1hbmRzKCk7XG4gIHZhciB3aWR0aCA9IHRoaXMucGFkV2lkdGgoKTtcblxuICByZXR1cm4gW1xuICAgICdDb21tYW5kczonLFxuICAgIGNvbW1hbmRzLm1hcChmdW5jdGlvbihjbWQpIHtcbiAgICAgIHZhciBkZXNjID0gY21kWzFdID8gJyAgJyArIGNtZFsxXSA6ICcnO1xuICAgICAgcmV0dXJuIChkZXNjID8gcGFkKGNtZFswXSwgd2lkdGgpIDogY21kWzBdKSArIGRlc2M7XG4gICAgfSkuam9pbignXFxuJykucmVwbGFjZSgvXi9nbSwgJyAgJyksXG4gICAgJydcbiAgXS5qb2luKCdcXG4nKTtcbn07XG5cbi8qKlxuICogUmV0dXJuIHByb2dyYW0gaGVscCBkb2N1bWVudGF0aW9uLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkNvbW1hbmQucHJvdG90eXBlLmhlbHBJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZGVzYyA9IFtdO1xuICBpZiAodGhpcy5fZGVzY3JpcHRpb24pIHtcbiAgICBkZXNjID0gW1xuICAgICAgdGhpcy5fZGVzY3JpcHRpb24sXG4gICAgICAnJ1xuICAgIF07XG5cbiAgICB2YXIgYXJnc0Rlc2NyaXB0aW9uID0gdGhpcy5fYXJnc0Rlc2NyaXB0aW9uO1xuICAgIGlmIChhcmdzRGVzY3JpcHRpb24gJiYgdGhpcy5fYXJncy5sZW5ndGgpIHtcbiAgICAgIHZhciB3aWR0aCA9IHRoaXMucGFkV2lkdGgoKTtcbiAgICAgIGRlc2MucHVzaCgnQXJndW1lbnRzOicpO1xuICAgICAgZGVzYy5wdXNoKCcnKTtcbiAgICAgIHRoaXMuX2FyZ3MuZm9yRWFjaChmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgZGVzYy5wdXNoKCcgICcgKyBwYWQoYXJnLm5hbWUsIHdpZHRoKSArICcgICcgKyBhcmdzRGVzY3JpcHRpb25bYXJnLm5hbWVdKTtcbiAgICAgIH0pO1xuICAgICAgZGVzYy5wdXNoKCcnKTtcbiAgICB9XG4gIH1cblxuICB2YXIgY21kTmFtZSA9IHRoaXMuX25hbWU7XG4gIGlmICh0aGlzLl9hbGlhcykge1xuICAgIGNtZE5hbWUgPSBjbWROYW1lICsgJ3wnICsgdGhpcy5fYWxpYXM7XG4gIH1cbiAgdmFyIHVzYWdlID0gW1xuICAgICdVc2FnZTogJyArIGNtZE5hbWUgKyAnICcgKyB0aGlzLnVzYWdlKCksXG4gICAgJydcbiAgXTtcblxuICB2YXIgY21kcyA9IFtdO1xuICB2YXIgY29tbWFuZEhlbHAgPSB0aGlzLmNvbW1hbmRIZWxwKCk7XG4gIGlmIChjb21tYW5kSGVscCkgY21kcyA9IFtjb21tYW5kSGVscF07XG5cbiAgdmFyIG9wdGlvbnMgPSBbXG4gICAgJ09wdGlvbnM6JyxcbiAgICAnJyArIHRoaXMub3B0aW9uSGVscCgpLnJlcGxhY2UoL14vZ20sICcgICcpLFxuICAgICcnXG4gIF07XG5cbiAgcmV0dXJuIHVzYWdlXG4gICAgLmNvbmNhdChkZXNjKVxuICAgIC5jb25jYXQob3B0aW9ucylcbiAgICAuY29uY2F0KGNtZHMpXG4gICAgLmpvaW4oJ1xcbicpO1xufTtcblxuLyoqXG4gKiBPdXRwdXQgaGVscCBpbmZvcm1hdGlvbiBmb3IgdGhpcyBjb21tYW5kXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS5vdXRwdXRIZWxwID0gZnVuY3Rpb24oY2IpIHtcbiAgaWYgKCFjYikge1xuICAgIGNiID0gZnVuY3Rpb24ocGFzc3RocnUpIHtcbiAgICAgIHJldHVybiBwYXNzdGhydTtcbiAgICB9O1xuICB9XG4gIHByb2Nlc3Muc3Rkb3V0LndyaXRlKGNiKHRoaXMuaGVscEluZm9ybWF0aW9uKCkpKTtcbiAgdGhpcy5lbWl0KCctLWhlbHAnKTtcbn07XG5cbi8qKlxuICogT3V0cHV0IGhlbHAgaW5mb3JtYXRpb24gYW5kIGV4aXQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5Db21tYW5kLnByb3RvdHlwZS5oZWxwID0gZnVuY3Rpb24oY2IpIHtcbiAgdGhpcy5vdXRwdXRIZWxwKGNiKTtcbiAgcHJvY2Vzcy5leGl0KCk7XG59O1xuXG4vKipcbiAqIENhbWVsLWNhc2UgdGhlIGdpdmVuIGBmbGFnYFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBmbGFnXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjYW1lbGNhc2UoZmxhZykge1xuICByZXR1cm4gZmxhZy5zcGxpdCgnLScpLnJlZHVjZShmdW5jdGlvbihzdHIsIHdvcmQpIHtcbiAgICByZXR1cm4gc3RyICsgd29yZFswXS50b1VwcGVyQ2FzZSgpICsgd29yZC5zbGljZSgxKTtcbiAgfSk7XG59XG5cbi8qKlxuICogUGFkIGBzdHJgIHRvIGB3aWR0aGAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYWQoc3RyLCB3aWR0aCkge1xuICB2YXIgbGVuID0gTWF0aC5tYXgoMCwgd2lkdGggLSBzdHIubGVuZ3RoKTtcbiAgcmV0dXJuIHN0ciArIEFycmF5KGxlbiArIDEpLmpvaW4oJyAnKTtcbn1cblxuLyoqXG4gKiBPdXRwdXQgaGVscCBpbmZvcm1hdGlvbiBpZiBuZWNlc3NhcnlcbiAqXG4gKiBAcGFyYW0ge0NvbW1hbmR9IGNvbW1hbmQgdG8gb3V0cHV0IGhlbHAgZm9yXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBvZiBvcHRpb25zIHRvIHNlYXJjaCBmb3IgLWggb3IgLS1oZWxwXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBvdXRwdXRIZWxwSWZOZWNlc3NhcnkoY21kLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAob3B0aW9uc1tpXSA9PT0gJy0taGVscCcgfHwgb3B0aW9uc1tpXSA9PT0gJy1oJykge1xuICAgICAgY21kLm91dHB1dEhlbHAoKTtcbiAgICAgIHByb2Nlc3MuZXhpdCgwKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBUYWtlcyBhbiBhcmd1bWVudCBhbiByZXR1cm5zIGl0cyBodW1hbiByZWFkYWJsZSBlcXVpdmFsZW50IGZvciBoZWxwIHVzYWdlLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBhcmdcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGh1bWFuUmVhZGFibGVBcmdOYW1lKGFyZykge1xuICB2YXIgbmFtZU91dHB1dCA9IGFyZy5uYW1lICsgKGFyZy52YXJpYWRpYyA9PT0gdHJ1ZSA/ICcuLi4nIDogJycpO1xuXG4gIHJldHVybiBhcmcucmVxdWlyZWRcbiAgICA/ICc8JyArIG5hbWVPdXRwdXQgKyAnPidcbiAgICA6ICdbJyArIG5hbWVPdXRwdXQgKyAnXSc7XG59XG5cbi8vIGZvciB2ZXJzaW9ucyBiZWZvcmUgbm9kZSB2MC44IHdoZW4gdGhlcmUgd2VyZW4ndCBgZnMuZXhpc3RzU3luY2BcbmZ1bmN0aW9uIGV4aXN0cyhmaWxlKSB7XG4gIHRyeSB7XG4gICAgaWYgKGZzLnN0YXRTeW5jKGZpbGUpLmlzRmlsZSgpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInBhdGhcIik7IiwibW9kdWxlLmV4cG9ydHMgPSBtaW5pbWF0Y2hcbm1pbmltYXRjaC5NaW5pbWF0Y2ggPSBNaW5pbWF0Y2hcblxudmFyIHBhdGggPSB7IHNlcDogJy8nIH1cbnRyeSB7XG4gIHBhdGggPSByZXF1aXJlKCdwYXRoJylcbn0gY2F0Y2ggKGVyKSB7fVxuXG52YXIgR0xPQlNUQVIgPSBtaW5pbWF0Y2guR0xPQlNUQVIgPSBNaW5pbWF0Y2guR0xPQlNUQVIgPSB7fVxudmFyIGV4cGFuZCA9IHJlcXVpcmUoJ2JyYWNlLWV4cGFuc2lvbicpXG5cbnZhciBwbFR5cGVzID0ge1xuICAnISc6IHsgb3BlbjogJyg/Oig/ISg/OicsIGNsb3NlOiAnKSlbXi9dKj8pJ30sXG4gICc/JzogeyBvcGVuOiAnKD86JywgY2xvc2U6ICcpPycgfSxcbiAgJysnOiB7IG9wZW46ICcoPzonLCBjbG9zZTogJykrJyB9LFxuICAnKic6IHsgb3BlbjogJyg/OicsIGNsb3NlOiAnKSonIH0sXG4gICdAJzogeyBvcGVuOiAnKD86JywgY2xvc2U6ICcpJyB9XG59XG5cbi8vIGFueSBzaW5nbGUgdGhpbmcgb3RoZXIgdGhhbiAvXG4vLyBkb24ndCBuZWVkIHRvIGVzY2FwZSAvIHdoZW4gdXNpbmcgbmV3IFJlZ0V4cCgpXG52YXIgcW1hcmsgPSAnW14vXSdcblxuLy8gKiA9PiBhbnkgbnVtYmVyIG9mIGNoYXJhY3RlcnNcbnZhciBzdGFyID0gcW1hcmsgKyAnKj8nXG5cbi8vICoqIHdoZW4gZG90cyBhcmUgYWxsb3dlZC4gIEFueXRoaW5nIGdvZXMsIGV4Y2VwdCAuLiBhbmQgLlxuLy8gbm90ICheIG9yIC8gZm9sbG93ZWQgYnkgb25lIG9yIHR3byBkb3RzIGZvbGxvd2VkIGJ5ICQgb3IgLyksXG4vLyBmb2xsb3dlZCBieSBhbnl0aGluZywgYW55IG51bWJlciBvZiB0aW1lcy5cbnZhciB0d29TdGFyRG90ID0gJyg/Oig/ISg/OlxcXFxcXC98XikoPzpcXFxcLnsxLDJ9KSgkfFxcXFxcXC8pKS4pKj8nXG5cbi8vIG5vdCBhIF4gb3IgLyBmb2xsb3dlZCBieSBhIGRvdCxcbi8vIGZvbGxvd2VkIGJ5IGFueXRoaW5nLCBhbnkgbnVtYmVyIG9mIHRpbWVzLlxudmFyIHR3b1N0YXJOb0RvdCA9ICcoPzooPyEoPzpcXFxcXFwvfF4pXFxcXC4pLikqPydcblxuLy8gY2hhcmFjdGVycyB0aGF0IG5lZWQgdG8gYmUgZXNjYXBlZCBpbiBSZWdFeHAuXG52YXIgcmVTcGVjaWFscyA9IGNoYXJTZXQoJygpLip7fSs/W11eJFxcXFwhJylcblxuLy8gXCJhYmNcIiAtPiB7IGE6dHJ1ZSwgYjp0cnVlLCBjOnRydWUgfVxuZnVuY3Rpb24gY2hhclNldCAocykge1xuICByZXR1cm4gcy5zcGxpdCgnJykucmVkdWNlKGZ1bmN0aW9uIChzZXQsIGMpIHtcbiAgICBzZXRbY10gPSB0cnVlXG4gICAgcmV0dXJuIHNldFxuICB9LCB7fSlcbn1cblxuLy8gbm9ybWFsaXplcyBzbGFzaGVzLlxudmFyIHNsYXNoU3BsaXQgPSAvXFwvKy9cblxubWluaW1hdGNoLmZpbHRlciA9IGZpbHRlclxuZnVuY3Rpb24gZmlsdGVyIChwYXR0ZXJuLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIHJldHVybiBmdW5jdGlvbiAocCwgaSwgbGlzdCkge1xuICAgIHJldHVybiBtaW5pbWF0Y2gocCwgcGF0dGVybiwgb3B0aW9ucylcbiAgfVxufVxuXG5mdW5jdGlvbiBleHQgKGEsIGIpIHtcbiAgYSA9IGEgfHwge31cbiAgYiA9IGIgfHwge31cbiAgdmFyIHQgPSB7fVxuICBPYmplY3Qua2V5cyhiKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgdFtrXSA9IGJba11cbiAgfSlcbiAgT2JqZWN0LmtleXMoYSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgIHRba10gPSBhW2tdXG4gIH0pXG4gIHJldHVybiB0XG59XG5cbm1pbmltYXRjaC5kZWZhdWx0cyA9IGZ1bmN0aW9uIChkZWYpIHtcbiAgaWYgKCFkZWYgfHwgIU9iamVjdC5rZXlzKGRlZikubGVuZ3RoKSByZXR1cm4gbWluaW1hdGNoXG5cbiAgdmFyIG9yaWcgPSBtaW5pbWF0Y2hcblxuICB2YXIgbSA9IGZ1bmN0aW9uIG1pbmltYXRjaCAocCwgcGF0dGVybiwgb3B0aW9ucykge1xuICAgIHJldHVybiBvcmlnLm1pbmltYXRjaChwLCBwYXR0ZXJuLCBleHQoZGVmLCBvcHRpb25zKSlcbiAgfVxuXG4gIG0uTWluaW1hdGNoID0gZnVuY3Rpb24gTWluaW1hdGNoIChwYXR0ZXJuLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBvcmlnLk1pbmltYXRjaChwYXR0ZXJuLCBleHQoZGVmLCBvcHRpb25zKSlcbiAgfVxuXG4gIHJldHVybiBtXG59XG5cbk1pbmltYXRjaC5kZWZhdWx0cyA9IGZ1bmN0aW9uIChkZWYpIHtcbiAgaWYgKCFkZWYgfHwgIU9iamVjdC5rZXlzKGRlZikubGVuZ3RoKSByZXR1cm4gTWluaW1hdGNoXG4gIHJldHVybiBtaW5pbWF0Y2guZGVmYXVsdHMoZGVmKS5NaW5pbWF0Y2hcbn1cblxuZnVuY3Rpb24gbWluaW1hdGNoIChwLCBwYXR0ZXJuLCBvcHRpb25zKSB7XG4gIGlmICh0eXBlb2YgcGF0dGVybiAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdnbG9iIHBhdHRlcm4gc3RyaW5nIHJlcXVpcmVkJylcbiAgfVxuXG4gIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9XG5cbiAgLy8gc2hvcnRjdXQ6IGNvbW1lbnRzIG1hdGNoIG5vdGhpbmcuXG4gIGlmICghb3B0aW9ucy5ub2NvbW1lbnQgJiYgcGF0dGVybi5jaGFyQXQoMCkgPT09ICcjJykge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gXCJcIiBvbmx5IG1hdGNoZXMgXCJcIlxuICBpZiAocGF0dGVybi50cmltKCkgPT09ICcnKSByZXR1cm4gcCA9PT0gJydcblxuICByZXR1cm4gbmV3IE1pbmltYXRjaChwYXR0ZXJuLCBvcHRpb25zKS5tYXRjaChwKVxufVxuXG5mdW5jdGlvbiBNaW5pbWF0Y2ggKHBhdHRlcm4sIG9wdGlvbnMpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIE1pbmltYXRjaCkpIHtcbiAgICByZXR1cm4gbmV3IE1pbmltYXRjaChwYXR0ZXJuLCBvcHRpb25zKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBwYXR0ZXJuICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2dsb2IgcGF0dGVybiBzdHJpbmcgcmVxdWlyZWQnKVxuICB9XG5cbiAgaWYgKCFvcHRpb25zKSBvcHRpb25zID0ge31cbiAgcGF0dGVybiA9IHBhdHRlcm4udHJpbSgpXG5cbiAgLy8gd2luZG93cyBzdXBwb3J0OiBuZWVkIHRvIHVzZSAvLCBub3QgXFxcbiAgaWYgKHBhdGguc2VwICE9PSAnLycpIHtcbiAgICBwYXR0ZXJuID0gcGF0dGVybi5zcGxpdChwYXRoLnNlcCkuam9pbignLycpXG4gIH1cblxuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zXG4gIHRoaXMuc2V0ID0gW11cbiAgdGhpcy5wYXR0ZXJuID0gcGF0dGVyblxuICB0aGlzLnJlZ2V4cCA9IG51bGxcbiAgdGhpcy5uZWdhdGUgPSBmYWxzZVxuICB0aGlzLmNvbW1lbnQgPSBmYWxzZVxuICB0aGlzLmVtcHR5ID0gZmFsc2VcblxuICAvLyBtYWtlIHRoZSBzZXQgb2YgcmVnZXhwcyBldGMuXG4gIHRoaXMubWFrZSgpXG59XG5cbk1pbmltYXRjaC5wcm90b3R5cGUuZGVidWcgPSBmdW5jdGlvbiAoKSB7fVxuXG5NaW5pbWF0Y2gucHJvdG90eXBlLm1ha2UgPSBtYWtlXG5mdW5jdGlvbiBtYWtlICgpIHtcbiAgLy8gZG9uJ3QgZG8gaXQgbW9yZSB0aGFuIG9uY2UuXG4gIGlmICh0aGlzLl9tYWRlKSByZXR1cm5cblxuICB2YXIgcGF0dGVybiA9IHRoaXMucGF0dGVyblxuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9uc1xuXG4gIC8vIGVtcHR5IHBhdHRlcm5zIGFuZCBjb21tZW50cyBtYXRjaCBub3RoaW5nLlxuICBpZiAoIW9wdGlvbnMubm9jb21tZW50ICYmIHBhdHRlcm4uY2hhckF0KDApID09PSAnIycpIHtcbiAgICB0aGlzLmNvbW1lbnQgPSB0cnVlXG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKCFwYXR0ZXJuKSB7XG4gICAgdGhpcy5lbXB0eSA9IHRydWVcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIHN0ZXAgMTogZmlndXJlIG91dCBuZWdhdGlvbiwgZXRjLlxuICB0aGlzLnBhcnNlTmVnYXRlKClcblxuICAvLyBzdGVwIDI6IGV4cGFuZCBicmFjZXNcbiAgdmFyIHNldCA9IHRoaXMuZ2xvYlNldCA9IHRoaXMuYnJhY2VFeHBhbmQoKVxuXG4gIGlmIChvcHRpb25zLmRlYnVnKSB0aGlzLmRlYnVnID0gY29uc29sZS5lcnJvclxuXG4gIHRoaXMuZGVidWcodGhpcy5wYXR0ZXJuLCBzZXQpXG5cbiAgLy8gc3RlcCAzOiBub3cgd2UgaGF2ZSBhIHNldCwgc28gdHVybiBlYWNoIG9uZSBpbnRvIGEgc2VyaWVzIG9mIHBhdGgtcG9ydGlvblxuICAvLyBtYXRjaGluZyBwYXR0ZXJucy5cbiAgLy8gVGhlc2Ugd2lsbCBiZSByZWdleHBzLCBleGNlcHQgaW4gdGhlIGNhc2Ugb2YgXCIqKlwiLCB3aGljaCBpc1xuICAvLyBzZXQgdG8gdGhlIEdMT0JTVEFSIG9iamVjdCBmb3IgZ2xvYnN0YXIgYmVoYXZpb3IsXG4gIC8vIGFuZCB3aWxsIG5vdCBjb250YWluIGFueSAvIGNoYXJhY3RlcnNcbiAgc2V0ID0gdGhpcy5nbG9iUGFydHMgPSBzZXQubWFwKGZ1bmN0aW9uIChzKSB7XG4gICAgcmV0dXJuIHMuc3BsaXQoc2xhc2hTcGxpdClcbiAgfSlcblxuICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgc2V0KVxuXG4gIC8vIGdsb2IgLS0+IHJlZ2V4cHNcbiAgc2V0ID0gc2V0Lm1hcChmdW5jdGlvbiAocywgc2ksIHNldCkge1xuICAgIHJldHVybiBzLm1hcCh0aGlzLnBhcnNlLCB0aGlzKVxuICB9LCB0aGlzKVxuXG4gIHRoaXMuZGVidWcodGhpcy5wYXR0ZXJuLCBzZXQpXG5cbiAgLy8gZmlsdGVyIG91dCBldmVyeXRoaW5nIHRoYXQgZGlkbid0IGNvbXBpbGUgcHJvcGVybHkuXG4gIHNldCA9IHNldC5maWx0ZXIoZnVuY3Rpb24gKHMpIHtcbiAgICByZXR1cm4gcy5pbmRleE9mKGZhbHNlKSA9PT0gLTFcbiAgfSlcblxuICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgc2V0KVxuXG4gIHRoaXMuc2V0ID0gc2V0XG59XG5cbk1pbmltYXRjaC5wcm90b3R5cGUucGFyc2VOZWdhdGUgPSBwYXJzZU5lZ2F0ZVxuZnVuY3Rpb24gcGFyc2VOZWdhdGUgKCkge1xuICB2YXIgcGF0dGVybiA9IHRoaXMucGF0dGVyblxuICB2YXIgbmVnYXRlID0gZmFsc2VcbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnNcbiAgdmFyIG5lZ2F0ZU9mZnNldCA9IDBcblxuICBpZiAob3B0aW9ucy5ub25lZ2F0ZSkgcmV0dXJuXG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBwYXR0ZXJuLmxlbmd0aFxuICAgIDsgaSA8IGwgJiYgcGF0dGVybi5jaGFyQXQoaSkgPT09ICchJ1xuICAgIDsgaSsrKSB7XG4gICAgbmVnYXRlID0gIW5lZ2F0ZVxuICAgIG5lZ2F0ZU9mZnNldCsrXG4gIH1cblxuICBpZiAobmVnYXRlT2Zmc2V0KSB0aGlzLnBhdHRlcm4gPSBwYXR0ZXJuLnN1YnN0cihuZWdhdGVPZmZzZXQpXG4gIHRoaXMubmVnYXRlID0gbmVnYXRlXG59XG5cbi8vIEJyYWNlIGV4cGFuc2lvbjpcbi8vIGF7YixjfWQgLT4gYWJkIGFjZFxuLy8gYXtiLH1jIC0+IGFiYyBhY1xuLy8gYXswLi4zfWQgLT4gYTBkIGExZCBhMmQgYTNkXG4vLyBhe2IsY3tkLGV9Zn1nIC0+IGFiZyBhY2RmZyBhY2VmZ1xuLy8gYXtiLGN9ZHtlLGZ9ZyAtPiBhYmRlZyBhY2RlZyBhYmRlZyBhYmRmZ1xuLy9cbi8vIEludmFsaWQgc2V0cyBhcmUgbm90IGV4cGFuZGVkLlxuLy8gYXsyLi59YiAtPiBhezIuLn1iXG4vLyBhe2J9YyAtPiBhe2J9Y1xubWluaW1hdGNoLmJyYWNlRXhwYW5kID0gZnVuY3Rpb24gKHBhdHRlcm4sIG9wdGlvbnMpIHtcbiAgcmV0dXJuIGJyYWNlRXhwYW5kKHBhdHRlcm4sIG9wdGlvbnMpXG59XG5cbk1pbmltYXRjaC5wcm90b3R5cGUuYnJhY2VFeHBhbmQgPSBicmFjZUV4cGFuZFxuXG5mdW5jdGlvbiBicmFjZUV4cGFuZCAocGF0dGVybiwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIE1pbmltYXRjaCkge1xuICAgICAgb3B0aW9ucyA9IHRoaXMub3B0aW9uc1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zID0ge31cbiAgICB9XG4gIH1cblxuICBwYXR0ZXJuID0gdHlwZW9mIHBhdHRlcm4gPT09ICd1bmRlZmluZWQnXG4gICAgPyB0aGlzLnBhdHRlcm4gOiBwYXR0ZXJuXG5cbiAgaWYgKHR5cGVvZiBwYXR0ZXJuID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3VuZGVmaW5lZCBwYXR0ZXJuJylcbiAgfVxuXG4gIGlmIChvcHRpb25zLm5vYnJhY2UgfHxcbiAgICAhcGF0dGVybi5tYXRjaCgvXFx7LipcXH0vKSkge1xuICAgIC8vIHNob3J0Y3V0LiBubyBuZWVkIHRvIGV4cGFuZC5cbiAgICByZXR1cm4gW3BhdHRlcm5dXG4gIH1cblxuICByZXR1cm4gZXhwYW5kKHBhdHRlcm4pXG59XG5cbi8vIHBhcnNlIGEgY29tcG9uZW50IG9mIHRoZSBleHBhbmRlZCBzZXQuXG4vLyBBdCB0aGlzIHBvaW50LCBubyBwYXR0ZXJuIG1heSBjb250YWluIFwiL1wiIGluIGl0XG4vLyBzbyB3ZSdyZSBnb2luZyB0byByZXR1cm4gYSAyZCBhcnJheSwgd2hlcmUgZWFjaCBlbnRyeSBpcyB0aGUgZnVsbFxuLy8gcGF0dGVybiwgc3BsaXQgb24gJy8nLCBhbmQgdGhlbiB0dXJuZWQgaW50byBhIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbi8vIEEgcmVnZXhwIGlzIG1hZGUgYXQgdGhlIGVuZCB3aGljaCBqb2lucyBlYWNoIGFycmF5IHdpdGggYW5cbi8vIGVzY2FwZWQgLywgYW5kIGFub3RoZXIgZnVsbCBvbmUgd2hpY2ggam9pbnMgZWFjaCByZWdleHAgd2l0aCB8LlxuLy9cbi8vIEZvbGxvd2luZyB0aGUgbGVhZCBvZiBCYXNoIDQuMSwgbm90ZSB0aGF0IFwiKipcIiBvbmx5IGhhcyBzcGVjaWFsIG1lYW5pbmdcbi8vIHdoZW4gaXQgaXMgdGhlICpvbmx5KiB0aGluZyBpbiBhIHBhdGggcG9ydGlvbi4gIE90aGVyd2lzZSwgYW55IHNlcmllc1xuLy8gb2YgKiBpcyBlcXVpdmFsZW50IHRvIGEgc2luZ2xlICouICBHbG9ic3RhciBiZWhhdmlvciBpcyBlbmFibGVkIGJ5XG4vLyBkZWZhdWx0LCBhbmQgY2FuIGJlIGRpc2FibGVkIGJ5IHNldHRpbmcgb3B0aW9ucy5ub2dsb2JzdGFyLlxuTWluaW1hdGNoLnByb3RvdHlwZS5wYXJzZSA9IHBhcnNlXG52YXIgU1VCUEFSU0UgPSB7fVxuZnVuY3Rpb24gcGFyc2UgKHBhdHRlcm4sIGlzU3ViKSB7XG4gIGlmIChwYXR0ZXJuLmxlbmd0aCA+IDEwMjQgKiA2NCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3BhdHRlcm4gaXMgdG9vIGxvbmcnKVxuICB9XG5cbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnNcblxuICAvLyBzaG9ydGN1dHNcbiAgaWYgKCFvcHRpb25zLm5vZ2xvYnN0YXIgJiYgcGF0dGVybiA9PT0gJyoqJykgcmV0dXJuIEdMT0JTVEFSXG4gIGlmIChwYXR0ZXJuID09PSAnJykgcmV0dXJuICcnXG5cbiAgdmFyIHJlID0gJydcbiAgdmFyIGhhc01hZ2ljID0gISFvcHRpb25zLm5vY2FzZVxuICB2YXIgZXNjYXBpbmcgPSBmYWxzZVxuICAvLyA/ID0+IG9uZSBzaW5nbGUgY2hhcmFjdGVyXG4gIHZhciBwYXR0ZXJuTGlzdFN0YWNrID0gW11cbiAgdmFyIG5lZ2F0aXZlTGlzdHMgPSBbXVxuICB2YXIgc3RhdGVDaGFyXG4gIHZhciBpbkNsYXNzID0gZmFsc2VcbiAgdmFyIHJlQ2xhc3NTdGFydCA9IC0xXG4gIHZhciBjbGFzc1N0YXJ0ID0gLTFcbiAgLy8gLiBhbmQgLi4gbmV2ZXIgbWF0Y2ggYW55dGhpbmcgdGhhdCBkb2Vzbid0IHN0YXJ0IHdpdGggLixcbiAgLy8gZXZlbiB3aGVuIG9wdGlvbnMuZG90IGlzIHNldC5cbiAgdmFyIHBhdHRlcm5TdGFydCA9IHBhdHRlcm4uY2hhckF0KDApID09PSAnLicgPyAnJyAvLyBhbnl0aGluZ1xuICAvLyBub3QgKHN0YXJ0IG9yIC8gZm9sbG93ZWQgYnkgLiBvciAuLiBmb2xsb3dlZCBieSAvIG9yIGVuZClcbiAgOiBvcHRpb25zLmRvdCA/ICcoPyEoPzpefFxcXFxcXC8pXFxcXC57MSwyfSg/OiR8XFxcXFxcLykpJ1xuICA6ICcoPyFcXFxcLiknXG4gIHZhciBzZWxmID0gdGhpc1xuXG4gIGZ1bmN0aW9uIGNsZWFyU3RhdGVDaGFyICgpIHtcbiAgICBpZiAoc3RhdGVDaGFyKSB7XG4gICAgICAvLyB3ZSBoYWQgc29tZSBzdGF0ZS10cmFja2luZyBjaGFyYWN0ZXJcbiAgICAgIC8vIHRoYXQgd2Fzbid0IGNvbnN1bWVkIGJ5IHRoaXMgcGFzcy5cbiAgICAgIHN3aXRjaCAoc3RhdGVDaGFyKSB7XG4gICAgICAgIGNhc2UgJyonOlxuICAgICAgICAgIHJlICs9IHN0YXJcbiAgICAgICAgICBoYXNNYWdpYyA9IHRydWVcbiAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAnPyc6XG4gICAgICAgICAgcmUgKz0gcW1hcmtcbiAgICAgICAgICBoYXNNYWdpYyA9IHRydWVcbiAgICAgICAgYnJlYWtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZSArPSAnXFxcXCcgKyBzdGF0ZUNoYXJcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIHNlbGYuZGVidWcoJ2NsZWFyU3RhdGVDaGFyICVqICVqJywgc3RhdGVDaGFyLCByZSlcbiAgICAgIHN0YXRlQ2hhciA9IGZhbHNlXG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhdHRlcm4ubGVuZ3RoLCBjXG4gICAgOyAoaSA8IGxlbikgJiYgKGMgPSBwYXR0ZXJuLmNoYXJBdChpKSlcbiAgICA7IGkrKykge1xuICAgIHRoaXMuZGVidWcoJyVzXFx0JXMgJXMgJWonLCBwYXR0ZXJuLCBpLCByZSwgYylcblxuICAgIC8vIHNraXAgb3ZlciBhbnkgdGhhdCBhcmUgZXNjYXBlZC5cbiAgICBpZiAoZXNjYXBpbmcgJiYgcmVTcGVjaWFsc1tjXSkge1xuICAgICAgcmUgKz0gJ1xcXFwnICsgY1xuICAgICAgZXNjYXBpbmcgPSBmYWxzZVxuICAgICAgY29udGludWVcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGMpIHtcbiAgICAgIGNhc2UgJy8nOlxuICAgICAgICAvLyBjb21wbGV0ZWx5IG5vdCBhbGxvd2VkLCBldmVuIGVzY2FwZWQuXG4gICAgICAgIC8vIFNob3VsZCBhbHJlYWR5IGJlIHBhdGgtc3BsaXQgYnkgbm93LlxuICAgICAgICByZXR1cm4gZmFsc2VcblxuICAgICAgY2FzZSAnXFxcXCc6XG4gICAgICAgIGNsZWFyU3RhdGVDaGFyKClcbiAgICAgICAgZXNjYXBpbmcgPSB0cnVlXG4gICAgICBjb250aW51ZVxuXG4gICAgICAvLyB0aGUgdmFyaW91cyBzdGF0ZUNoYXIgdmFsdWVzXG4gICAgICAvLyBmb3IgdGhlIFwiZXh0Z2xvYlwiIHN0dWZmLlxuICAgICAgY2FzZSAnPyc6XG4gICAgICBjYXNlICcqJzpcbiAgICAgIGNhc2UgJysnOlxuICAgICAgY2FzZSAnQCc6XG4gICAgICBjYXNlICchJzpcbiAgICAgICAgdGhpcy5kZWJ1ZygnJXNcXHQlcyAlcyAlaiA8LS0gc3RhdGVDaGFyJywgcGF0dGVybiwgaSwgcmUsIGMpXG5cbiAgICAgICAgLy8gYWxsIG9mIHRob3NlIGFyZSBsaXRlcmFscyBpbnNpZGUgYSBjbGFzcywgZXhjZXB0IHRoYXRcbiAgICAgICAgLy8gdGhlIGdsb2IgWyFhXSBtZWFucyBbXmFdIGluIHJlZ2V4cFxuICAgICAgICBpZiAoaW5DbGFzcykge1xuICAgICAgICAgIHRoaXMuZGVidWcoJyAgaW4gY2xhc3MnKVxuICAgICAgICAgIGlmIChjID09PSAnIScgJiYgaSA9PT0gY2xhc3NTdGFydCArIDEpIGMgPSAnXidcbiAgICAgICAgICByZSArPSBjXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHdlIGFscmVhZHkgaGF2ZSBhIHN0YXRlQ2hhciwgdGhlbiBpdCBtZWFuc1xuICAgICAgICAvLyB0aGF0IHRoZXJlIHdhcyBzb21ldGhpbmcgbGlrZSAqKiBvciArPyBpbiB0aGVyZS5cbiAgICAgICAgLy8gSGFuZGxlIHRoZSBzdGF0ZUNoYXIsIHRoZW4gcHJvY2VlZCB3aXRoIHRoaXMgb25lLlxuICAgICAgICBzZWxmLmRlYnVnKCdjYWxsIGNsZWFyU3RhdGVDaGFyICVqJywgc3RhdGVDaGFyKVxuICAgICAgICBjbGVhclN0YXRlQ2hhcigpXG4gICAgICAgIHN0YXRlQ2hhciA9IGNcbiAgICAgICAgLy8gaWYgZXh0Z2xvYiBpcyBkaXNhYmxlZCwgdGhlbiArKGFzZGZ8Zm9vKSBpc24ndCBhIHRoaW5nLlxuICAgICAgICAvLyBqdXN0IGNsZWFyIHRoZSBzdGF0ZWNoYXIgKm5vdyosIHJhdGhlciB0aGFuIGV2ZW4gZGl2aW5nIGludG9cbiAgICAgICAgLy8gdGhlIHBhdHRlcm5MaXN0IHN0dWZmLlxuICAgICAgICBpZiAob3B0aW9ucy5ub2V4dCkgY2xlYXJTdGF0ZUNoYXIoKVxuICAgICAgY29udGludWVcblxuICAgICAgY2FzZSAnKCc6XG4gICAgICAgIGlmIChpbkNsYXNzKSB7XG4gICAgICAgICAgcmUgKz0gJygnXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc3RhdGVDaGFyKSB7XG4gICAgICAgICAgcmUgKz0gJ1xcXFwoJ1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBwYXR0ZXJuTGlzdFN0YWNrLnB1c2goe1xuICAgICAgICAgIHR5cGU6IHN0YXRlQ2hhcixcbiAgICAgICAgICBzdGFydDogaSAtIDEsXG4gICAgICAgICAgcmVTdGFydDogcmUubGVuZ3RoLFxuICAgICAgICAgIG9wZW46IHBsVHlwZXNbc3RhdGVDaGFyXS5vcGVuLFxuICAgICAgICAgIGNsb3NlOiBwbFR5cGVzW3N0YXRlQ2hhcl0uY2xvc2VcbiAgICAgICAgfSlcbiAgICAgICAgLy8gbmVnYXRpb24gaXMgKD86KD8hanMpW14vXSopXG4gICAgICAgIHJlICs9IHN0YXRlQ2hhciA9PT0gJyEnID8gJyg/Oig/ISg/OicgOiAnKD86J1xuICAgICAgICB0aGlzLmRlYnVnKCdwbFR5cGUgJWogJWonLCBzdGF0ZUNoYXIsIHJlKVxuICAgICAgICBzdGF0ZUNoYXIgPSBmYWxzZVxuICAgICAgY29udGludWVcblxuICAgICAgY2FzZSAnKSc6XG4gICAgICAgIGlmIChpbkNsYXNzIHx8ICFwYXR0ZXJuTGlzdFN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgIHJlICs9ICdcXFxcKSdcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgY2xlYXJTdGF0ZUNoYXIoKVxuICAgICAgICBoYXNNYWdpYyA9IHRydWVcbiAgICAgICAgdmFyIHBsID0gcGF0dGVybkxpc3RTdGFjay5wb3AoKVxuICAgICAgICAvLyBuZWdhdGlvbiBpcyAoPzooPyFqcylbXi9dKilcbiAgICAgICAgLy8gVGhlIG90aGVycyBhcmUgKD86PHBhdHRlcm4+KTx0eXBlPlxuICAgICAgICByZSArPSBwbC5jbG9zZVxuICAgICAgICBpZiAocGwudHlwZSA9PT0gJyEnKSB7XG4gICAgICAgICAgbmVnYXRpdmVMaXN0cy5wdXNoKHBsKVxuICAgICAgICB9XG4gICAgICAgIHBsLnJlRW5kID0gcmUubGVuZ3RoXG4gICAgICBjb250aW51ZVxuXG4gICAgICBjYXNlICd8JzpcbiAgICAgICAgaWYgKGluQ2xhc3MgfHwgIXBhdHRlcm5MaXN0U3RhY2subGVuZ3RoIHx8IGVzY2FwaW5nKSB7XG4gICAgICAgICAgcmUgKz0gJ1xcXFx8J1xuICAgICAgICAgIGVzY2FwaW5nID0gZmFsc2VcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgY2xlYXJTdGF0ZUNoYXIoKVxuICAgICAgICByZSArPSAnfCdcbiAgICAgIGNvbnRpbnVlXG5cbiAgICAgIC8vIHRoZXNlIGFyZSBtb3N0bHkgdGhlIHNhbWUgaW4gcmVnZXhwIGFuZCBnbG9iXG4gICAgICBjYXNlICdbJzpcbiAgICAgICAgLy8gc3dhbGxvdyBhbnkgc3RhdGUtdHJhY2tpbmcgY2hhciBiZWZvcmUgdGhlIFtcbiAgICAgICAgY2xlYXJTdGF0ZUNoYXIoKVxuXG4gICAgICAgIGlmIChpbkNsYXNzKSB7XG4gICAgICAgICAgcmUgKz0gJ1xcXFwnICsgY1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBpbkNsYXNzID0gdHJ1ZVxuICAgICAgICBjbGFzc1N0YXJ0ID0gaVxuICAgICAgICByZUNsYXNzU3RhcnQgPSByZS5sZW5ndGhcbiAgICAgICAgcmUgKz0gY1xuICAgICAgY29udGludWVcblxuICAgICAgY2FzZSAnXSc6XG4gICAgICAgIC8vICBhIHJpZ2h0IGJyYWNrZXQgc2hhbGwgbG9zZSBpdHMgc3BlY2lhbFxuICAgICAgICAvLyAgbWVhbmluZyBhbmQgcmVwcmVzZW50IGl0c2VsZiBpblxuICAgICAgICAvLyAgYSBicmFja2V0IGV4cHJlc3Npb24gaWYgaXQgb2NjdXJzXG4gICAgICAgIC8vICBmaXJzdCBpbiB0aGUgbGlzdC4gIC0tIFBPU0lYLjIgMi44LjMuMlxuICAgICAgICBpZiAoaSA9PT0gY2xhc3NTdGFydCArIDEgfHwgIWluQ2xhc3MpIHtcbiAgICAgICAgICByZSArPSAnXFxcXCcgKyBjXG4gICAgICAgICAgZXNjYXBpbmcgPSBmYWxzZVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgd2UgbGVmdCBhIGNsYXNzIG9wZW4uXG4gICAgICAgIC8vIFwiW3otYV1cIiBpcyB2YWxpZCwgZXF1aXZhbGVudCB0byBcIlxcW3otYVxcXVwiXG4gICAgICAgIGlmIChpbkNsYXNzKSB7XG4gICAgICAgICAgLy8gc3BsaXQgd2hlcmUgdGhlIGxhc3QgWyB3YXMsIG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlXG4gICAgICAgICAgLy8gYW4gaW52YWxpZCByZS4gaWYgc28sIHJlLXdhbGsgdGhlIGNvbnRlbnRzIG9mIHRoZVxuICAgICAgICAgIC8vIHdvdWxkLWJlIGNsYXNzIHRvIHJlLXRyYW5zbGF0ZSBhbnkgY2hhcmFjdGVycyB0aGF0XG4gICAgICAgICAgLy8gd2VyZSBwYXNzZWQgdGhyb3VnaCBhcy1pc1xuICAgICAgICAgIC8vIFRPRE86IEl0IHdvdWxkIHByb2JhYmx5IGJlIGZhc3RlciB0byBkZXRlcm1pbmUgdGhpc1xuICAgICAgICAgIC8vIHdpdGhvdXQgYSB0cnkvY2F0Y2ggYW5kIGEgbmV3IFJlZ0V4cCwgYnV0IGl0J3MgdHJpY2t5XG4gICAgICAgICAgLy8gdG8gZG8gc2FmZWx5LiAgRm9yIG5vdywgdGhpcyBpcyBzYWZlIGFuZCB3b3Jrcy5cbiAgICAgICAgICB2YXIgY3MgPSBwYXR0ZXJuLnN1YnN0cmluZyhjbGFzc1N0YXJ0ICsgMSwgaSlcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgUmVnRXhwKCdbJyArIGNzICsgJ10nKVxuICAgICAgICAgIH0gY2F0Y2ggKGVyKSB7XG4gICAgICAgICAgICAvLyBub3QgYSB2YWxpZCBjbGFzcyFcbiAgICAgICAgICAgIHZhciBzcCA9IHRoaXMucGFyc2UoY3MsIFNVQlBBUlNFKVxuICAgICAgICAgICAgcmUgPSByZS5zdWJzdHIoMCwgcmVDbGFzc1N0YXJ0KSArICdcXFxcWycgKyBzcFswXSArICdcXFxcXSdcbiAgICAgICAgICAgIGhhc01hZ2ljID0gaGFzTWFnaWMgfHwgc3BbMV1cbiAgICAgICAgICAgIGluQ2xhc3MgPSBmYWxzZVxuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaW5pc2ggdXAgdGhlIGNsYXNzLlxuICAgICAgICBoYXNNYWdpYyA9IHRydWVcbiAgICAgICAgaW5DbGFzcyA9IGZhbHNlXG4gICAgICAgIHJlICs9IGNcbiAgICAgIGNvbnRpbnVlXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIHN3YWxsb3cgYW55IHN0YXRlIGNoYXIgdGhhdCB3YXNuJ3QgY29uc3VtZWRcbiAgICAgICAgY2xlYXJTdGF0ZUNoYXIoKVxuXG4gICAgICAgIGlmIChlc2NhcGluZykge1xuICAgICAgICAgIC8vIG5vIG5lZWRcbiAgICAgICAgICBlc2NhcGluZyA9IGZhbHNlXG4gICAgICAgIH0gZWxzZSBpZiAocmVTcGVjaWFsc1tjXVxuICAgICAgICAgICYmICEoYyA9PT0gJ14nICYmIGluQ2xhc3MpKSB7XG4gICAgICAgICAgcmUgKz0gJ1xcXFwnXG4gICAgICAgIH1cblxuICAgICAgICByZSArPSBjXG5cbiAgICB9IC8vIHN3aXRjaFxuICB9IC8vIGZvclxuXG4gIC8vIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB3ZSBsZWZ0IGEgY2xhc3Mgb3Blbi5cbiAgLy8gXCJbYWJjXCIgaXMgdmFsaWQsIGVxdWl2YWxlbnQgdG8gXCJcXFthYmNcIlxuICBpZiAoaW5DbGFzcykge1xuICAgIC8vIHNwbGl0IHdoZXJlIHRoZSBsYXN0IFsgd2FzLCBhbmQgZXNjYXBlIGl0XG4gICAgLy8gdGhpcyBpcyBhIGh1Z2UgcGl0YS4gIFdlIG5vdyBoYXZlIHRvIHJlLXdhbGtcbiAgICAvLyB0aGUgY29udGVudHMgb2YgdGhlIHdvdWxkLWJlIGNsYXNzIHRvIHJlLXRyYW5zbGF0ZVxuICAgIC8vIGFueSBjaGFyYWN0ZXJzIHRoYXQgd2VyZSBwYXNzZWQgdGhyb3VnaCBhcy1pc1xuICAgIGNzID0gcGF0dGVybi5zdWJzdHIoY2xhc3NTdGFydCArIDEpXG4gICAgc3AgPSB0aGlzLnBhcnNlKGNzLCBTVUJQQVJTRSlcbiAgICByZSA9IHJlLnN1YnN0cigwLCByZUNsYXNzU3RhcnQpICsgJ1xcXFxbJyArIHNwWzBdXG4gICAgaGFzTWFnaWMgPSBoYXNNYWdpYyB8fCBzcFsxXVxuICB9XG5cbiAgLy8gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHdlIGhhZCBhICsoIHRoaW5nIGF0IHRoZSAqZW5kKlxuICAvLyBvZiB0aGUgcGF0dGVybi5cbiAgLy8gZWFjaCBwYXR0ZXJuIGxpc3Qgc3RhY2sgYWRkcyAzIGNoYXJzLCBhbmQgd2UgbmVlZCB0byBnbyB0aHJvdWdoXG4gIC8vIGFuZCBlc2NhcGUgYW55IHwgY2hhcnMgdGhhdCB3ZXJlIHBhc3NlZCB0aHJvdWdoIGFzLWlzIGZvciB0aGUgcmVnZXhwLlxuICAvLyBHbyB0aHJvdWdoIGFuZCBlc2NhcGUgdGhlbSwgdGFraW5nIGNhcmUgbm90IHRvIGRvdWJsZS1lc2NhcGUgYW55XG4gIC8vIHwgY2hhcnMgdGhhdCB3ZXJlIGFscmVhZHkgZXNjYXBlZC5cbiAgZm9yIChwbCA9IHBhdHRlcm5MaXN0U3RhY2sucG9wKCk7IHBsOyBwbCA9IHBhdHRlcm5MaXN0U3RhY2sucG9wKCkpIHtcbiAgICB2YXIgdGFpbCA9IHJlLnNsaWNlKHBsLnJlU3RhcnQgKyBwbC5vcGVuLmxlbmd0aClcbiAgICB0aGlzLmRlYnVnKCdzZXR0aW5nIHRhaWwnLCByZSwgcGwpXG4gICAgLy8gbWF5YmUgc29tZSBldmVuIG51bWJlciBvZiBcXCwgdGhlbiBtYXliZSAxIFxcLCBmb2xsb3dlZCBieSBhIHxcbiAgICB0YWlsID0gdGFpbC5yZXBsYWNlKC8oKD86XFxcXHsyfSl7MCw2NH0pKFxcXFw/KVxcfC9nLCBmdW5jdGlvbiAoXywgJDEsICQyKSB7XG4gICAgICBpZiAoISQyKSB7XG4gICAgICAgIC8vIHRoZSB8IGlzbid0IGFscmVhZHkgZXNjYXBlZCwgc28gZXNjYXBlIGl0LlxuICAgICAgICAkMiA9ICdcXFxcJ1xuICAgICAgfVxuXG4gICAgICAvLyBuZWVkIHRvIGVzY2FwZSBhbGwgdGhvc2Ugc2xhc2hlcyAqYWdhaW4qLCB3aXRob3V0IGVzY2FwaW5nIHRoZVxuICAgICAgLy8gb25lIHRoYXQgd2UgbmVlZCBmb3IgZXNjYXBpbmcgdGhlIHwgY2hhcmFjdGVyLiAgQXMgaXQgd29ya3Mgb3V0LFxuICAgICAgLy8gZXNjYXBpbmcgYW4gZXZlbiBudW1iZXIgb2Ygc2xhc2hlcyBjYW4gYmUgZG9uZSBieSBzaW1wbHkgcmVwZWF0aW5nXG4gICAgICAvLyBpdCBleGFjdGx5IGFmdGVyIGl0c2VsZi4gIFRoYXQncyB3aHkgdGhpcyB0cmljayB3b3Jrcy5cbiAgICAgIC8vXG4gICAgICAvLyBJIGFtIHNvcnJ5IHRoYXQgeW91IGhhdmUgdG8gc2VlIHRoaXMuXG4gICAgICByZXR1cm4gJDEgKyAkMSArICQyICsgJ3wnXG4gICAgfSlcblxuICAgIHRoaXMuZGVidWcoJ3RhaWw9JWpcXG4gICAlcycsIHRhaWwsIHRhaWwsIHBsLCByZSlcbiAgICB2YXIgdCA9IHBsLnR5cGUgPT09ICcqJyA/IHN0YXJcbiAgICAgIDogcGwudHlwZSA9PT0gJz8nID8gcW1hcmtcbiAgICAgIDogJ1xcXFwnICsgcGwudHlwZVxuXG4gICAgaGFzTWFnaWMgPSB0cnVlXG4gICAgcmUgPSByZS5zbGljZSgwLCBwbC5yZVN0YXJ0KSArIHQgKyAnXFxcXCgnICsgdGFpbFxuICB9XG5cbiAgLy8gaGFuZGxlIHRyYWlsaW5nIHRoaW5ncyB0aGF0IG9ubHkgbWF0dGVyIGF0IHRoZSB2ZXJ5IGVuZC5cbiAgY2xlYXJTdGF0ZUNoYXIoKVxuICBpZiAoZXNjYXBpbmcpIHtcbiAgICAvLyB0cmFpbGluZyBcXFxcXG4gICAgcmUgKz0gJ1xcXFxcXFxcJ1xuICB9XG5cbiAgLy8gb25seSBuZWVkIHRvIGFwcGx5IHRoZSBub2RvdCBzdGFydCBpZiB0aGUgcmUgc3RhcnRzIHdpdGhcbiAgLy8gc29tZXRoaW5nIHRoYXQgY291bGQgY29uY2VpdmFibHkgY2FwdHVyZSBhIGRvdFxuICB2YXIgYWRkUGF0dGVyblN0YXJ0ID0gZmFsc2VcbiAgc3dpdGNoIChyZS5jaGFyQXQoMCkpIHtcbiAgICBjYXNlICcuJzpcbiAgICBjYXNlICdbJzpcbiAgICBjYXNlICcoJzogYWRkUGF0dGVyblN0YXJ0ID0gdHJ1ZVxuICB9XG5cbiAgLy8gSGFjayB0byB3b3JrIGFyb3VuZCBsYWNrIG9mIG5lZ2F0aXZlIGxvb2tiZWhpbmQgaW4gSlNcbiAgLy8gQSBwYXR0ZXJuIGxpa2U6ICouISh4KS4hKHl8eikgbmVlZHMgdG8gZW5zdXJlIHRoYXQgYSBuYW1lXG4gIC8vIGxpa2UgJ2EueHl6Lnl6JyBkb2Vzbid0IG1hdGNoLiAgU28sIHRoZSBmaXJzdCBuZWdhdGl2ZVxuICAvLyBsb29rYWhlYWQsIGhhcyB0byBsb29rIEFMTCB0aGUgd2F5IGFoZWFkLCB0byB0aGUgZW5kIG9mXG4gIC8vIHRoZSBwYXR0ZXJuLlxuICBmb3IgKHZhciBuID0gbmVnYXRpdmVMaXN0cy5sZW5ndGggLSAxOyBuID4gLTE7IG4tLSkge1xuICAgIHZhciBubCA9IG5lZ2F0aXZlTGlzdHNbbl1cblxuICAgIHZhciBubEJlZm9yZSA9IHJlLnNsaWNlKDAsIG5sLnJlU3RhcnQpXG4gICAgdmFyIG5sRmlyc3QgPSByZS5zbGljZShubC5yZVN0YXJ0LCBubC5yZUVuZCAtIDgpXG4gICAgdmFyIG5sTGFzdCA9IHJlLnNsaWNlKG5sLnJlRW5kIC0gOCwgbmwucmVFbmQpXG4gICAgdmFyIG5sQWZ0ZXIgPSByZS5zbGljZShubC5yZUVuZClcblxuICAgIG5sTGFzdCArPSBubEFmdGVyXG5cbiAgICAvLyBIYW5kbGUgbmVzdGVkIHN0dWZmIGxpa2UgKigqLmpzfCEoKi5qc29uKSksIHdoZXJlIG9wZW4gcGFyZW5zXG4gICAgLy8gbWVhbiB0aGF0IHdlIHNob3VsZCAqbm90KiBpbmNsdWRlIHRoZSApIGluIHRoZSBiaXQgdGhhdCBpcyBjb25zaWRlcmVkXG4gICAgLy8gXCJhZnRlclwiIHRoZSBuZWdhdGVkIHNlY3Rpb24uXG4gICAgdmFyIG9wZW5QYXJlbnNCZWZvcmUgPSBubEJlZm9yZS5zcGxpdCgnKCcpLmxlbmd0aCAtIDFcbiAgICB2YXIgY2xlYW5BZnRlciA9IG5sQWZ0ZXJcbiAgICBmb3IgKGkgPSAwOyBpIDwgb3BlblBhcmVuc0JlZm9yZTsgaSsrKSB7XG4gICAgICBjbGVhbkFmdGVyID0gY2xlYW5BZnRlci5yZXBsYWNlKC9cXClbKyo/XT8vLCAnJylcbiAgICB9XG4gICAgbmxBZnRlciA9IGNsZWFuQWZ0ZXJcblxuICAgIHZhciBkb2xsYXIgPSAnJ1xuICAgIGlmIChubEFmdGVyID09PSAnJyAmJiBpc1N1YiAhPT0gU1VCUEFSU0UpIHtcbiAgICAgIGRvbGxhciA9ICckJ1xuICAgIH1cbiAgICB2YXIgbmV3UmUgPSBubEJlZm9yZSArIG5sRmlyc3QgKyBubEFmdGVyICsgZG9sbGFyICsgbmxMYXN0XG4gICAgcmUgPSBuZXdSZVxuICB9XG5cbiAgLy8gaWYgdGhlIHJlIGlzIG5vdCBcIlwiIGF0IHRoaXMgcG9pbnQsIHRoZW4gd2UgbmVlZCB0byBtYWtlIHN1cmVcbiAgLy8gaXQgZG9lc24ndCBtYXRjaCBhZ2FpbnN0IGFuIGVtcHR5IHBhdGggcGFydC5cbiAgLy8gT3RoZXJ3aXNlIGEvKiB3aWxsIG1hdGNoIGEvLCB3aGljaCBpdCBzaG91bGQgbm90LlxuICBpZiAocmUgIT09ICcnICYmIGhhc01hZ2ljKSB7XG4gICAgcmUgPSAnKD89LiknICsgcmVcbiAgfVxuXG4gIGlmIChhZGRQYXR0ZXJuU3RhcnQpIHtcbiAgICByZSA9IHBhdHRlcm5TdGFydCArIHJlXG4gIH1cblxuICAvLyBwYXJzaW5nIGp1c3QgYSBwaWVjZSBvZiBhIGxhcmdlciBwYXR0ZXJuLlxuICBpZiAoaXNTdWIgPT09IFNVQlBBUlNFKSB7XG4gICAgcmV0dXJuIFtyZSwgaGFzTWFnaWNdXG4gIH1cblxuICAvLyBza2lwIHRoZSByZWdleHAgZm9yIG5vbi1tYWdpY2FsIHBhdHRlcm5zXG4gIC8vIHVuZXNjYXBlIGFueXRoaW5nIGluIGl0LCB0aG91Z2gsIHNvIHRoYXQgaXQnbGwgYmVcbiAgLy8gYW4gZXhhY3QgbWF0Y2ggYWdhaW5zdCBhIGZpbGUgZXRjLlxuICBpZiAoIWhhc01hZ2ljKSB7XG4gICAgcmV0dXJuIGdsb2JVbmVzY2FwZShwYXR0ZXJuKVxuICB9XG5cbiAgdmFyIGZsYWdzID0gb3B0aW9ucy5ub2Nhc2UgPyAnaScgOiAnJ1xuICB0cnkge1xuICAgIHZhciByZWdFeHAgPSBuZXcgUmVnRXhwKCdeJyArIHJlICsgJyQnLCBmbGFncylcbiAgfSBjYXRjaCAoZXIpIHtcbiAgICAvLyBJZiBpdCB3YXMgYW4gaW52YWxpZCByZWd1bGFyIGV4cHJlc3Npb24sIHRoZW4gaXQgY2FuJ3QgbWF0Y2hcbiAgICAvLyBhbnl0aGluZy4gIFRoaXMgdHJpY2sgbG9va3MgZm9yIGEgY2hhcmFjdGVyIGFmdGVyIHRoZSBlbmQgb2ZcbiAgICAvLyB0aGUgc3RyaW5nLCB3aGljaCBpcyBvZiBjb3Vyc2UgaW1wb3NzaWJsZSwgZXhjZXB0IGluIG11bHRpLWxpbmVcbiAgICAvLyBtb2RlLCBidXQgaXQncyBub3QgYSAvbSByZWdleC5cbiAgICByZXR1cm4gbmV3IFJlZ0V4cCgnJC4nKVxuICB9XG5cbiAgcmVnRXhwLl9nbG9iID0gcGF0dGVyblxuICByZWdFeHAuX3NyYyA9IHJlXG5cbiAgcmV0dXJuIHJlZ0V4cFxufVxuXG5taW5pbWF0Y2gubWFrZVJlID0gZnVuY3Rpb24gKHBhdHRlcm4sIG9wdGlvbnMpIHtcbiAgcmV0dXJuIG5ldyBNaW5pbWF0Y2gocGF0dGVybiwgb3B0aW9ucyB8fCB7fSkubWFrZVJlKClcbn1cblxuTWluaW1hdGNoLnByb3RvdHlwZS5tYWtlUmUgPSBtYWtlUmVcbmZ1bmN0aW9uIG1ha2VSZSAoKSB7XG4gIGlmICh0aGlzLnJlZ2V4cCB8fCB0aGlzLnJlZ2V4cCA9PT0gZmFsc2UpIHJldHVybiB0aGlzLnJlZ2V4cFxuXG4gIC8vIGF0IHRoaXMgcG9pbnQsIHRoaXMuc2V0IGlzIGEgMmQgYXJyYXkgb2YgcGFydGlhbFxuICAvLyBwYXR0ZXJuIHN0cmluZ3MsIG9yIFwiKipcIi5cbiAgLy9cbiAgLy8gSXQncyBiZXR0ZXIgdG8gdXNlIC5tYXRjaCgpLiAgVGhpcyBmdW5jdGlvbiBzaG91bGRuJ3RcbiAgLy8gYmUgdXNlZCwgcmVhbGx5LCBidXQgaXQncyBwcmV0dHkgY29udmVuaWVudCBzb21ldGltZXMsXG4gIC8vIHdoZW4geW91IGp1c3Qgd2FudCB0byB3b3JrIHdpdGggYSByZWdleC5cbiAgdmFyIHNldCA9IHRoaXMuc2V0XG5cbiAgaWYgKCFzZXQubGVuZ3RoKSB7XG4gICAgdGhpcy5yZWdleHAgPSBmYWxzZVxuICAgIHJldHVybiB0aGlzLnJlZ2V4cFxuICB9XG4gIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zXG5cbiAgdmFyIHR3b1N0YXIgPSBvcHRpb25zLm5vZ2xvYnN0YXIgPyBzdGFyXG4gICAgOiBvcHRpb25zLmRvdCA/IHR3b1N0YXJEb3RcbiAgICA6IHR3b1N0YXJOb0RvdFxuICB2YXIgZmxhZ3MgPSBvcHRpb25zLm5vY2FzZSA/ICdpJyA6ICcnXG5cbiAgdmFyIHJlID0gc2V0Lm1hcChmdW5jdGlvbiAocGF0dGVybikge1xuICAgIHJldHVybiBwYXR0ZXJuLm1hcChmdW5jdGlvbiAocCkge1xuICAgICAgcmV0dXJuIChwID09PSBHTE9CU1RBUikgPyB0d29TdGFyXG4gICAgICA6ICh0eXBlb2YgcCA9PT0gJ3N0cmluZycpID8gcmVnRXhwRXNjYXBlKHApXG4gICAgICA6IHAuX3NyY1xuICAgIH0pLmpvaW4oJ1xcXFxcXC8nKVxuICB9KS5qb2luKCd8JylcblxuICAvLyBtdXN0IG1hdGNoIGVudGlyZSBwYXR0ZXJuXG4gIC8vIGVuZGluZyBpbiBhICogb3IgKiogd2lsbCBtYWtlIGl0IGxlc3Mgc3RyaWN0LlxuICByZSA9ICdeKD86JyArIHJlICsgJykkJ1xuXG4gIC8vIGNhbiBtYXRjaCBhbnl0aGluZywgYXMgbG9uZyBhcyBpdCdzIG5vdCB0aGlzLlxuICBpZiAodGhpcy5uZWdhdGUpIHJlID0gJ14oPyEnICsgcmUgKyAnKS4qJCdcblxuICB0cnkge1xuICAgIHRoaXMucmVnZXhwID0gbmV3IFJlZ0V4cChyZSwgZmxhZ3MpXG4gIH0gY2F0Y2ggKGV4KSB7XG4gICAgdGhpcy5yZWdleHAgPSBmYWxzZVxuICB9XG4gIHJldHVybiB0aGlzLnJlZ2V4cFxufVxuXG5taW5pbWF0Y2gubWF0Y2ggPSBmdW5jdGlvbiAobGlzdCwgcGF0dGVybiwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICB2YXIgbW0gPSBuZXcgTWluaW1hdGNoKHBhdHRlcm4sIG9wdGlvbnMpXG4gIGxpc3QgPSBsaXN0LmZpbHRlcihmdW5jdGlvbiAoZikge1xuICAgIHJldHVybiBtbS5tYXRjaChmKVxuICB9KVxuICBpZiAobW0ub3B0aW9ucy5ub251bGwgJiYgIWxpc3QubGVuZ3RoKSB7XG4gICAgbGlzdC5wdXNoKHBhdHRlcm4pXG4gIH1cbiAgcmV0dXJuIGxpc3Rcbn1cblxuTWluaW1hdGNoLnByb3RvdHlwZS5tYXRjaCA9IG1hdGNoXG5mdW5jdGlvbiBtYXRjaCAoZiwgcGFydGlhbCkge1xuICB0aGlzLmRlYnVnKCdtYXRjaCcsIGYsIHRoaXMucGF0dGVybilcbiAgLy8gc2hvcnQtY2lyY3VpdCBpbiB0aGUgY2FzZSBvZiBidXN0ZWQgdGhpbmdzLlxuICAvLyBjb21tZW50cywgZXRjLlxuICBpZiAodGhpcy5jb21tZW50KSByZXR1cm4gZmFsc2VcbiAgaWYgKHRoaXMuZW1wdHkpIHJldHVybiBmID09PSAnJ1xuXG4gIGlmIChmID09PSAnLycgJiYgcGFydGlhbCkgcmV0dXJuIHRydWVcblxuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9uc1xuXG4gIC8vIHdpbmRvd3M6IG5lZWQgdG8gdXNlIC8sIG5vdCBcXFxuICBpZiAocGF0aC5zZXAgIT09ICcvJykge1xuICAgIGYgPSBmLnNwbGl0KHBhdGguc2VwKS5qb2luKCcvJylcbiAgfVxuXG4gIC8vIHRyZWF0IHRoZSB0ZXN0IHBhdGggYXMgYSBzZXQgb2YgcGF0aHBhcnRzLlxuICBmID0gZi5zcGxpdChzbGFzaFNwbGl0KVxuICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgJ3NwbGl0JywgZilcblxuICAvLyBqdXN0IE9ORSBvZiB0aGUgcGF0dGVybiBzZXRzIGluIHRoaXMuc2V0IG5lZWRzIHRvIG1hdGNoXG4gIC8vIGluIG9yZGVyIGZvciBpdCB0byBiZSB2YWxpZC4gIElmIG5lZ2F0aW5nLCB0aGVuIGp1c3Qgb25lXG4gIC8vIG1hdGNoIG1lYW5zIHRoYXQgd2UgaGF2ZSBmYWlsZWQuXG4gIC8vIEVpdGhlciB3YXksIHJldHVybiBvbiB0aGUgZmlyc3QgaGl0LlxuXG4gIHZhciBzZXQgPSB0aGlzLnNldFxuICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgJ3NldCcsIHNldClcblxuICAvLyBGaW5kIHRoZSBiYXNlbmFtZSBvZiB0aGUgcGF0aCBieSBsb29raW5nIGZvciB0aGUgbGFzdCBub24tZW1wdHkgc2VnbWVudFxuICB2YXIgZmlsZW5hbWVcbiAgdmFyIGlcbiAgZm9yIChpID0gZi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGZpbGVuYW1lID0gZltpXVxuICAgIGlmIChmaWxlbmFtZSkgYnJlYWtcbiAgfVxuXG4gIGZvciAoaSA9IDA7IGkgPCBzZXQubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcGF0dGVybiA9IHNldFtpXVxuICAgIHZhciBmaWxlID0gZlxuICAgIGlmIChvcHRpb25zLm1hdGNoQmFzZSAmJiBwYXR0ZXJuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgZmlsZSA9IFtmaWxlbmFtZV1cbiAgICB9XG4gICAgdmFyIGhpdCA9IHRoaXMubWF0Y2hPbmUoZmlsZSwgcGF0dGVybiwgcGFydGlhbClcbiAgICBpZiAoaGl0KSB7XG4gICAgICBpZiAob3B0aW9ucy5mbGlwTmVnYXRlKSByZXR1cm4gdHJ1ZVxuICAgICAgcmV0dXJuICF0aGlzLm5lZ2F0ZVxuICAgIH1cbiAgfVxuXG4gIC8vIGRpZG4ndCBnZXQgYW55IGhpdHMuICB0aGlzIGlzIHN1Y2Nlc3MgaWYgaXQncyBhIG5lZ2F0aXZlXG4gIC8vIHBhdHRlcm4sIGZhaWx1cmUgb3RoZXJ3aXNlLlxuICBpZiAob3B0aW9ucy5mbGlwTmVnYXRlKSByZXR1cm4gZmFsc2VcbiAgcmV0dXJuIHRoaXMubmVnYXRlXG59XG5cbi8vIHNldCBwYXJ0aWFsIHRvIHRydWUgdG8gdGVzdCBpZiwgZm9yIGV4YW1wbGUsXG4vLyBcIi9hL2JcIiBtYXRjaGVzIHRoZSBzdGFydCBvZiBcIi8qL2IvKi9kXCJcbi8vIFBhcnRpYWwgbWVhbnMsIGlmIHlvdSBydW4gb3V0IG9mIGZpbGUgYmVmb3JlIHlvdSBydW5cbi8vIG91dCBvZiBwYXR0ZXJuLCB0aGVuIHRoYXQncyBmaW5lLCBhcyBsb25nIGFzIGFsbFxuLy8gdGhlIHBhcnRzIG1hdGNoLlxuTWluaW1hdGNoLnByb3RvdHlwZS5tYXRjaE9uZSA9IGZ1bmN0aW9uIChmaWxlLCBwYXR0ZXJuLCBwYXJ0aWFsKSB7XG4gIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zXG5cbiAgdGhpcy5kZWJ1ZygnbWF0Y2hPbmUnLFxuICAgIHsgJ3RoaXMnOiB0aGlzLCBmaWxlOiBmaWxlLCBwYXR0ZXJuOiBwYXR0ZXJuIH0pXG5cbiAgdGhpcy5kZWJ1ZygnbWF0Y2hPbmUnLCBmaWxlLmxlbmd0aCwgcGF0dGVybi5sZW5ndGgpXG5cbiAgZm9yICh2YXIgZmkgPSAwLFxuICAgICAgcGkgPSAwLFxuICAgICAgZmwgPSBmaWxlLmxlbmd0aCxcbiAgICAgIHBsID0gcGF0dGVybi5sZW5ndGhcbiAgICAgIDsgKGZpIDwgZmwpICYmIChwaSA8IHBsKVxuICAgICAgOyBmaSsrLCBwaSsrKSB7XG4gICAgdGhpcy5kZWJ1ZygnbWF0Y2hPbmUgbG9vcCcpXG4gICAgdmFyIHAgPSBwYXR0ZXJuW3BpXVxuICAgIHZhciBmID0gZmlsZVtmaV1cblxuICAgIHRoaXMuZGVidWcocGF0dGVybiwgcCwgZilcblxuICAgIC8vIHNob3VsZCBiZSBpbXBvc3NpYmxlLlxuICAgIC8vIHNvbWUgaW52YWxpZCByZWdleHAgc3R1ZmYgaW4gdGhlIHNldC5cbiAgICBpZiAocCA9PT0gZmFsc2UpIHJldHVybiBmYWxzZVxuXG4gICAgaWYgKHAgPT09IEdMT0JTVEFSKSB7XG4gICAgICB0aGlzLmRlYnVnKCdHTE9CU1RBUicsIFtwYXR0ZXJuLCBwLCBmXSlcblxuICAgICAgLy8gXCIqKlwiXG4gICAgICAvLyBhLyoqL2IvKiovYyB3b3VsZCBtYXRjaCB0aGUgZm9sbG93aW5nOlxuICAgICAgLy8gYS9iL3gveS96L2NcbiAgICAgIC8vIGEveC95L3ovYi9jXG4gICAgICAvLyBhL2IveC9iL3gvY1xuICAgICAgLy8gYS9iL2NcbiAgICAgIC8vIFRvIGRvIHRoaXMsIHRha2UgdGhlIHJlc3Qgb2YgdGhlIHBhdHRlcm4gYWZ0ZXJcbiAgICAgIC8vIHRoZSAqKiwgYW5kIHNlZSBpZiBpdCB3b3VsZCBtYXRjaCB0aGUgZmlsZSByZW1haW5kZXIuXG4gICAgICAvLyBJZiBzbywgcmV0dXJuIHN1Y2Nlc3MuXG4gICAgICAvLyBJZiBub3QsIHRoZSAqKiBcInN3YWxsb3dzXCIgYSBzZWdtZW50LCBhbmQgdHJ5IGFnYWluLlxuICAgICAgLy8gVGhpcyBpcyByZWN1cnNpdmVseSBhd2Z1bC5cbiAgICAgIC8vXG4gICAgICAvLyBhLyoqL2IvKiovYyBtYXRjaGluZyBhL2IveC95L3ovY1xuICAgICAgLy8gLSBhIG1hdGNoZXMgYVxuICAgICAgLy8gLSBkb3VibGVzdGFyXG4gICAgICAvLyAgIC0gbWF0Y2hPbmUoYi94L3kvei9jLCBiLyoqL2MpXG4gICAgICAvLyAgICAgLSBiIG1hdGNoZXMgYlxuICAgICAgLy8gICAgIC0gZG91Ymxlc3RhclxuICAgICAgLy8gICAgICAgLSBtYXRjaE9uZSh4L3kvei9jLCBjKSAtPiBub1xuICAgICAgLy8gICAgICAgLSBtYXRjaE9uZSh5L3ovYywgYykgLT4gbm9cbiAgICAgIC8vICAgICAgIC0gbWF0Y2hPbmUoei9jLCBjKSAtPiBub1xuICAgICAgLy8gICAgICAgLSBtYXRjaE9uZShjLCBjKSB5ZXMsIGhpdFxuICAgICAgdmFyIGZyID0gZmlcbiAgICAgIHZhciBwciA9IHBpICsgMVxuICAgICAgaWYgKHByID09PSBwbCkge1xuICAgICAgICB0aGlzLmRlYnVnKCcqKiBhdCB0aGUgZW5kJylcbiAgICAgICAgLy8gYSAqKiBhdCB0aGUgZW5kIHdpbGwganVzdCBzd2FsbG93IHRoZSByZXN0LlxuICAgICAgICAvLyBXZSBoYXZlIGZvdW5kIGEgbWF0Y2guXG4gICAgICAgIC8vIGhvd2V2ZXIsIGl0IHdpbGwgbm90IHN3YWxsb3cgLy54LCB1bmxlc3NcbiAgICAgICAgLy8gb3B0aW9ucy5kb3QgaXMgc2V0LlxuICAgICAgICAvLyAuIGFuZCAuLiBhcmUgKm5ldmVyKiBtYXRjaGVkIGJ5ICoqLCBmb3IgZXhwbG9zaXZlbHlcbiAgICAgICAgLy8gZXhwb25lbnRpYWwgcmVhc29ucy5cbiAgICAgICAgZm9yICg7IGZpIDwgZmw7IGZpKyspIHtcbiAgICAgICAgICBpZiAoZmlsZVtmaV0gPT09ICcuJyB8fCBmaWxlW2ZpXSA9PT0gJy4uJyB8fFxuICAgICAgICAgICAgKCFvcHRpb25zLmRvdCAmJiBmaWxlW2ZpXS5jaGFyQXQoMCkgPT09ICcuJykpIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG5cbiAgICAgIC8vIG9rLCBsZXQncyBzZWUgaWYgd2UgY2FuIHN3YWxsb3cgd2hhdGV2ZXIgd2UgY2FuLlxuICAgICAgd2hpbGUgKGZyIDwgZmwpIHtcbiAgICAgICAgdmFyIHN3YWxsb3dlZSA9IGZpbGVbZnJdXG5cbiAgICAgICAgdGhpcy5kZWJ1ZygnXFxuZ2xvYnN0YXIgd2hpbGUnLCBmaWxlLCBmciwgcGF0dGVybiwgcHIsIHN3YWxsb3dlZSlcblxuICAgICAgICAvLyBYWFggcmVtb3ZlIHRoaXMgc2xpY2UuICBKdXN0IHBhc3MgdGhlIHN0YXJ0IGluZGV4LlxuICAgICAgICBpZiAodGhpcy5tYXRjaE9uZShmaWxlLnNsaWNlKGZyKSwgcGF0dGVybi5zbGljZShwciksIHBhcnRpYWwpKSB7XG4gICAgICAgICAgdGhpcy5kZWJ1ZygnZ2xvYnN0YXIgZm91bmQgbWF0Y2ghJywgZnIsIGZsLCBzd2FsbG93ZWUpXG4gICAgICAgICAgLy8gZm91bmQgYSBtYXRjaC5cbiAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGNhbid0IHN3YWxsb3cgXCIuXCIgb3IgXCIuLlwiIGV2ZXIuXG4gICAgICAgICAgLy8gY2FuIG9ubHkgc3dhbGxvdyBcIi5mb29cIiB3aGVuIGV4cGxpY2l0bHkgYXNrZWQuXG4gICAgICAgICAgaWYgKHN3YWxsb3dlZSA9PT0gJy4nIHx8IHN3YWxsb3dlZSA9PT0gJy4uJyB8fFxuICAgICAgICAgICAgKCFvcHRpb25zLmRvdCAmJiBzd2FsbG93ZWUuY2hhckF0KDApID09PSAnLicpKSB7XG4gICAgICAgICAgICB0aGlzLmRlYnVnKCdkb3QgZGV0ZWN0ZWQhJywgZmlsZSwgZnIsIHBhdHRlcm4sIHByKVxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyAqKiBzd2FsbG93cyBhIHNlZ21lbnQsIGFuZCBjb250aW51ZS5cbiAgICAgICAgICB0aGlzLmRlYnVnKCdnbG9ic3RhciBzd2FsbG93IGEgc2VnbWVudCwgYW5kIGNvbnRpbnVlJylcbiAgICAgICAgICBmcisrXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gbm8gbWF0Y2ggd2FzIGZvdW5kLlxuICAgICAgLy8gSG93ZXZlciwgaW4gcGFydGlhbCBtb2RlLCB3ZSBjYW4ndCBzYXkgdGhpcyBpcyBuZWNlc3NhcmlseSBvdmVyLlxuICAgICAgLy8gSWYgdGhlcmUncyBtb3JlICpwYXR0ZXJuKiBsZWZ0LCB0aGVuXG4gICAgICBpZiAocGFydGlhbCkge1xuICAgICAgICAvLyByYW4gb3V0IG9mIGZpbGVcbiAgICAgICAgdGhpcy5kZWJ1ZygnXFxuPj4+IG5vIG1hdGNoLCBwYXJ0aWFsPycsIGZpbGUsIGZyLCBwYXR0ZXJuLCBwcilcbiAgICAgICAgaWYgKGZyID09PSBmbCkgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIC8vIHNvbWV0aGluZyBvdGhlciB0aGFuICoqXG4gICAgLy8gbm9uLW1hZ2ljIHBhdHRlcm5zIGp1c3QgaGF2ZSB0byBtYXRjaCBleGFjdGx5XG4gICAgLy8gcGF0dGVybnMgd2l0aCBtYWdpYyBoYXZlIGJlZW4gdHVybmVkIGludG8gcmVnZXhwcy5cbiAgICB2YXIgaGl0XG4gICAgaWYgKHR5cGVvZiBwID09PSAnc3RyaW5nJykge1xuICAgICAgaWYgKG9wdGlvbnMubm9jYXNlKSB7XG4gICAgICAgIGhpdCA9IGYudG9Mb3dlckNhc2UoKSA9PT0gcC50b0xvd2VyQ2FzZSgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoaXQgPSBmID09PSBwXG4gICAgICB9XG4gICAgICB0aGlzLmRlYnVnKCdzdHJpbmcgbWF0Y2gnLCBwLCBmLCBoaXQpXG4gICAgfSBlbHNlIHtcbiAgICAgIGhpdCA9IGYubWF0Y2gocClcbiAgICAgIHRoaXMuZGVidWcoJ3BhdHRlcm4gbWF0Y2gnLCBwLCBmLCBoaXQpXG4gICAgfVxuXG4gICAgaWYgKCFoaXQpIHJldHVybiBmYWxzZVxuICB9XG5cbiAgLy8gTm90ZTogZW5kaW5nIGluIC8gbWVhbnMgdGhhdCB3ZSdsbCBnZXQgYSBmaW5hbCBcIlwiXG4gIC8vIGF0IHRoZSBlbmQgb2YgdGhlIHBhdHRlcm4uICBUaGlzIGNhbiBvbmx5IG1hdGNoIGFcbiAgLy8gY29ycmVzcG9uZGluZyBcIlwiIGF0IHRoZSBlbmQgb2YgdGhlIGZpbGUuXG4gIC8vIElmIHRoZSBmaWxlIGVuZHMgaW4gLywgdGhlbiBpdCBjYW4gb25seSBtYXRjaCBhXG4gIC8vIGEgcGF0dGVybiB0aGF0IGVuZHMgaW4gLywgdW5sZXNzIHRoZSBwYXR0ZXJuIGp1c3RcbiAgLy8gZG9lc24ndCBoYXZlIGFueSBtb3JlIGZvciBpdC4gQnV0LCBhL2IvIHNob3VsZCAqbm90KlxuICAvLyBtYXRjaCBcImEvYi8qXCIsIGV2ZW4gdGhvdWdoIFwiXCIgbWF0Y2hlcyBhZ2FpbnN0IHRoZVxuICAvLyBbXi9dKj8gcGF0dGVybiwgZXhjZXB0IGluIHBhcnRpYWwgbW9kZSwgd2hlcmUgaXQgbWlnaHRcbiAgLy8gc2ltcGx5IG5vdCBiZSByZWFjaGVkIHlldC5cbiAgLy8gSG93ZXZlciwgYS9iLyBzaG91bGQgc3RpbGwgc2F0aXNmeSBhLypcblxuICAvLyBub3cgZWl0aGVyIHdlIGZlbGwgb2ZmIHRoZSBlbmQgb2YgdGhlIHBhdHRlcm4sIG9yIHdlJ3JlIGRvbmUuXG4gIGlmIChmaSA9PT0gZmwgJiYgcGkgPT09IHBsKSB7XG4gICAgLy8gcmFuIG91dCBvZiBwYXR0ZXJuIGFuZCBmaWxlbmFtZSBhdCB0aGUgc2FtZSB0aW1lLlxuICAgIC8vIGFuIGV4YWN0IGhpdCFcbiAgICByZXR1cm4gdHJ1ZVxuICB9IGVsc2UgaWYgKGZpID09PSBmbCkge1xuICAgIC8vIHJhbiBvdXQgb2YgZmlsZSwgYnV0IHN0aWxsIGhhZCBwYXR0ZXJuIGxlZnQuXG4gICAgLy8gdGhpcyBpcyBvayBpZiB3ZSdyZSBkb2luZyB0aGUgbWF0Y2ggYXMgcGFydCBvZlxuICAgIC8vIGEgZ2xvYiBmcyB0cmF2ZXJzYWwuXG4gICAgcmV0dXJuIHBhcnRpYWxcbiAgfSBlbHNlIGlmIChwaSA9PT0gcGwpIHtcbiAgICAvLyByYW4gb3V0IG9mIHBhdHRlcm4sIHN0aWxsIGhhdmUgZmlsZSBsZWZ0LlxuICAgIC8vIHRoaXMgaXMgb25seSBhY2NlcHRhYmxlIGlmIHdlJ3JlIG9uIHRoZSB2ZXJ5IGxhc3RcbiAgICAvLyBlbXB0eSBzZWdtZW50IG9mIGEgZmlsZSB3aXRoIGEgdHJhaWxpbmcgc2xhc2guXG4gICAgLy8gYS8qIHNob3VsZCBtYXRjaCBhL2IvXG4gICAgdmFyIGVtcHR5RmlsZUVuZCA9IChmaSA9PT0gZmwgLSAxKSAmJiAoZmlsZVtmaV0gPT09ICcnKVxuICAgIHJldHVybiBlbXB0eUZpbGVFbmRcbiAgfVxuXG4gIC8vIHNob3VsZCBiZSB1bnJlYWNoYWJsZS5cbiAgdGhyb3cgbmV3IEVycm9yKCd3dGY/Jylcbn1cblxuLy8gcmVwbGFjZSBzdHVmZiBsaWtlIFxcKiB3aXRoICpcbmZ1bmN0aW9uIGdsb2JVbmVzY2FwZSAocykge1xuICByZXR1cm4gcy5yZXBsYWNlKC9cXFxcKC4pL2csICckMScpXG59XG5cbmZ1bmN0aW9uIHJlZ0V4cEVzY2FwZSAocykge1xuICByZXR1cm4gcy5yZXBsYWNlKC9bLVtcXF17fSgpKis/LixcXFxcXiR8I1xcc10vZywgJ1xcXFwkJicpXG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJldmVudHNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY2hpbGRfcHJvY2Vzc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJ1dGlsXCIpOyIsInZhciBjb25jYXRNYXAgPSByZXF1aXJlKCdjb25jYXQtbWFwJyk7XG52YXIgYmFsYW5jZWQgPSByZXF1aXJlKCdiYWxhbmNlZC1tYXRjaCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cGFuZFRvcDtcblxudmFyIGVzY1NsYXNoID0gJ1xcMFNMQVNIJytNYXRoLnJhbmRvbSgpKydcXDAnO1xudmFyIGVzY09wZW4gPSAnXFwwT1BFTicrTWF0aC5yYW5kb20oKSsnXFwwJztcbnZhciBlc2NDbG9zZSA9ICdcXDBDTE9TRScrTWF0aC5yYW5kb20oKSsnXFwwJztcbnZhciBlc2NDb21tYSA9ICdcXDBDT01NQScrTWF0aC5yYW5kb20oKSsnXFwwJztcbnZhciBlc2NQZXJpb2QgPSAnXFwwUEVSSU9EJytNYXRoLnJhbmRvbSgpKydcXDAnO1xuXG5mdW5jdGlvbiBudW1lcmljKHN0cikge1xuICByZXR1cm4gcGFyc2VJbnQoc3RyLCAxMCkgPT0gc3RyXG4gICAgPyBwYXJzZUludChzdHIsIDEwKVxuICAgIDogc3RyLmNoYXJDb2RlQXQoMCk7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZUJyYWNlcyhzdHIpIHtcbiAgcmV0dXJuIHN0ci5zcGxpdCgnXFxcXFxcXFwnKS5qb2luKGVzY1NsYXNoKVxuICAgICAgICAgICAgLnNwbGl0KCdcXFxceycpLmpvaW4oZXNjT3BlbilcbiAgICAgICAgICAgIC5zcGxpdCgnXFxcXH0nKS5qb2luKGVzY0Nsb3NlKVxuICAgICAgICAgICAgLnNwbGl0KCdcXFxcLCcpLmpvaW4oZXNjQ29tbWEpXG4gICAgICAgICAgICAuc3BsaXQoJ1xcXFwuJykuam9pbihlc2NQZXJpb2QpO1xufVxuXG5mdW5jdGlvbiB1bmVzY2FwZUJyYWNlcyhzdHIpIHtcbiAgcmV0dXJuIHN0ci5zcGxpdChlc2NTbGFzaCkuam9pbignXFxcXCcpXG4gICAgICAgICAgICAuc3BsaXQoZXNjT3Blbikuam9pbigneycpXG4gICAgICAgICAgICAuc3BsaXQoZXNjQ2xvc2UpLmpvaW4oJ30nKVxuICAgICAgICAgICAgLnNwbGl0KGVzY0NvbW1hKS5qb2luKCcsJylcbiAgICAgICAgICAgIC5zcGxpdChlc2NQZXJpb2QpLmpvaW4oJy4nKTtcbn1cblxuXG4vLyBCYXNpY2FsbHkganVzdCBzdHIuc3BsaXQoXCIsXCIpLCBidXQgaGFuZGxpbmcgY2FzZXNcbi8vIHdoZXJlIHdlIGhhdmUgbmVzdGVkIGJyYWNlZCBzZWN0aW9ucywgd2hpY2ggc2hvdWxkIGJlXG4vLyB0cmVhdGVkIGFzIGluZGl2aWR1YWwgbWVtYmVycywgbGlrZSB7YSx7YixjfSxkfVxuZnVuY3Rpb24gcGFyc2VDb21tYVBhcnRzKHN0cikge1xuICBpZiAoIXN0cilcbiAgICByZXR1cm4gWycnXTtcblxuICB2YXIgcGFydHMgPSBbXTtcbiAgdmFyIG0gPSBiYWxhbmNlZCgneycsICd9Jywgc3RyKTtcblxuICBpZiAoIW0pXG4gICAgcmV0dXJuIHN0ci5zcGxpdCgnLCcpO1xuXG4gIHZhciBwcmUgPSBtLnByZTtcbiAgdmFyIGJvZHkgPSBtLmJvZHk7XG4gIHZhciBwb3N0ID0gbS5wb3N0O1xuICB2YXIgcCA9IHByZS5zcGxpdCgnLCcpO1xuXG4gIHBbcC5sZW5ndGgtMV0gKz0gJ3snICsgYm9keSArICd9JztcbiAgdmFyIHBvc3RQYXJ0cyA9IHBhcnNlQ29tbWFQYXJ0cyhwb3N0KTtcbiAgaWYgKHBvc3QubGVuZ3RoKSB7XG4gICAgcFtwLmxlbmd0aC0xXSArPSBwb3N0UGFydHMuc2hpZnQoKTtcbiAgICBwLnB1c2guYXBwbHkocCwgcG9zdFBhcnRzKTtcbiAgfVxuXG4gIHBhcnRzLnB1c2guYXBwbHkocGFydHMsIHApO1xuXG4gIHJldHVybiBwYXJ0cztcbn1cblxuZnVuY3Rpb24gZXhwYW5kVG9wKHN0cikge1xuICBpZiAoIXN0cilcbiAgICByZXR1cm4gW107XG5cbiAgLy8gSSBkb24ndCBrbm93IHdoeSBCYXNoIDQuMyBkb2VzIHRoaXMsIGJ1dCBpdCBkb2VzLlxuICAvLyBBbnl0aGluZyBzdGFydGluZyB3aXRoIHt9IHdpbGwgaGF2ZSB0aGUgZmlyc3QgdHdvIGJ5dGVzIHByZXNlcnZlZFxuICAvLyBidXQgKm9ubHkqIGF0IHRoZSB0b3AgbGV2ZWwsIHNvIHt9LGF9YiB3aWxsIG5vdCBleHBhbmQgdG8gYW55dGhpbmcsXG4gIC8vIGJ1dCBhe30sYn1jIHdpbGwgYmUgZXhwYW5kZWQgdG8gW2F9YyxhYmNdLlxuICAvLyBPbmUgY291bGQgYXJndWUgdGhhdCB0aGlzIGlzIGEgYnVnIGluIEJhc2gsIGJ1dCBzaW5jZSB0aGUgZ29hbCBvZlxuICAvLyB0aGlzIG1vZHVsZSBpcyB0byBtYXRjaCBCYXNoJ3MgcnVsZXMsIHdlIGVzY2FwZSBhIGxlYWRpbmcge31cbiAgaWYgKHN0ci5zdWJzdHIoMCwgMikgPT09ICd7fScpIHtcbiAgICBzdHIgPSAnXFxcXHtcXFxcfScgKyBzdHIuc3Vic3RyKDIpO1xuICB9XG5cbiAgcmV0dXJuIGV4cGFuZChlc2NhcGVCcmFjZXMoc3RyKSwgdHJ1ZSkubWFwKHVuZXNjYXBlQnJhY2VzKTtcbn1cblxuZnVuY3Rpb24gaWRlbnRpdHkoZSkge1xuICByZXR1cm4gZTtcbn1cblxuZnVuY3Rpb24gZW1icmFjZShzdHIpIHtcbiAgcmV0dXJuICd7JyArIHN0ciArICd9Jztcbn1cbmZ1bmN0aW9uIGlzUGFkZGVkKGVsKSB7XG4gIHJldHVybiAvXi0/MFxcZC8udGVzdChlbCk7XG59XG5cbmZ1bmN0aW9uIGx0ZShpLCB5KSB7XG4gIHJldHVybiBpIDw9IHk7XG59XG5mdW5jdGlvbiBndGUoaSwgeSkge1xuICByZXR1cm4gaSA+PSB5O1xufVxuXG5mdW5jdGlvbiBleHBhbmQoc3RyLCBpc1RvcCkge1xuICB2YXIgZXhwYW5zaW9ucyA9IFtdO1xuXG4gIHZhciBtID0gYmFsYW5jZWQoJ3snLCAnfScsIHN0cik7XG4gIGlmICghbSB8fCAvXFwkJC8udGVzdChtLnByZSkpIHJldHVybiBbc3RyXTtcblxuICB2YXIgaXNOdW1lcmljU2VxdWVuY2UgPSAvXi0/XFxkK1xcLlxcLi0/XFxkKyg/OlxcLlxcLi0/XFxkKyk/JC8udGVzdChtLmJvZHkpO1xuICB2YXIgaXNBbHBoYVNlcXVlbmNlID0gL15bYS16QS1aXVxcLlxcLlthLXpBLVpdKD86XFwuXFwuLT9cXGQrKT8kLy50ZXN0KG0uYm9keSk7XG4gIHZhciBpc1NlcXVlbmNlID0gaXNOdW1lcmljU2VxdWVuY2UgfHwgaXNBbHBoYVNlcXVlbmNlO1xuICB2YXIgaXNPcHRpb25zID0gbS5ib2R5LmluZGV4T2YoJywnKSA+PSAwO1xuICBpZiAoIWlzU2VxdWVuY2UgJiYgIWlzT3B0aW9ucykge1xuICAgIC8vIHthfSxifVxuICAgIGlmIChtLnBvc3QubWF0Y2goLywuKlxcfS8pKSB7XG4gICAgICBzdHIgPSBtLnByZSArICd7JyArIG0uYm9keSArIGVzY0Nsb3NlICsgbS5wb3N0O1xuICAgICAgcmV0dXJuIGV4cGFuZChzdHIpO1xuICAgIH1cbiAgICByZXR1cm4gW3N0cl07XG4gIH1cblxuICB2YXIgbjtcbiAgaWYgKGlzU2VxdWVuY2UpIHtcbiAgICBuID0gbS5ib2R5LnNwbGl0KC9cXC5cXC4vKTtcbiAgfSBlbHNlIHtcbiAgICBuID0gcGFyc2VDb21tYVBhcnRzKG0uYm9keSk7XG4gICAgaWYgKG4ubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyB4e3thLGJ9fXkgPT0+IHh7YX15IHh7Yn15XG4gICAgICBuID0gZXhwYW5kKG5bMF0sIGZhbHNlKS5tYXAoZW1icmFjZSk7XG4gICAgICBpZiAobi5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdmFyIHBvc3QgPSBtLnBvc3QubGVuZ3RoXG4gICAgICAgICAgPyBleHBhbmQobS5wb3N0LCBmYWxzZSlcbiAgICAgICAgICA6IFsnJ107XG4gICAgICAgIHJldHVybiBwb3N0Lm1hcChmdW5jdGlvbihwKSB7XG4gICAgICAgICAgcmV0dXJuIG0ucHJlICsgblswXSArIHA7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIGF0IHRoaXMgcG9pbnQsIG4gaXMgdGhlIHBhcnRzLCBhbmQgd2Uga25vdyBpdCdzIG5vdCBhIGNvbW1hIHNldFxuICAvLyB3aXRoIGEgc2luZ2xlIGVudHJ5LlxuXG4gIC8vIG5vIG5lZWQgdG8gZXhwYW5kIHByZSwgc2luY2UgaXQgaXMgZ3VhcmFudGVlZCB0byBiZSBmcmVlIG9mIGJyYWNlLXNldHNcbiAgdmFyIHByZSA9IG0ucHJlO1xuICB2YXIgcG9zdCA9IG0ucG9zdC5sZW5ndGhcbiAgICA/IGV4cGFuZChtLnBvc3QsIGZhbHNlKVxuICAgIDogWycnXTtcblxuICB2YXIgTjtcblxuICBpZiAoaXNTZXF1ZW5jZSkge1xuICAgIHZhciB4ID0gbnVtZXJpYyhuWzBdKTtcbiAgICB2YXIgeSA9IG51bWVyaWMoblsxXSk7XG4gICAgdmFyIHdpZHRoID0gTWF0aC5tYXgoblswXS5sZW5ndGgsIG5bMV0ubGVuZ3RoKVxuICAgIHZhciBpbmNyID0gbi5sZW5ndGggPT0gM1xuICAgICAgPyBNYXRoLmFicyhudW1lcmljKG5bMl0pKVxuICAgICAgOiAxO1xuICAgIHZhciB0ZXN0ID0gbHRlO1xuICAgIHZhciByZXZlcnNlID0geSA8IHg7XG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIGluY3IgKj0gLTE7XG4gICAgICB0ZXN0ID0gZ3RlO1xuICAgIH1cbiAgICB2YXIgcGFkID0gbi5zb21lKGlzUGFkZGVkKTtcblxuICAgIE4gPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSB4OyB0ZXN0KGksIHkpOyBpICs9IGluY3IpIHtcbiAgICAgIHZhciBjO1xuICAgICAgaWYgKGlzQWxwaGFTZXF1ZW5jZSkge1xuICAgICAgICBjID0gU3RyaW5nLmZyb21DaGFyQ29kZShpKTtcbiAgICAgICAgaWYgKGMgPT09ICdcXFxcJylcbiAgICAgICAgICBjID0gJyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjID0gU3RyaW5nKGkpO1xuICAgICAgICBpZiAocGFkKSB7XG4gICAgICAgICAgdmFyIG5lZWQgPSB3aWR0aCAtIGMubGVuZ3RoO1xuICAgICAgICAgIGlmIChuZWVkID4gMCkge1xuICAgICAgICAgICAgdmFyIHogPSBuZXcgQXJyYXkobmVlZCArIDEpLmpvaW4oJzAnKTtcbiAgICAgICAgICAgIGlmIChpIDwgMClcbiAgICAgICAgICAgICAgYyA9ICctJyArIHogKyBjLnNsaWNlKDEpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICBjID0geiArIGM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBOLnB1c2goYyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIE4gPSBjb25jYXRNYXAobiwgZnVuY3Rpb24oZWwpIHsgcmV0dXJuIGV4cGFuZChlbCwgZmFsc2UpIH0pO1xuICB9XG5cbiAgZm9yICh2YXIgaiA9IDA7IGogPCBOLmxlbmd0aDsgaisrKSB7XG4gICAgZm9yICh2YXIgayA9IDA7IGsgPCBwb3N0Lmxlbmd0aDsgaysrKSB7XG4gICAgICB2YXIgZXhwYW5zaW9uID0gcHJlICsgTltqXSArIHBvc3Rba107XG4gICAgICBpZiAoIWlzVG9wIHx8IGlzU2VxdWVuY2UgfHwgZXhwYW5zaW9uKVxuICAgICAgICBleHBhbnNpb25zLnB1c2goZXhwYW5zaW9uKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZXhwYW5zaW9ucztcbn1cblxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoeHMsIGZuKSB7XG4gICAgdmFyIHJlcyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHggPSBmbih4c1tpXSwgaSk7XG4gICAgICAgIGlmIChpc0FycmF5KHgpKSByZXMucHVzaC5hcHBseShyZXMsIHgpO1xuICAgICAgICBlbHNlIHJlcy5wdXNoKHgpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufTtcblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uICh4cykge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIid1c2Ugc3RyaWN0Jztcbm1vZHVsZS5leHBvcnRzID0gYmFsYW5jZWQ7XG5mdW5jdGlvbiBiYWxhbmNlZChhLCBiLCBzdHIpIHtcbiAgaWYgKGEgaW5zdGFuY2VvZiBSZWdFeHApIGEgPSBtYXliZU1hdGNoKGEsIHN0cik7XG4gIGlmIChiIGluc3RhbmNlb2YgUmVnRXhwKSBiID0gbWF5YmVNYXRjaChiLCBzdHIpO1xuXG4gIHZhciByID0gcmFuZ2UoYSwgYiwgc3RyKTtcblxuICByZXR1cm4gciAmJiB7XG4gICAgc3RhcnQ6IHJbMF0sXG4gICAgZW5kOiByWzFdLFxuICAgIHByZTogc3RyLnNsaWNlKDAsIHJbMF0pLFxuICAgIGJvZHk6IHN0ci5zbGljZShyWzBdICsgYS5sZW5ndGgsIHJbMV0pLFxuICAgIHBvc3Q6IHN0ci5zbGljZShyWzFdICsgYi5sZW5ndGgpXG4gIH07XG59XG5cbmZ1bmN0aW9uIG1heWJlTWF0Y2gocmVnLCBzdHIpIHtcbiAgdmFyIG0gPSBzdHIubWF0Y2gocmVnKTtcbiAgcmV0dXJuIG0gPyBtWzBdIDogbnVsbDtcbn1cblxuYmFsYW5jZWQucmFuZ2UgPSByYW5nZTtcbmZ1bmN0aW9uIHJhbmdlKGEsIGIsIHN0cikge1xuICB2YXIgYmVncywgYmVnLCBsZWZ0LCByaWdodCwgcmVzdWx0O1xuICB2YXIgYWkgPSBzdHIuaW5kZXhPZihhKTtcbiAgdmFyIGJpID0gc3RyLmluZGV4T2YoYiwgYWkgKyAxKTtcbiAgdmFyIGkgPSBhaTtcblxuICBpZiAoYWkgPj0gMCAmJiBiaSA+IDApIHtcbiAgICBiZWdzID0gW107XG4gICAgbGVmdCA9IHN0ci5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaSA+PSAwICYmICFyZXN1bHQpIHtcbiAgICAgIGlmIChpID09IGFpKSB7XG4gICAgICAgIGJlZ3MucHVzaChpKTtcbiAgICAgICAgYWkgPSBzdHIuaW5kZXhPZihhLCBpICsgMSk7XG4gICAgICB9IGVsc2UgaWYgKGJlZ3MubGVuZ3RoID09IDEpIHtcbiAgICAgICAgcmVzdWx0ID0gWyBiZWdzLnBvcCgpLCBiaSBdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmVnID0gYmVncy5wb3AoKTtcbiAgICAgICAgaWYgKGJlZyA8IGxlZnQpIHtcbiAgICAgICAgICBsZWZ0ID0gYmVnO1xuICAgICAgICAgIHJpZ2h0ID0gYmk7XG4gICAgICAgIH1cblxuICAgICAgICBiaSA9IHN0ci5pbmRleE9mKGIsIGkgKyAxKTtcbiAgICAgIH1cblxuICAgICAgaSA9IGFpIDwgYmkgJiYgYWkgPj0gMCA/IGFpIDogYmk7XG4gICAgfVxuXG4gICAgaWYgKGJlZ3MubGVuZ3RoKSB7XG4gICAgICByZXN1bHQgPSBbIGxlZnQsIHJpZ2h0IF07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHZhcm5hbWUgPSBtb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjYW1lbGJhY2s6IGNhbWVsYmFjayxcbiAgICBjYW1lbGNhc2U6IGNhbWVsY2FzZSxcbiAgICBkYXNoOiBkYXNoLFxuICAgIHVuZGVyc2NvcmU6IHVuZGVyc2NvcmUsXG4gICAgc3BsaXQ6IHNwbGl0XG59O1xuXG4vLyBDb252ZXJ0IGEgdmFyaWFibGUgbmFtZSBzdHJpbmcgdG8gY2FtZWxiYWNrIHN0eWxlXG5mdW5jdGlvbiBjYW1lbGJhY2sgKG5hbWUpIHtcbiAgICB2YXIgcGFydHMgPSB2YXJuYW1lLnNwbGl0KG5hbWUpO1xuICAgIHJldHVybiBwYXJ0cy5zaGlmdCgpICsgdGl0bGVDYXNlV29yZHMocGFydHMpLmpvaW4oJycpO1xufVxuXG4vLyBDb252ZXJ0IGEgdmFyaWFibGUgbmFtZSBzdHJpbmcgdG8gY2FtZWxjYXNlIHN0eWxlXG5mdW5jdGlvbiBjYW1lbGNhc2UgKG5hbWUpIHtcbiAgICB2YXIgcGFydHMgPSB2YXJuYW1lLnNwbGl0KG5hbWUpO1xuICAgIHJldHVybiB0aXRsZUNhc2VXb3JkcyhwYXJ0cykuam9pbignJyk7XG59XG5cbi8vIENvbnZlcnQgYSB2YXJpYWJsZSBuYW1lIHN0cmluZyB0byBkYXNoLXNlcGFyYXRlZCBzdHlsZVxuZnVuY3Rpb24gZGFzaCAobmFtZSkge1xuICAgIHJldHVybiB2YXJuYW1lLnNwbGl0KG5hbWUpLmpvaW4oJy0nKTtcbn1cblxuLy8gQ29udmVydCBhIHZhcmlhYmxlIG5hbWUgc3RyaW5nIHRvIHVuZGVyc2NvcmUtc2VwYXJhdGVkIHN0eWxlXG5mdW5jdGlvbiB1bmRlcnNjb3JlIChuYW1lKSB7XG4gICAgcmV0dXJuIHZhcm5hbWUuc3BsaXQobmFtZSkuam9pbignXycpO1xufVxuXG4vLyBTcGxpdCBhIHZhcmlhYmxlIG5hbWUgc3RyaW5nIGludG8gcGFydHNcbmZ1bmN0aW9uIHNwbGl0IChuYW1lKSB7XG4gICAgbmFtZSA9IG5hbWVcbiAgICAgICAgLnJlcGxhY2UoL1teYS16MC05XSsvZ2ksICcgJylcbiAgICAgICAgLnJlcGxhY2UoLyhbQS1aMC05XSspKFtBLVpdW2Etel0pL2csICckMSAkMicpXG4gICAgICAgIC5yZXBsYWNlKC8oW2EtejAtOV0pKFtBLVpdKS9nLCAnJDEgJDInKVxuICAgICAgICAudG9Mb3dlckNhc2UoKTtcbiAgICByZXR1cm4gdHJpbShuYW1lKS5zcGxpdCgvXFxzKy8pO1xufVxuXG4vLyBUcmltIHdoaXRlc3BhY2UgZnJvbSBhIHN0cmluZ1xuZnVuY3Rpb24gdHJpbSAoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG59XG5cbi8vIENvbnZlcnQgYWxsIHN0cmluZ3MgaW4gYW4gYXJyYXkgdG8gdGl0bGUtY2FzZVxuZnVuY3Rpb24gdGl0bGVDYXNlV29yZHMgKHBhcnRzKSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSArKykge1xuICAgICAgICByZXN1bHRzLnB1c2gocGFydHNbaV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwYXJ0c1tpXS5zdWJzdHIoMSkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbn1cbiIsImV4cG9ydCBlbnVtIElFbnRyeVR5cGUge1xuICBGSUxFID0gMSxcbiAgRElSRUNUT1JZID0gMlxufVxuXG5leHBvcnQgaW50ZXJmYWNlIElFbnRyeSB7XG4gIHR5cGU6IElFbnRyeVR5cGU7XG4gIGZpbGVuYW1lOiBzdHJpbmc7XG4gIGJhc2VkaXI6IHN0cmluZztcbiAgZXhwb3J0ZWROYW1lOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUFzc2V0c09wdGlvbnMge1xuICBtb2R1bGU6IFwiZXM2XCIgfCBcImNvbW1vbmpzXCI7XG4gIGZpbGV0eXBlOiBcInRzXCIgfCBcImpzXCI7XG4gIG1hdGNoOiBzdHJpbmc7XG4gIGFzc2V0c1BhdGhMaXN0OiBzdHJpbmdbXTtcbiAgZXhwb3J0UmVhY3RDb21wb25lbnRGb3JTdmc6IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0QXNzZXRzT3B0aW9uczogSUFzc2V0c09wdGlvbnMgPSB7XG4gIG1vZHVsZTogXCJlczZcIixcbiAgZmlsZXR5cGU6IFwidHNcIixcbiAgbWF0Y2g6IFwiKi4rKHBuZ3xqcGd8cG5nfHN2Z3xwZGZ8Z2lmfG1vdnxpY298eG1sKVwiLFxuICBhc3NldHNQYXRoTGlzdDogW1wiLi9hc3NldHNcIl0sXG4gIGV4cG9ydFJlYWN0Q29tcG9uZW50Rm9yU3ZnOiBmYWxzZVxufTtcbiIsImltcG9ydCB7XG4gIElFbnRyeSxcbiAgSUVudHJ5VHlwZSxcbiAgZGVmYXVsdEFzc2V0c09wdGlvbnMsXG4gIElBc3NldHNPcHRpb25zXG59IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgKiBhcyBmcyBmcm9tIFwiZnNcIjtcbmltcG9ydCAqIGFzIHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCAqIGFzIG1pbmltYXRjaCBmcm9tIFwibWluaW1hdGNoXCI7XG4vLyBObyB0eXBlIGRlZmluZWQgZmlsZVxuY29uc3QgdmFybmFtZSA9IHJlcXVpcmUoXCJ2YXJuYW1lXCIpO1xuXG5leHBvcnQgY2xhc3MgUGFyc2VyIHtcbiAgcHVibGljIHN0YXRpYyBwYXJzZURpcmVjdG9yeShcbiAgICBkaXJwYXRoOiBzdHJpbmcsXG4gICAgb3B0aW9uczogSUFzc2V0c09wdGlvbnMgPSBkZWZhdWx0QXNzZXRzT3B0aW9uc1xuICApOiBJRW50cnlbXSB8IHVuZGVmaW5lZCB7XG4gICAgbGV0IGRpclN0YXRzO1xuICAgIHRyeSB7XG4gICAgICBkaXJTdGF0cyA9IGZzLmxzdGF0U3luYyhkaXJwYXRoKTtcblxuICAgICAgaWYgKCFkaXJTdGF0cy5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBjb25zdCBmaWxlbmFtZXMgPSBmcy5yZWFkZGlyU3luYyhkaXJwYXRoKTtcblxuICAgIHJldHVybiBmaWxlbmFtZXNcbiAgICAgIC5tYXAoZmlsZW5hbWUgPT4ge1xuICAgICAgICBjb25zdCBzdGF0cyA9IGZzLmxzdGF0U3luYyhwYXRoLnJlc29sdmUoZGlycGF0aCwgZmlsZW5hbWUpKTtcbiAgICAgICAgcmV0dXJuIHsgZmlsZW5hbWUsIHN0YXRzIH07XG4gICAgICB9KVxuICAgICAgLmZpbHRlcigoeyBmaWxlbmFtZSwgc3RhdHMgfSkgPT4ge1xuICAgICAgICAvLyBPbmx5IHByb2Nlc3MgcmVndWxhciBmaWxlIG9yIGRpcmVjdG9yeVxuICAgICAgICBpZiAoc3RhdHMuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXRzLmlzRmlsZSgpKSB7XG4gICAgICAgICAgLy8gaWYgdHlwZSBpcyBmaWxlLCBjaGVjayBtYXRjaCBvcHRpb24gdG8gZGV0ZXJtaW5lIGlmIG5lZWRcbiAgICAgICAgICByZXR1cm4gbWluaW1hdGNoKGZpbGVuYW1lLCBvcHRpb25zLm1hdGNoLCB7IG1hdGNoQmFzZTogdHJ1ZSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pXG4gICAgICAubWFwKCh7IGZpbGVuYW1lLCBzdGF0cyB9KSA9PiB7XG4gICAgICAgIGNvbnN0IHJhd0V4cG9ydGVkTmFtZSA9IHZhcm5hbWUuY2FtZWxiYWNrKGZpbGVuYW1lKSBhcyBzdHJpbmc7XG4gICAgICAgIC8vIElmIGl0IGlzIGEgbnVtYmVyICwgYWRkIHByZWZpeFxuICAgICAgICBjb25zdCBleHBvcnRlZE5hbWUgPSAvXFxkLy50ZXN0KHJhd0V4cG9ydGVkTmFtZS5zdWJzdHIoMCwgMSkpXG4gICAgICAgICAgPyBcIm51bVwiICsgcmF3RXhwb3J0ZWROYW1lXG4gICAgICAgICAgOiByYXdFeHBvcnRlZE5hbWU7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB0eXBlOiBzdGF0cy5pc0RpcmVjdG9yeSgpID8gSUVudHJ5VHlwZS5ESVJFQ1RPUlkgOiBJRW50cnlUeXBlLkZJTEUsXG4gICAgICAgICAgZmlsZW5hbWUsXG4gICAgICAgICAgYmFzZWRpcjogZGlycGF0aCxcbiAgICAgICAgICBleHBvcnRlZE5hbWU6IGV4cG9ydGVkTmFtZVxuICAgICAgICB9O1xuICAgICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IElBc3NldHNPcHRpb25zLCBkZWZhdWx0QXNzZXRzT3B0aW9ucywgSUVudHJ5VHlwZSB9IGZyb20gXCIuL3R5cGVzXCI7XG5pbXBvcnQgeyBHZW5lcmF0b3IgfSBmcm9tIFwiLi9nZW5lcmF0b3JcIjtcbmltcG9ydCB7IFBhcnNlciB9IGZyb20gXCIuL3BhcnNlclwiO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0ICogYXMgZnMgZnJvbSBcImZzXCI7XG5cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZUluZGV4RmlsZUZvckRpcmVjdG9yeSA9IChcbiAgZGlycGF0aDogc3RyaW5nLFxuICByZWN1cnNpdmU6IGJvb2xlYW4sXG4gIG9wdGlvbnM6IElBc3NldHNPcHRpb25zID0gZGVmYXVsdEFzc2V0c09wdGlvbnMsXG4gIHZlcmJvc2U6IGJvb2xlYW4gPSBmYWxzZVxuKSA9PiB7XG4gIGNvbnN0IGVudHJ5TGlzdCA9IFBhcnNlci5wYXJzZURpcmVjdG9yeShkaXJwYXRoLCBvcHRpb25zKTtcblxuICBpZiAoZW50cnlMaXN0KSB7XG4gICAgbGV0IGluZGV4RmlsZW5hbWUgPSBcImluZGV4XCI7XG4gICAgY29uc3QgaW5kZXhGaWxlQ29udGVudCA9IEdlbmVyYXRvci5nZW5lcmF0ZUNvbnRlbnRCeUVudGVyeUxpc3QoXG4gICAgICBlbnRyeUxpc3QsXG4gICAgICBvcHRpb25zXG4gICAgKTtcblxuICAgIGlmIChvcHRpb25zLmZpbGV0eXBlID09PSBcInRzXCIpIHtcbiAgICAgIGluZGV4RmlsZW5hbWUgKz0gXCIudHNcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5kZXhGaWxlbmFtZSArPSBcIi5qc1wiO1xuICAgIH1cblxuICAgIGNvbnN0IGluZGV4RmlsZUZ1bGxQYXRoID0gcGF0aC5yZXNvbHZlKGRpcnBhdGgsIGluZGV4RmlsZW5hbWUpO1xuICAgIGZzLndyaXRlRmlsZVN5bmMoaW5kZXhGaWxlRnVsbFBhdGgsIGluZGV4RmlsZUNvbnRlbnQpO1xuICAgIGlmICh2ZXJib3NlKSB7XG4gICAgICBjb25zb2xlLmxvZyhgR2VuZXJhdGVkICR7aW5kZXhGaWxlbmFtZX0gb24gZGlyZWN0b3J5OiAke2RpcnBhdGh9YCk7XG4gICAgfVxuXG4gICAgLy8gaWYgcmVjdXJzaXZlIHNldCwgcmVjdXJzaXZlbHkgcHJvY2VzcyBhbGwgc3ViLWRpcmVjdG9yeVxuICAgIGlmIChyZWN1cnNpdmUpIHtcbiAgICAgIGVudHJ5TGlzdFxuICAgICAgICAuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LnR5cGUgPT09IElFbnRyeVR5cGUuRElSRUNUT1JZKVxuICAgICAgICAuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgICAgZ2VuZXJhdGVJbmRleEZpbGVGb3JEaXJlY3RvcnkoXG4gICAgICAgICAgICBwYXRoLnJlc29sdmUoZGlycGF0aCwgZW50cnkuZmlsZW5hbWUpLFxuICAgICAgICAgICAgcmVjdXJzaXZlLFxuICAgICAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgICAgIHZlcmJvc2VcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH1cbn07XG4iLCJpbXBvcnQge1xuICBJRW50cnksXG4gIElFbnRyeVR5cGUsXG4gIElBc3NldHNPcHRpb25zLFxuICBkZWZhdWx0QXNzZXRzT3B0aW9uc1xufSBmcm9tIFwiLi90eXBlc1wiO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tIFwicGF0aFwiO1xuXG5leHBvcnQgY2xhc3MgR2VuZXJhdG9yIHtcbiAgLyoqXG4gICAqIEBwYXJhbSBlbnRyeUxpc3QgZW50cnkgbGlzdCB0byBwcm9jZXNzIGluIHRoaXMgcGF0aFxuICAgKi9cbiAgcHVibGljIHN0YXRpYyBnZW5lcmF0ZUNvbnRlbnRCeUVudGVyeUxpc3QoXG4gICAgZW50cnlMaXN0OiBJRW50cnlbXSxcbiAgICBvcHRpb25zOiBJQXNzZXRzT3B0aW9ucyA9IGRlZmF1bHRBc3NldHNPcHRpb25zXG4gICkge1xuICAgIGNvbnN0IHN5bWJvbHNUb0V4cG9ydDogc3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCBpbXBvcnRMaW5lczogc3RyaW5nW10gPSBbXTtcblxuICAgIC8vIHNvcnQgZmlyc3RcbiAgICBlbnRyeUxpc3RcbiAgICAgIC5zb3J0KChlbnRyeSwgZW50cnlOZXh0KSA9PiBlbnRyeS50eXBlIC0gZW50cnlOZXh0LnR5cGUpXG4gICAgICAuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgIHN5bWJvbHNUb0V4cG9ydC5wdXNoKGVudHJ5LmV4cG9ydGVkTmFtZSk7XG4gICAgICAgIGlmIChvcHRpb25zLm1vZHVsZSA9PSBcImVzNlwiKSB7XG4gICAgICAgICAgaW1wb3J0TGluZXMucHVzaChcbiAgICAgICAgICAgIGBpbXBvcnQgJHtlbnRyeS5leHBvcnRlZE5hbWV9IGZyb20gJy4vJHtlbnRyeS5maWxlbmFtZX0nO2BcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgb3B0aW9ucy5leHBvcnRSZWFjdENvbXBvbmVudEZvclN2ZyAmJlxuICAgICAgICAgICAgcGF0aC5leHRuYW1lKGVudHJ5LmZpbGVuYW1lKS50b0xvd2VyQ2FzZSgpID09PSBcIi5zdmdcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29uc3Qgc3ZnQ29tcG9uZW50TmFtZSA9IGAke2VudHJ5LmV4cG9ydGVkTmFtZX1Db21wb25lbnRgO1xuICAgICAgICAgICAgaW1wb3J0TGluZXMucHVzaChcbiAgICAgICAgICAgICAgYGltcG9ydCB7IFJlYWN0Q29tcG9uZW50IGFzICR7c3ZnQ29tcG9uZW50TmFtZX0gfSBmb3JtICcuLyR7XG4gICAgICAgICAgICAgICAgZW50cnkuZmlsZW5hbWVcbiAgICAgICAgICAgICAgfSc7YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHN5bWJvbHNUb0V4cG9ydC5wdXNoKHN2Z0NvbXBvbmVudE5hbWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLm1vZHVsZSA9PSBcImNvbW1vbmpzXCIpIHtcbiAgICAgICAgICBpbXBvcnRMaW5lcy5wdXNoKFxuICAgICAgICAgICAgYGNvbnN0ICR7ZW50cnkuZXhwb3J0ZWROYW1lfSA9IHJlcXVpcmUoJy4vJHtlbnRyeS5maWxlbmFtZX0nKTtgXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICBjb25zdCBpbXBvcnRCbG9jayA9IGltcG9ydExpbmVzLmpvaW4oXCJcXG5cIik7XG4gICAgbGV0IGV4cG9ydEJsb2NrO1xuXG4gICAgaWYgKG9wdGlvbnMubW9kdWxlID09PSBcImVzNlwiKSB7XG4gICAgICBleHBvcnRCbG9jayA9IGBleHBvcnQgZGVmYXVsdCB7XG4gICAgJHtzeW1ib2xzVG9FeHBvcnQuam9pbihcIixcXG4gICAgXCIpfVxufTtgO1xuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5tb2R1bGUgPT09IFwiY29tbW9uanNcIikge1xuICAgICAgZXhwb3J0QmxvY2sgPSBgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgJHtzeW1ib2xzVG9FeHBvcnQuam9pbihcIixcXG4gICAgXCIpfVxufTtgO1xuICAgIH1cblxuICAgIHJldHVybiBbaW1wb3J0QmxvY2ssIFwiXFxuXCIsIGV4cG9ydEJsb2NrXS5qb2luKFwiXFxuXCIpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb25maWcgfSBmcm9tIFwiYXNzZXRzLWNvcmUvc3JjL2NvbmZpZ1wiO1xuaW1wb3J0ICogYXMgcHJvZ3JhbSBmcm9tIFwiY29tbWFuZGVyXCI7XG5pbXBvcnQgeyBnZW5lcmF0ZUluZGV4RmlsZUZvckRpcmVjdG9yeSB9IGZyb20gXCJhc3NldHMtY29yZS9zcmMvaW5kZXhcIjtcbmltcG9ydCB7IElBc3NldHNPcHRpb25zLCBkZWZhdWx0QXNzZXRzT3B0aW9ucyB9IGZyb20gXCJhc3NldHMtY29yZS9zcmMvdHlwZXNcIjtcbmltcG9ydCAqIGFzIGZzIGZyb20gXCJmc1wiO1xuXG5sZXQgZGlyZWN0b3J5O1xuXG5wcm9ncmFtXG4gIC5hcmd1bWVudHMoXCI8ZGlyZWNvdHJ5PlwiKVxuICAub3B0aW9uKFwiLW0sIC0tbW9kdWxlIDxtb2R1bGU+XCIsIFwidXNlIHdoaWNoIEpTIG1vZHVsZSBzeXN0ZW1zOiBlczYvY29tbW9uanNcIilcbiAgLm9wdGlvbihcIi12LCAtLXZlcmJvc2VcIiwgXCJvdXB1dCBkZXRhaWwgbWVzc2FnZSB0byBzdGRvdXRcIilcbiAgLm9wdGlvbihcIi10LCAtLWZpbGV0eXBlIDxmaWxldHlwZT5cIiwgXCJ3aGljaCBmaWxlIGV4dGlvbnNpb24gdG8gdXNlOiB0cy9qc1wiKVxuICAub3B0aW9uKFxuICAgIFwiLWMsIC0tY29uZmlnIDxjb25maWc+XCIsXG4gICAgXCJjb25maWcgZmlsZSB0byByZWFkLiBkZWZhdWx0IDxjd2Q+Ly5hc3NldHNyY1wiLFxuICAgIFwiLi9hc3NldHNyY1wiXG4gIClcbiAgLm9wdGlvbihcbiAgICBcIi1hLCAtLW1hdGNoIDxtYXRjaD5cIixcbiAgICBcIndoaWNoIGZpbGVzIHRvIGltcG9ydC4gaW4gbWluaW1hdGNoIGZvcm1hdDogZWcuICouKyhwbmcvc3ZnKVwiXG4gIClcbiAgLm9wdGlvbihcIi1yLCAtLXN2Z1wiLCBcIndoZXRoZXIgZ2VuZXJhdGUgc3ZnIHJlYWN0IGNvbXBvbmVudCBvciBub3RcIiwgZmFsc2UpXG4gIC5hY3Rpb24ocm9vdERpcmVjb3RyeSA9PiB7XG4gICAgZGlyZWN0b3J5ID0gcm9vdERpcmVjb3RyeTtcbiAgfSlcbiAgLnBhcnNlKHByb2Nlc3MuYXJndik7XG5cbi8vIGNvbmZpZyBwcmlvcml0eSBjbGkgb3B0aW9ucyA+IGNvbmZpZ19maWxlID4gZGVmYXVsdF92YWx1ZVxuXG5sZXQgb3B0aW9uczogSUFzc2V0c09wdGlvbnMgPSBkZWZhdWx0QXNzZXRzT3B0aW9ucztcblxuaWYgKHByb2dyYW0uY29uZmlnICE9PSB1bmRlZmluZWQpIHtcbiAgdHJ5IHtcbiAgICBpZiAoZnMubHN0YXRTeW5jKHByb2dyYW0uY29uZmlnKS5pc0ZpbGUoKSkge1xuICAgICAgaWYgKHByb2dyYW0udmVyYm9zZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhgQ29uZmlnIGZpbGUgZm91bmRlZCEgbG9hZCBmcm9tICR7cHJvZ3JhbS5jb25maWd9YCk7XG4gICAgICAgIG9wdGlvbnMgPSBDb25maWcubG9hZE9wdGlvbnNGcm9tQ29uZmlnRmlsZShwcm9ncmFtLmNvbmZpZyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChwcm9ncmFtLnZlcmJvc2UpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJDb25maWcgZmlsZSBub3QgZm91bmRlZCEgdXNlIGRlZmF1bHQgY29uZmlnXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChwcm9ncmFtLnZlcmJvc2UpIHtcbiAgICAgIGNvbnNvbGUubG9nKFxuICAgICAgICBcIkNvbmZpZyBmaWxlIHlvdXIgcHJvdmlkZSBoYXMgc29tZSBwcm9ibGVtcywgY2FuIG5vdCBsb2FkLCBmYWxsYmFjayB0byB1c2UgZGVmYXVsdCBjb25maWdcIlxuICAgICAgKTtcbiAgICB9XG4gIH1cbn0gZWxzZSB7XG4gIGlmIChwcm9ncmFtLnZlcmJvc2UpIHtcbiAgICBjb25zb2xlLmxvZyhcIkNvbmZpZyBmaWxlIG5vdCBmb3VuZGVkISB1c2UgZGVmYXVsdCBjb25maWdcIik7XG4gIH1cbn1cblxuaWYgKGRpcmVjdG9yeSAhPT0gdW5kZWZpbmVkKSB7XG4gIG9wdGlvbnMgPSB7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBhc3NldHNQYXRoTGlzdDogW2RpcmVjdG9yeV1cbiAgfTtcbn1cblxuaWYgKHByb2dyYW0ubW9kdWxlKSB7XG4gIG9wdGlvbnMgPSB7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBtb2R1bGU6IHByb2dyYW0ubW9kdWxlXG4gIH07XG59XG5cbmlmIChwcm9ncmFtLmZpbGV0eXBlKSB7XG4gIG9wdGlvbnMgPSB7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBmaWxldHlwZTogcHJvZ3JhbS5maWxldHlwZVxuICB9O1xufVxuXG5pZiAocHJvZ3JhbS5tYXRjaCkge1xuICBvcHRpb25zID0ge1xuICAgIC4uLm9wdGlvbnMsXG4gICAgbWF0Y2g6IHByb2dyYW0ubWF0Y2hcbiAgfTtcbn1cblxuY29uc29sZS5sb2cocHJvZ3JhbS5zdmcpO1xuaWYgKHByb2dyYW0uc3ZnKSB7XG4gIG9wdGlvbnMgPSB7XG4gICAgLi4ub3B0aW9ucyxcbiAgICBleHBvcnRSZWFjdENvbXBvbmVudEZvclN2ZzogcHJvZ3JhbS5zdmdcbiAgfTtcbn1cblxuaWYgKHByb2dyYW0udmVyYm9zZSkge1xuICBjb25zb2xlLmxvZyhgT3B0aW9ucyBpczogXFxuJHtKU09OLnN0cmluZ2lmeShvcHRpb25zLCB1bmRlZmluZWQsIDIpfWApO1xufVxuXG5vcHRpb25zLmFzc2V0c1BhdGhMaXN0LmZvckVhY2goYXNzZXRzUGF0aCA9PiB7XG4gIC8vIFJ1biBnZW5lcmF0ZSBjb21tYW5kXG4gIGdlbmVyYXRlSW5kZXhGaWxlRm9yRGlyZWN0b3J5KGFzc2V0c1BhdGgsIHRydWUsIG9wdGlvbnMsIHByb2dyYW0udmVyYm9zZSk7XG59KTtcbiIsImltcG9ydCB7IGRlZmF1bHRBc3NldHNPcHRpb25zIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCAqIGFzIGZzIGZyb20gXCJmc1wiO1xuXG4vKipcbiAqIExvYWQgY29uZmlnIGZyb20gZmlsZSwgaWYgZXJyb3Igb3IgZmlsZSBpcyBub3QgZXhpc3RpbmcsIHVzZSBkZWZhdWx0IG9wdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIENvbmZpZyB7XG4gIHB1YmxpYyBzdGF0aWMgbG9hZE9wdGlvbnNGcm9tQ29uZmlnRmlsZShjb25maWdGaWxlTmFtZTogc3RyaW5nKSB7XG4gICAgY29uc3Qgc3RhdHMgPSBmcy5sc3RhdFN5bmMoY29uZmlnRmlsZU5hbWUpO1xuICAgIGlmICghc3RhdHMuaXNGaWxlKCkpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0QXNzZXRzT3B0aW9ucztcbiAgICB9XG5cbiAgICBjb25zdCBjb250ZW50ID0gZnMucmVhZEZpbGVTeW5jKGNvbmZpZ0ZpbGVOYW1lLCB7IGVuY29kaW5nOiBcInV0Zi04XCIgfSk7XG5cbiAgICBpZiAoIWNvbnRlbnQpIHtcbiAgICAgIHJldHVybiBkZWZhdWx0QXNzZXRzT3B0aW9ucztcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgY29uZmlnT2JqZWN0ID0gSlNPTi5wYXJzZShjb250ZW50KTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmRlZmF1bHRBc3NldHNPcHRpb25zLFxuICAgICAgICAuLi5jb25maWdPYmplY3RcbiAgICAgIH07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIGRlZmF1bHRBc3NldHNPcHRpb25zO1xuICAgIH1cbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==