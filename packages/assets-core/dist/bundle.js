!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=7)}([function(t,e){t.exports=require("path")},function(t,e){t.exports=require("fs")},function(t,e,r){t.exports=g,g.Minimatch=d;var n={sep:"/"};try{n=r(0)}catch(t){}var i=g.GLOBSTAR=d.GLOBSTAR={},s=r(3),o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",u=a+"*?",c="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",p="(?:(?!(?:\\/|^)\\.).)*?",h="().*{}+?[]^$\\!".split("").reduce(function(t,e){return t[e]=!0,t},{});var f=/\/+/;function l(t,e){t=t||{},e=e||{};var r={};return Object.keys(e).forEach(function(t){r[t]=e[t]}),Object.keys(t).forEach(function(e){r[e]=t[e]}),r}function g(t,e,r){if("string"!=typeof e)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new d(e,r).match(t))}function d(t,e){if(!(this instanceof d))return new d(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==n.sep&&(t=t.split(n.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function m(t,e){if(e||(e=this instanceof d?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:s(t)}g.filter=function(t,e){return e=e||{},function(r,n,i){return g(r,t,e)}},g.defaults=function(t){if(!t||!Object.keys(t).length)return g;var e=g,r=function(r,n,i){return e.minimatch(r,n,l(t,i))};return r.Minimatch=function(r,n){return new e.Minimatch(r,l(t,n))},r},d.defaults=function(t){return t&&Object.keys(t).length?g.defaults(t).Minimatch:d},d.prototype.debug=function(){},d.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,r),r=this.globParts=r.map(function(t){return t.split(f)}),this.debug(this.pattern,r),r=r.map(function(t,e,r){return t.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(t){return-1===t.indexOf(!1)}),this.debug(this.pattern,r),this.set=r},d.prototype.parseNegate=function(){var t=this.pattern,e=!1,r=this.options,n=0;if(r.nonegate)return;for(var i=0,s=t.length;i<s&&"!"===t.charAt(i);i++)e=!e,n++;n&&(this.pattern=t.substr(n));this.negate=e},g.braceExpand=function(t,e){return m(t,e)},d.prototype.braceExpand=m,d.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===t)return i;if(""===t)return"";var n,s="",c=!!r.nocase,p=!1,f=[],l=[],g=!1,d=-1,m=-1,b="."===t.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=this;function j(){if(n){switch(n){case"*":s+=u,c=!0;break;case"?":s+=a,c=!0;break;default:s+="\\"+n}y.debug("clearStateChar %j %j",n,s),n=!1}}for(var x,E=0,O=t.length;E<O&&(x=t.charAt(E));E++)if(this.debug("%s\t%s %s %j",t,E,s,x),p&&h[x])s+="\\"+x,p=!1;else switch(x){case"/":return!1;case"\\":j(),p=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,E,s,x),g){this.debug("  in class"),"!"===x&&E===m+1&&(x="^"),s+=x;continue}y.debug("call clearStateChar %j",n),j(),n=x,r.noext&&j();continue;case"(":if(g){s+="(";continue}if(!n){s+="\\(";continue}f.push({type:n,start:E-1,reStart:s.length,open:o[n].open,close:o[n].close}),s+="!"===n?"(?:(?!(?:":"(?:",this.debug("plType %j %j",n,s),n=!1;continue;case")":if(g||!f.length){s+="\\)";continue}j(),c=!0;var w=f.pop();s+=w.close,"!"===w.type&&l.push(w),w.reEnd=s.length;continue;case"|":if(g||!f.length||p){s+="\\|",p=!1;continue}j(),s+="|";continue;case"[":if(j(),g){s+="\\"+x;continue}g=!0,m=E,d=s.length,s+=x;continue;case"]":if(E===m+1||!g){s+="\\"+x,p=!1;continue}if(g){var $=t.substring(m+1,E);try{RegExp("["+$+"]")}catch(t){var S=this.parse($,v);s=s.substr(0,d)+"\\["+S[0]+"\\]",c=c||S[1],g=!1;continue}}c=!0,g=!1,s+=x;continue;default:j(),p?p=!1:!h[x]||"^"===x&&g||(s+="\\"),s+=x}g&&($=t.substr(m+1),S=this.parse($,v),s=s.substr(0,d)+"\\["+S[0],c=c||S[1]);for(w=f.pop();w;w=f.pop()){var A=s.slice(w.reStart+w.open.length);this.debug("setting tail",s,w),A=A.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(t,e,r){return r||(r="\\"),e+e+r+"|"}),this.debug("tail=%j\n   %s",A,A,w,s);var R="*"===w.type?u:"?"===w.type?a:"\\"+w.type;c=!0,s=s.slice(0,w.reStart)+R+"\\("+A}j(),p&&(s+="\\\\");var C=!1;switch(s.charAt(0)){case".":case"[":case"(":C=!0}for(var M=l.length-1;M>-1;M--){var k=l[M],L=s.slice(0,k.reStart),T=s.slice(k.reStart,k.reEnd-8),D=s.slice(k.reEnd-8,k.reEnd),I=s.slice(k.reEnd);D+=I;var _=L.split("(").length-1,N=I;for(E=0;E<_;E++)N=N.replace(/\)[+*?]?/,"");var P="";""===(I=N)&&e!==v&&(P="$");var B=L+T+I+P+D;s=B}""!==s&&c&&(s="(?=.)"+s);C&&(s=b+s);if(e===v)return[s,c];if(!c)return t.replace(/\\(.)/g,"$1");var F=r.nocase?"i":"";try{var q=new RegExp("^"+s+"$",F)}catch(t){return new RegExp("$.")}return q._glob=t,q._src=s,q};var v={};g.makeRe=function(t,e){return new d(t,e||{}).makeRe()},d.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?u:e.dot?c:p,n=e.nocase?"i":"",s=t.map(function(t){return t.map(function(t){return t===i?r:"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t._src}).join("\\/")}).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,n)}catch(t){this.regexp=!1}return this.regexp},g.match=function(t,e,r){var n=new d(e,r=r||{});return t=t.filter(function(t){return n.match(t)}),n.options.nonull&&!t.length&&t.push(e),t},d.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var r=this.options;"/"!==n.sep&&(t=t.split(n.sep).join("/"));t=t.split(f),this.debug(this.pattern,"split",t);var i,s,o=this.set;for(this.debug(this.pattern,"set",o),s=t.length-1;s>=0&&!(i=t[s]);s--);for(s=0;s<o.length;s++){var a=o[s],u=t;r.matchBase&&1===a.length&&(u=[i]);var c=this.matchOne(u,a,e);if(c)return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},d.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var s=0,o=0,a=t.length,u=e.length;s<a&&o<u;s++,o++){this.debug("matchOne loop");var c,p=e[o],h=t[s];if(this.debug(e,p,h),!1===p)return!1;if(p===i){this.debug("GLOBSTAR",[e,p,h]);var f=s,l=o+1;if(l===u){for(this.debug("** at the end");s<a;s++)if("."===t[s]||".."===t[s]||!n.dot&&"."===t[s].charAt(0))return!1;return!0}for(;f<a;){var g=t[f];if(this.debug("\nglobstar while",t,f,e,l,g),this.matchOne(t.slice(f),e.slice(l),r))return this.debug("globstar found match!",f,a,g),!0;if("."===g||".."===g||!n.dot&&"."===g.charAt(0)){this.debug("dot detected!",t,f,e,l);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!r||(this.debug("\n>>> no match, partial?",t,f,e,l),f!==a))}if("string"==typeof p?(c=n.nocase?h.toLowerCase()===p.toLowerCase():h===p,this.debug("string match",p,h,c)):(c=h.match(p),this.debug("pattern match",p,h,c)),!c)return!1}if(s===a&&o===u)return!0;if(s===a)return r;if(o===u)return s===a-1&&""===t[s];throw new Error("wtf?")}},function(t,e,r){var n=r(4),i=r(5);t.exports=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return function t(e,r){var s=[];var o=i("{","}",e);if(!o||/\$$/.test(o.pre))return[e];var u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body);var c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body);var h=u||c;var m=o.body.indexOf(",")>=0;if(!h&&!m)return o.post.match(/,.*\}/)?(e=o.pre+"{"+o.body+a+o.post,t(e)):[e];var v;if(h)v=o.body.split(/\.\./);else if(1===(v=function t(e){if(!e)return[""];var r=[];var n=i("{","}",e);if(!n)return e.split(",");var s=n.pre;var o=n.body;var a=n.post;var u=s.split(",");u[u.length-1]+="{"+o+"}";var c=t(a);a.length&&(u[u.length-1]+=c.shift(),u.push.apply(u,c));r.push.apply(r,u);return r}(o.body)).length&&1===(v=t(v[0],!1).map(f)).length){var b=o.post.length?t(o.post,!1):[""];return b.map(function(t){return o.pre+v[0]+t})}var y=o.pre;var b=o.post.length?t(o.post,!1):[""];var j;if(h){var x=p(v[0]),E=p(v[1]),O=Math.max(v[0].length,v[1].length),w=3==v.length?Math.abs(p(v[2])):1,$=g,S=E<x;S&&(w*=-1,$=d);var A=v.some(l);j=[];for(var R=x;$(R,E);R+=w){var C;if(c)"\\"===(C=String.fromCharCode(R))&&(C="");else if(C=String(R),A){var M=O-C.length;if(M>0){var k=new Array(M+1).join("0");C=R<0?"-"+k+C.slice(1):k+C}}j.push(C)}}else j=n(v,function(e){return t(e,!1)});for(var L=0;L<j.length;L++)for(var T=0;T<b.length;T++){var D=y+j[L]+b[T];(!r||h||D)&&s.push(D)}return s}(function(t){return t.split("\\\\").join(s).split("\\{").join(o).split("\\}").join(a).split("\\,").join(u).split("\\.").join(c)}(t),!0).map(h)};var s="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",u="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function p(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function h(t){return t.split(s).join("\\").split(o).join("{").split(a).join("}").split(u).join(",").split(c).join(".")}function f(t){return"{"+t+"}"}function l(t){return/^-?0\d/.test(t)}function g(t,e){return t<=e}function d(t,e){return t>=e}},function(t,e){t.exports=function(t,e){for(var n=[],i=0;i<t.length;i++){var s=e(t[i],i);r(s)?n.push.apply(n,s):n.push(s)}return n};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";function n(t,e,r){t instanceof RegExp&&(t=i(t,r)),e instanceof RegExp&&(e=i(e,r));var n=s(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function i(t,e){var r=e.match(t);return r?r[0]:null}function s(t,e,r){var n,i,s,o,a,u=r.indexOf(t),c=r.indexOf(e,u+1),p=u;if(u>=0&&c>0){for(n=[],s=r.length;p>=0&&!a;)p==u?(n.push(p),u=r.indexOf(t,p+1)):1==n.length?a=[n.pop(),c]:((i=n.pop())<s&&(s=i,o=c),c=r.indexOf(e,p+1)),p=u<c&&u>=0?u:c;n.length&&(a=[s,o])}return a}t.exports=n,n.range=s},function(t,e,r){"use strict";var n=t.exports={camelback:function(t){var e=n.split(t);return e.shift()+i(e).join("")},camelcase:function(t){return i(n.split(t)).join("")},dash:function(t){return n.split(t).join("-")},underscore:function(t){return n.split(t).join("_")},split:function(t){return(e=t=t.replace(/[^a-z0-9]+/gi," ").replace(/([A-Z0-9]+)([A-Z][a-z])/g,"$1 $2").replace(/([a-z0-9])([A-Z])/g,"$1 $2").toLowerCase(),e.replace(/^\s+|\s+$/g,"")).split(/\s+/);var e}};function i(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].charAt(0).toUpperCase()+t[r].substr(1));return e}},function(t,e,r){"use strict";let n;r.r(e),function(t){t[t.FILE=1]="FILE",t[t.DIRECTORY=2]="DIRECTORY"}(n||(n={}));const i={module:"es6",filetype:"ts",match:"*.+(png|jpg|png|svg|pdf|gif|mov|ico|xml)",assetsPathList:["./assets"]};var s=r(1),o=r(0),a=r(2);const u=r(6);r.d(e,"generateIndexFileForDirectory",function(){return c});const c=(t,e,r=i,p=!1)=>{const h=class{static parseDirectory(t,e=i){let r;try{if(!(r=s.lstatSync(t)).isDirectory())return}catch(t){return}return s.readdirSync(t).map(e=>({filename:e,stats:s.lstatSync(o.resolve(t,e))})).filter(({filename:t,stats:r})=>!!r.isDirectory()||!!r.isFile()&&a(t,e.match,{matchBase:!0})).map(({filename:e,stats:r})=>{const i=u.camelback(e),s=/\d/.test(i.substr(0,1))?"num"+i:i;return{type:r.isDirectory()?n.DIRECTORY:n.FILE,filename:e,basedir:t,exportedName:s}})}}.parseDirectory(t,r);if(h){let a="index";const u=class{static generateContentByEnteryList(t,e=i){const r=[],n=[];t.sort((t,e)=>t.type-e.type).forEach(t=>{r.push(t.exportedName),"es6"==e.module?n.push(`import ${t.exportedName} from './${t.filename}';`):"commonjs"==e.module&&n.push(`const ${t.exportedName} = require('./${t.filename}');`)});const s=n.join("\n");let o;return"es6"===e.module?o=`export default {\n    ${r.join(",\n    ")}\n};`:"commonjs"===e.module&&(o=`module.exports = {\n    ${r.join(",\n    ")}\n};`),[s,"\n",o].join("\n")}}.generateContentByEnteryList(h,r);"ts"===r.filetype?a+=".ts":a+=".js";const f=o.resolve(t,a);s.writeFileSync(f,u),p&&console.log(`Generated ${a} on directory: ${t}`),e&&h.filter(t=>t.type===n.DIRECTORY).forEach(n=>{c(o.resolve(t,n.filename),e,r,p)})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicGF0aFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImZzXCIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21pbmltYXRjaC9taW5pbWF0Y2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2JyYWNlLWV4cGFuc2lvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29uY2F0LW1hcC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYmFsYW5jZWQtbWF0Y2gvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Zhcm5hbWUvbGliL3Zhcm5hbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3R5cGVzLnRzIiwid2VicGFjazovLy8uL3NyYy9wYXJzZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9nZW5lcmF0b3IudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJyZXF1aXJlIiwibWluaW1hdGNoIiwiTWluaW1hdGNoIiwicGF0aCIsInNlcCIsImVyIiwiR0xPQlNUQVIiLCJleHBhbmQiLCJwbFR5cGVzIiwiISIsIm9wZW4iLCJjbG9zZSIsIj8iLCIrIiwiKiIsIkAiLCJxbWFyayIsInN0YXIiLCJ0d29TdGFyRG90IiwidHdvU3Rhck5vRG90IiwicmVTcGVjaWFscyIsInNwbGl0IiwicmVkdWNlIiwic2V0Iiwic2xhc2hTcGxpdCIsImV4dCIsImEiLCJiIiwia2V5cyIsImZvckVhY2giLCJrIiwicGF0dGVybiIsIm9wdGlvbnMiLCJUeXBlRXJyb3IiLCJub2NvbW1lbnQiLCJjaGFyQXQiLCJ0cmltIiwibWF0Y2giLCJ0aGlzIiwiam9pbiIsInJlZ2V4cCIsIm5lZ2F0ZSIsImNvbW1lbnQiLCJlbXB0eSIsIm1ha2UiLCJicmFjZUV4cGFuZCIsIm5vYnJhY2UiLCJmaWx0ZXIiLCJsaXN0IiwiZGVmYXVsdHMiLCJkZWYiLCJsZW5ndGgiLCJvcmlnIiwiZGVidWciLCJfbWFkZSIsInBhcnNlTmVnYXRlIiwiZ2xvYlNldCIsImNvbnNvbGUiLCJlcnJvciIsImdsb2JQYXJ0cyIsIm1hcCIsInNpIiwicGFyc2UiLCJpbmRleE9mIiwibmVnYXRlT2Zmc2V0Iiwibm9uZWdhdGUiLCJzdWJzdHIiLCJpc1N1YiIsIm5vZ2xvYnN0YXIiLCJzdGF0ZUNoYXIiLCJyZSIsImhhc01hZ2ljIiwibm9jYXNlIiwiZXNjYXBpbmciLCJwYXR0ZXJuTGlzdFN0YWNrIiwibmVnYXRpdmVMaXN0cyIsImluQ2xhc3MiLCJyZUNsYXNzU3RhcnQiLCJjbGFzc1N0YXJ0IiwicGF0dGVyblN0YXJ0IiwiZG90Iiwic2VsZiIsImNsZWFyU3RhdGVDaGFyIiwibGVuIiwibm9leHQiLCJwdXNoIiwidHlwZSIsInN0YXJ0IiwicmVTdGFydCIsInBsIiwicG9wIiwicmVFbmQiLCJjcyIsInN1YnN0cmluZyIsIlJlZ0V4cCIsInNwIiwiU1VCUEFSU0UiLCJ0YWlsIiwic2xpY2UiLCJyZXBsYWNlIiwiXyIsIiQxIiwiJDIiLCJhZGRQYXR0ZXJuU3RhcnQiLCJubCIsIm5sQmVmb3JlIiwibmxGaXJzdCIsIm5sTGFzdCIsIm5sQWZ0ZXIiLCJvcGVuUGFyZW5zQmVmb3JlIiwiY2xlYW5BZnRlciIsImRvbGxhciIsIm5ld1JlIiwiZmxhZ3MiLCJyZWdFeHAiLCJfZ2xvYiIsIl9zcmMiLCJtYWtlUmUiLCJ0d29TdGFyIiwiZXgiLCJtbSIsImYiLCJub251bGwiLCJwYXJ0aWFsIiwiZmlsZW5hbWUiLCJmaWxlIiwibWF0Y2hCYXNlIiwiaGl0IiwibWF0Y2hPbmUiLCJmbGlwTmVnYXRlIiwiZmkiLCJwaSIsImZsIiwiZnIiLCJwciIsInN3YWxsb3dlZSIsInRvTG93ZXJDYXNlIiwiRXJyb3IiLCJjb25jYXRNYXAiLCJiYWxhbmNlZCIsInN0ciIsImlzVG9wIiwiZXhwYW5zaW9ucyIsInRlc3QiLCJwcmUiLCJpc051bWVyaWNTZXF1ZW5jZSIsImJvZHkiLCJpc0FscGhhU2VxdWVuY2UiLCJpc1NlcXVlbmNlIiwiaXNPcHRpb25zIiwicG9zdCIsImVzY0Nsb3NlIiwicGFyc2VDb21tYVBhcnRzIiwicGFydHMiLCJwb3N0UGFydHMiLCJzaGlmdCIsImFwcGx5IiwiZW1icmFjZSIsIk4iLCJ4IiwibnVtZXJpYyIsInkiLCJ3aWR0aCIsIk1hdGgiLCJtYXgiLCJpbmNyIiwiYWJzIiwibHRlIiwicmV2ZXJzZSIsImd0ZSIsInBhZCIsInNvbWUiLCJpc1BhZGRlZCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsIm5lZWQiLCJ6IiwiQXJyYXkiLCJlbCIsImoiLCJleHBhbnNpb24iLCJlc2NTbGFzaCIsImVzY09wZW4iLCJlc2NDb21tYSIsImVzY1BlcmlvZCIsImVzY2FwZUJyYWNlcyIsInVuZXNjYXBlQnJhY2VzIiwicmFuZG9tIiwicGFyc2VJbnQiLCJjaGFyQ29kZUF0IiwieHMiLCJmbiIsInJlcyIsImlzQXJyYXkiLCJ0b1N0cmluZyIsIm1heWJlTWF0Y2giLCJyYW5nZSIsImVuZCIsInJlZyIsImJlZ3MiLCJiZWciLCJsZWZ0IiwicmlnaHQiLCJyZXN1bHQiLCJhaSIsImJpIiwidmFybmFtZSIsImNhbWVsYmFjayIsInRpdGxlQ2FzZVdvcmRzIiwiY2FtZWxjYXNlIiwiZGFzaCIsInVuZGVyc2NvcmUiLCJzdHJpbmciLCJyZXN1bHRzIiwidG9VcHBlckNhc2UiLCJJRW50cnlUeXBlIiwiZGVmYXVsdEFzc2V0c09wdGlvbnMiLCJmaWxldHlwZSIsImFzc2V0c1BhdGhMaXN0IiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsImdlbmVyYXRlSW5kZXhGaWxlRm9yRGlyZWN0b3J5IiwiZGlycGF0aCIsInJlY3Vyc2l2ZSIsInZlcmJvc2UiLCJlbnRyeUxpc3QiLCJbb2JqZWN0IE9iamVjdF0iLCJkaXJTdGF0cyIsImZzIiwiaXNEaXJlY3RvcnkiLCJlIiwic3RhdHMiLCJpc0ZpbGUiLCJyYXdFeHBvcnRlZE5hbWUiLCJleHBvcnRlZE5hbWUiLCJESVJFQ1RPUlkiLCJGSUxFIiwiYmFzZWRpciIsInBhcnNlRGlyZWN0b3J5IiwiaW5kZXhGaWxlbmFtZSIsImluZGV4RmlsZUNvbnRlbnQiLCJzeW1ib2xzVG9FeHBvcnQiLCJpbXBvcnRMaW5lcyIsInNvcnQiLCJlbnRyeSIsImVudHJ5TmV4dCIsImltcG9ydEJsb2NrIiwiZXhwb3J0QmxvY2siLCJnZW5lcmF0ZUNvbnRlbnRCeUVudGVyeUxpc3QiLCJpbmRleEZpbGVGdWxsUGF0aCIsImxvZyJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENL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QUFTaUIsR0FDaERYLGdCQUFpQnFCLEVBQW1CVCxHQUNoQ2hCLEdBQ0Z0SyxRQUFRZ00saUJBQWlCWCxtQkFBK0JqQixLQUl0REMsR0FDRkUsRUFDR2pMLE9BQU9vTSxHQUFTQSxFQUFNN0osT0FBU2lJLEVBQVdtQixXQUMxQzdNLFFBQVFzTixJQUNQdkIsRUFDRXpOLFVBQWEwTixFQUFTc0IsRUFBTXZILFVBQzVCa0csRUFDQTlMLEVBQ0ErTCIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJwYXRoXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gbWluaW1hdGNoXG5taW5pbWF0Y2guTWluaW1hdGNoID0gTWluaW1hdGNoXG5cbnZhciBwYXRoID0geyBzZXA6ICcvJyB9XG50cnkge1xuICBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG59IGNhdGNoIChlcikge31cblxudmFyIEdMT0JTVEFSID0gbWluaW1hdGNoLkdMT0JTVEFSID0gTWluaW1hdGNoLkdMT0JTVEFSID0ge31cbnZhciBleHBhbmQgPSByZXF1aXJlKCdicmFjZS1leHBhbnNpb24nKVxuXG52YXIgcGxUeXBlcyA9IHtcbiAgJyEnOiB7IG9wZW46ICcoPzooPyEoPzonLCBjbG9zZTogJykpW14vXSo/KSd9LFxuICAnPyc6IHsgb3BlbjogJyg/OicsIGNsb3NlOiAnKT8nIH0sXG4gICcrJzogeyBvcGVuOiAnKD86JywgY2xvc2U6ICcpKycgfSxcbiAgJyonOiB7IG9wZW46ICcoPzonLCBjbG9zZTogJykqJyB9LFxuICAnQCc6IHsgb3BlbjogJyg/OicsIGNsb3NlOiAnKScgfVxufVxuXG4vLyBhbnkgc2luZ2xlIHRoaW5nIG90aGVyIHRoYW4gL1xuLy8gZG9uJ3QgbmVlZCB0byBlc2NhcGUgLyB3aGVuIHVzaW5nIG5ldyBSZWdFeHAoKVxudmFyIHFtYXJrID0gJ1teL10nXG5cbi8vICogPT4gYW55IG51bWJlciBvZiBjaGFyYWN0ZXJzXG52YXIgc3RhciA9IHFtYXJrICsgJyo/J1xuXG4vLyAqKiB3aGVuIGRvdHMgYXJlIGFsbG93ZWQuICBBbnl0aGluZyBnb2VzLCBleGNlcHQgLi4gYW5kIC5cbi8vIG5vdCAoXiBvciAvIGZvbGxvd2VkIGJ5IG9uZSBvciB0d28gZG90cyBmb2xsb3dlZCBieSAkIG9yIC8pLFxuLy8gZm9sbG93ZWQgYnkgYW55dGhpbmcsIGFueSBudW1iZXIgb2YgdGltZXMuXG52YXIgdHdvU3RhckRvdCA9ICcoPzooPyEoPzpcXFxcXFwvfF4pKD86XFxcXC57MSwyfSkoJHxcXFxcXFwvKSkuKSo/J1xuXG4vLyBub3QgYSBeIG9yIC8gZm9sbG93ZWQgYnkgYSBkb3QsXG4vLyBmb2xsb3dlZCBieSBhbnl0aGluZywgYW55IG51bWJlciBvZiB0aW1lcy5cbnZhciB0d29TdGFyTm9Eb3QgPSAnKD86KD8hKD86XFxcXFxcL3xeKVxcXFwuKS4pKj8nXG5cbi8vIGNoYXJhY3RlcnMgdGhhdCBuZWVkIHRvIGJlIGVzY2FwZWQgaW4gUmVnRXhwLlxudmFyIHJlU3BlY2lhbHMgPSBjaGFyU2V0KCcoKS4qe30rP1tdXiRcXFxcIScpXG5cbi8vIFwiYWJjXCIgLT4geyBhOnRydWUsIGI6dHJ1ZSwgYzp0cnVlIH1cbmZ1bmN0aW9uIGNoYXJTZXQgKHMpIHtcbiAgcmV0dXJuIHMuc3BsaXQoJycpLnJlZHVjZShmdW5jdGlvbiAoc2V0LCBjKSB7XG4gICAgc2V0W2NdID0gdHJ1ZVxuICAgIHJldHVybiBzZXRcbiAgfSwge30pXG59XG5cbi8vIG5vcm1hbGl6ZXMgc2xhc2hlcy5cbnZhciBzbGFzaFNwbGl0ID0gL1xcLysvXG5cbm1pbmltYXRjaC5maWx0ZXIgPSBmaWx0ZXJcbmZ1bmN0aW9uIGZpbHRlciAocGF0dGVybiwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICByZXR1cm4gZnVuY3Rpb24gKHAsIGksIGxpc3QpIHtcbiAgICByZXR1cm4gbWluaW1hdGNoKHAsIHBhdHRlcm4sIG9wdGlvbnMpXG4gIH1cbn1cblxuZnVuY3Rpb24gZXh0IChhLCBiKSB7XG4gIGEgPSBhIHx8IHt9XG4gIGIgPSBiIHx8IHt9XG4gIHZhciB0ID0ge31cbiAgT2JqZWN0LmtleXMoYikuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgIHRba10gPSBiW2tdXG4gIH0pXG4gIE9iamVjdC5rZXlzKGEpLmZvckVhY2goZnVuY3Rpb24gKGspIHtcbiAgICB0W2tdID0gYVtrXVxuICB9KVxuICByZXR1cm4gdFxufVxuXG5taW5pbWF0Y2guZGVmYXVsdHMgPSBmdW5jdGlvbiAoZGVmKSB7XG4gIGlmICghZGVmIHx8ICFPYmplY3Qua2V5cyhkZWYpLmxlbmd0aCkgcmV0dXJuIG1pbmltYXRjaFxuXG4gIHZhciBvcmlnID0gbWluaW1hdGNoXG5cbiAgdmFyIG0gPSBmdW5jdGlvbiBtaW5pbWF0Y2ggKHAsIHBhdHRlcm4sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3JpZy5taW5pbWF0Y2gocCwgcGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpXG4gIH1cblxuICBtLk1pbmltYXRjaCA9IGZ1bmN0aW9uIE1pbmltYXRjaCAocGF0dGVybiwgb3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgb3JpZy5NaW5pbWF0Y2gocGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpXG4gIH1cblxuICByZXR1cm4gbVxufVxuXG5NaW5pbWF0Y2guZGVmYXVsdHMgPSBmdW5jdGlvbiAoZGVmKSB7XG4gIGlmICghZGVmIHx8ICFPYmplY3Qua2V5cyhkZWYpLmxlbmd0aCkgcmV0dXJuIE1pbmltYXRjaFxuICByZXR1cm4gbWluaW1hdGNoLmRlZmF1bHRzKGRlZikuTWluaW1hdGNoXG59XG5cbmZ1bmN0aW9uIG1pbmltYXRjaCAocCwgcGF0dGVybiwgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIHBhdHRlcm4gIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZ2xvYiBwYXR0ZXJuIHN0cmluZyByZXF1aXJlZCcpXG4gIH1cblxuICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fVxuXG4gIC8vIHNob3J0Y3V0OiBjb21tZW50cyBtYXRjaCBub3RoaW5nLlxuICBpZiAoIW9wdGlvbnMubm9jb21tZW50ICYmIHBhdHRlcm4uY2hhckF0KDApID09PSAnIycpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIFwiXCIgb25seSBtYXRjaGVzIFwiXCJcbiAgaWYgKHBhdHRlcm4udHJpbSgpID09PSAnJykgcmV0dXJuIHAgPT09ICcnXG5cbiAgcmV0dXJuIG5ldyBNaW5pbWF0Y2gocGF0dGVybiwgb3B0aW9ucykubWF0Y2gocClcbn1cblxuZnVuY3Rpb24gTWluaW1hdGNoIChwYXR0ZXJuLCBvcHRpb25zKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBNaW5pbWF0Y2gpKSB7XG4gICAgcmV0dXJuIG5ldyBNaW5pbWF0Y2gocGF0dGVybiwgb3B0aW9ucylcbiAgfVxuXG4gIGlmICh0eXBlb2YgcGF0dGVybiAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdnbG9iIHBhdHRlcm4gc3RyaW5nIHJlcXVpcmVkJylcbiAgfVxuXG4gIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9XG4gIHBhdHRlcm4gPSBwYXR0ZXJuLnRyaW0oKVxuXG4gIC8vIHdpbmRvd3Mgc3VwcG9ydDogbmVlZCB0byB1c2UgLywgbm90IFxcXG4gIGlmIChwYXRoLnNlcCAhPT0gJy8nKSB7XG4gICAgcGF0dGVybiA9IHBhdHRlcm4uc3BsaXQocGF0aC5zZXApLmpvaW4oJy8nKVxuICB9XG5cbiAgdGhpcy5vcHRpb25zID0gb3B0aW9uc1xuICB0aGlzLnNldCA9IFtdXG4gIHRoaXMucGF0dGVybiA9IHBhdHRlcm5cbiAgdGhpcy5yZWdleHAgPSBudWxsXG4gIHRoaXMubmVnYXRlID0gZmFsc2VcbiAgdGhpcy5jb21tZW50ID0gZmFsc2VcbiAgdGhpcy5lbXB0eSA9IGZhbHNlXG5cbiAgLy8gbWFrZSB0aGUgc2V0IG9mIHJlZ2V4cHMgZXRjLlxuICB0aGlzLm1ha2UoKVxufVxuXG5NaW5pbWF0Y2gucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24gKCkge31cblxuTWluaW1hdGNoLnByb3RvdHlwZS5tYWtlID0gbWFrZVxuZnVuY3Rpb24gbWFrZSAoKSB7XG4gIC8vIGRvbid0IGRvIGl0IG1vcmUgdGhhbiBvbmNlLlxuICBpZiAodGhpcy5fbWFkZSkgcmV0dXJuXG5cbiAgdmFyIHBhdHRlcm4gPSB0aGlzLnBhdHRlcm5cbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnNcblxuICAvLyBlbXB0eSBwYXR0ZXJucyBhbmQgY29tbWVudHMgbWF0Y2ggbm90aGluZy5cbiAgaWYgKCFvcHRpb25zLm5vY29tbWVudCAmJiBwYXR0ZXJuLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgdGhpcy5jb21tZW50ID0gdHJ1ZVxuICAgIHJldHVyblxuICB9XG4gIGlmICghcGF0dGVybikge1xuICAgIHRoaXMuZW1wdHkgPSB0cnVlXG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBzdGVwIDE6IGZpZ3VyZSBvdXQgbmVnYXRpb24sIGV0Yy5cbiAgdGhpcy5wYXJzZU5lZ2F0ZSgpXG5cbiAgLy8gc3RlcCAyOiBleHBhbmQgYnJhY2VzXG4gIHZhciBzZXQgPSB0aGlzLmdsb2JTZXQgPSB0aGlzLmJyYWNlRXhwYW5kKClcblxuICBpZiAob3B0aW9ucy5kZWJ1ZykgdGhpcy5kZWJ1ZyA9IGNvbnNvbGUuZXJyb3JcblxuICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgc2V0KVxuXG4gIC8vIHN0ZXAgMzogbm93IHdlIGhhdmUgYSBzZXQsIHNvIHR1cm4gZWFjaCBvbmUgaW50byBhIHNlcmllcyBvZiBwYXRoLXBvcnRpb25cbiAgLy8gbWF0Y2hpbmcgcGF0dGVybnMuXG4gIC8vIFRoZXNlIHdpbGwgYmUgcmVnZXhwcywgZXhjZXB0IGluIHRoZSBjYXNlIG9mIFwiKipcIiwgd2hpY2ggaXNcbiAgLy8gc2V0IHRvIHRoZSBHTE9CU1RBUiBvYmplY3QgZm9yIGdsb2JzdGFyIGJlaGF2aW9yLFxuICAvLyBhbmQgd2lsbCBub3QgY29udGFpbiBhbnkgLyBjaGFyYWN0ZXJzXG4gIHNldCA9IHRoaXMuZ2xvYlBhcnRzID0gc2V0Lm1hcChmdW5jdGlvbiAocykge1xuICAgIHJldHVybiBzLnNwbGl0KHNsYXNoU3BsaXQpXG4gIH0pXG5cbiAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sIHNldClcblxuICAvLyBnbG9iIC0tPiByZWdleHBzXG4gIHNldCA9IHNldC5tYXAoZnVuY3Rpb24gKHMsIHNpLCBzZXQpIHtcbiAgICByZXR1cm4gcy5tYXAodGhpcy5wYXJzZSwgdGhpcylcbiAgfSwgdGhpcylcblxuICB0aGlzLmRlYnVnKHRoaXMucGF0dGVybiwgc2V0KVxuXG4gIC8vIGZpbHRlciBvdXQgZXZlcnl0aGluZyB0aGF0IGRpZG4ndCBjb21waWxlIHByb3Blcmx5LlxuICBzZXQgPSBzZXQuZmlsdGVyKGZ1bmN0aW9uIChzKSB7XG4gICAgcmV0dXJuIHMuaW5kZXhPZihmYWxzZSkgPT09IC0xXG4gIH0pXG5cbiAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sIHNldClcblxuICB0aGlzLnNldCA9IHNldFxufVxuXG5NaW5pbWF0Y2gucHJvdG90eXBlLnBhcnNlTmVnYXRlID0gcGFyc2VOZWdhdGVcbmZ1bmN0aW9uIHBhcnNlTmVnYXRlICgpIHtcbiAgdmFyIHBhdHRlcm4gPSB0aGlzLnBhdHRlcm5cbiAgdmFyIG5lZ2F0ZSA9IGZhbHNlXG4gIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zXG4gIHZhciBuZWdhdGVPZmZzZXQgPSAwXG5cbiAgaWYgKG9wdGlvbnMubm9uZWdhdGUpIHJldHVyblxuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gcGF0dGVybi5sZW5ndGhcbiAgICA7IGkgPCBsICYmIHBhdHRlcm4uY2hhckF0KGkpID09PSAnISdcbiAgICA7IGkrKykge1xuICAgIG5lZ2F0ZSA9ICFuZWdhdGVcbiAgICBuZWdhdGVPZmZzZXQrK1xuICB9XG5cbiAgaWYgKG5lZ2F0ZU9mZnNldCkgdGhpcy5wYXR0ZXJuID0gcGF0dGVybi5zdWJzdHIobmVnYXRlT2Zmc2V0KVxuICB0aGlzLm5lZ2F0ZSA9IG5lZ2F0ZVxufVxuXG4vLyBCcmFjZSBleHBhbnNpb246XG4vLyBhe2IsY31kIC0+IGFiZCBhY2Rcbi8vIGF7Yix9YyAtPiBhYmMgYWNcbi8vIGF7MC4uM31kIC0+IGEwZCBhMWQgYTJkIGEzZFxuLy8gYXtiLGN7ZCxlfWZ9ZyAtPiBhYmcgYWNkZmcgYWNlZmdcbi8vIGF7YixjfWR7ZSxmfWcgLT4gYWJkZWcgYWNkZWcgYWJkZWcgYWJkZmdcbi8vXG4vLyBJbnZhbGlkIHNldHMgYXJlIG5vdCBleHBhbmRlZC5cbi8vIGF7Mi4ufWIgLT4gYXsyLi59YlxuLy8gYXtifWMgLT4gYXtifWNcbm1pbmltYXRjaC5icmFjZUV4cGFuZCA9IGZ1bmN0aW9uIChwYXR0ZXJuLCBvcHRpb25zKSB7XG4gIHJldHVybiBicmFjZUV4cGFuZChwYXR0ZXJuLCBvcHRpb25zKVxufVxuXG5NaW5pbWF0Y2gucHJvdG90eXBlLmJyYWNlRXhwYW5kID0gYnJhY2VFeHBhbmRcblxuZnVuY3Rpb24gYnJhY2VFeHBhbmQgKHBhdHRlcm4sIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBNaW5pbWF0Y2gpIHtcbiAgICAgIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnNcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IHt9XG4gICAgfVxuICB9XG5cbiAgcGF0dGVybiA9IHR5cGVvZiBwYXR0ZXJuID09PSAndW5kZWZpbmVkJ1xuICAgID8gdGhpcy5wYXR0ZXJuIDogcGF0dGVyblxuXG4gIGlmICh0eXBlb2YgcGF0dGVybiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd1bmRlZmluZWQgcGF0dGVybicpXG4gIH1cblxuICBpZiAob3B0aW9ucy5ub2JyYWNlIHx8XG4gICAgIXBhdHRlcm4ubWF0Y2goL1xcey4qXFx9LykpIHtcbiAgICAvLyBzaG9ydGN1dC4gbm8gbmVlZCB0byBleHBhbmQuXG4gICAgcmV0dXJuIFtwYXR0ZXJuXVxuICB9XG5cbiAgcmV0dXJuIGV4cGFuZChwYXR0ZXJuKVxufVxuXG4vLyBwYXJzZSBhIGNvbXBvbmVudCBvZiB0aGUgZXhwYW5kZWQgc2V0LlxuLy8gQXQgdGhpcyBwb2ludCwgbm8gcGF0dGVybiBtYXkgY29udGFpbiBcIi9cIiBpbiBpdFxuLy8gc28gd2UncmUgZ29pbmcgdG8gcmV0dXJuIGEgMmQgYXJyYXksIHdoZXJlIGVhY2ggZW50cnkgaXMgdGhlIGZ1bGxcbi8vIHBhdHRlcm4sIHNwbGl0IG9uICcvJywgYW5kIHRoZW4gdHVybmVkIGludG8gYSByZWd1bGFyIGV4cHJlc3Npb24uXG4vLyBBIHJlZ2V4cCBpcyBtYWRlIGF0IHRoZSBlbmQgd2hpY2ggam9pbnMgZWFjaCBhcnJheSB3aXRoIGFuXG4vLyBlc2NhcGVkIC8sIGFuZCBhbm90aGVyIGZ1bGwgb25lIHdoaWNoIGpvaW5zIGVhY2ggcmVnZXhwIHdpdGggfC5cbi8vXG4vLyBGb2xsb3dpbmcgdGhlIGxlYWQgb2YgQmFzaCA0LjEsIG5vdGUgdGhhdCBcIioqXCIgb25seSBoYXMgc3BlY2lhbCBtZWFuaW5nXG4vLyB3aGVuIGl0IGlzIHRoZSAqb25seSogdGhpbmcgaW4gYSBwYXRoIHBvcnRpb24uICBPdGhlcndpc2UsIGFueSBzZXJpZXNcbi8vIG9mICogaXMgZXF1aXZhbGVudCB0byBhIHNpbmdsZSAqLiAgR2xvYnN0YXIgYmVoYXZpb3IgaXMgZW5hYmxlZCBieVxuLy8gZGVmYXVsdCwgYW5kIGNhbiBiZSBkaXNhYmxlZCBieSBzZXR0aW5nIG9wdGlvbnMubm9nbG9ic3Rhci5cbk1pbmltYXRjaC5wcm90b3R5cGUucGFyc2UgPSBwYXJzZVxudmFyIFNVQlBBUlNFID0ge31cbmZ1bmN0aW9uIHBhcnNlIChwYXR0ZXJuLCBpc1N1Yikge1xuICBpZiAocGF0dGVybi5sZW5ndGggPiAxMDI0ICogNjQpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdwYXR0ZXJuIGlzIHRvbyBsb25nJylcbiAgfVxuXG4gIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zXG5cbiAgLy8gc2hvcnRjdXRzXG4gIGlmICghb3B0aW9ucy5ub2dsb2JzdGFyICYmIHBhdHRlcm4gPT09ICcqKicpIHJldHVybiBHTE9CU1RBUlxuICBpZiAocGF0dGVybiA9PT0gJycpIHJldHVybiAnJ1xuXG4gIHZhciByZSA9ICcnXG4gIHZhciBoYXNNYWdpYyA9ICEhb3B0aW9ucy5ub2Nhc2VcbiAgdmFyIGVzY2FwaW5nID0gZmFsc2VcbiAgLy8gPyA9PiBvbmUgc2luZ2xlIGNoYXJhY3RlclxuICB2YXIgcGF0dGVybkxpc3RTdGFjayA9IFtdXG4gIHZhciBuZWdhdGl2ZUxpc3RzID0gW11cbiAgdmFyIHN0YXRlQ2hhclxuICB2YXIgaW5DbGFzcyA9IGZhbHNlXG4gIHZhciByZUNsYXNzU3RhcnQgPSAtMVxuICB2YXIgY2xhc3NTdGFydCA9IC0xXG4gIC8vIC4gYW5kIC4uIG5ldmVyIG1hdGNoIGFueXRoaW5nIHRoYXQgZG9lc24ndCBzdGFydCB3aXRoIC4sXG4gIC8vIGV2ZW4gd2hlbiBvcHRpb25zLmRvdCBpcyBzZXQuXG4gIHZhciBwYXR0ZXJuU3RhcnQgPSBwYXR0ZXJuLmNoYXJBdCgwKSA9PT0gJy4nID8gJycgLy8gYW55dGhpbmdcbiAgLy8gbm90IChzdGFydCBvciAvIGZvbGxvd2VkIGJ5IC4gb3IgLi4gZm9sbG93ZWQgYnkgLyBvciBlbmQpXG4gIDogb3B0aW9ucy5kb3QgPyAnKD8hKD86XnxcXFxcXFwvKVxcXFwuezEsMn0oPzokfFxcXFxcXC8pKSdcbiAgOiAnKD8hXFxcXC4pJ1xuICB2YXIgc2VsZiA9IHRoaXNcblxuICBmdW5jdGlvbiBjbGVhclN0YXRlQ2hhciAoKSB7XG4gICAgaWYgKHN0YXRlQ2hhcikge1xuICAgICAgLy8gd2UgaGFkIHNvbWUgc3RhdGUtdHJhY2tpbmcgY2hhcmFjdGVyXG4gICAgICAvLyB0aGF0IHdhc24ndCBjb25zdW1lZCBieSB0aGlzIHBhc3MuXG4gICAgICBzd2l0Y2ggKHN0YXRlQ2hhcikge1xuICAgICAgICBjYXNlICcqJzpcbiAgICAgICAgICByZSArPSBzdGFyXG4gICAgICAgICAgaGFzTWFnaWMgPSB0cnVlXG4gICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJz8nOlxuICAgICAgICAgIHJlICs9IHFtYXJrXG4gICAgICAgICAgaGFzTWFnaWMgPSB0cnVlXG4gICAgICAgIGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmUgKz0gJ1xcXFwnICsgc3RhdGVDaGFyXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBzZWxmLmRlYnVnKCdjbGVhclN0YXRlQ2hhciAlaiAlaicsIHN0YXRlQ2hhciwgcmUpXG4gICAgICBzdGF0ZUNoYXIgPSBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwYXR0ZXJuLmxlbmd0aCwgY1xuICAgIDsgKGkgPCBsZW4pICYmIChjID0gcGF0dGVybi5jaGFyQXQoaSkpXG4gICAgOyBpKyspIHtcbiAgICB0aGlzLmRlYnVnKCclc1xcdCVzICVzICVqJywgcGF0dGVybiwgaSwgcmUsIGMpXG5cbiAgICAvLyBza2lwIG92ZXIgYW55IHRoYXQgYXJlIGVzY2FwZWQuXG4gICAgaWYgKGVzY2FwaW5nICYmIHJlU3BlY2lhbHNbY10pIHtcbiAgICAgIHJlICs9ICdcXFxcJyArIGNcbiAgICAgIGVzY2FwaW5nID0gZmFsc2VcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuXG4gICAgc3dpdGNoIChjKSB7XG4gICAgICBjYXNlICcvJzpcbiAgICAgICAgLy8gY29tcGxldGVseSBub3QgYWxsb3dlZCwgZXZlbiBlc2NhcGVkLlxuICAgICAgICAvLyBTaG91bGQgYWxyZWFkeSBiZSBwYXRoLXNwbGl0IGJ5IG5vdy5cbiAgICAgICAgcmV0dXJuIGZhbHNlXG5cbiAgICAgIGNhc2UgJ1xcXFwnOlxuICAgICAgICBjbGVhclN0YXRlQ2hhcigpXG4gICAgICAgIGVzY2FwaW5nID0gdHJ1ZVxuICAgICAgY29udGludWVcblxuICAgICAgLy8gdGhlIHZhcmlvdXMgc3RhdGVDaGFyIHZhbHVlc1xuICAgICAgLy8gZm9yIHRoZSBcImV4dGdsb2JcIiBzdHVmZi5cbiAgICAgIGNhc2UgJz8nOlxuICAgICAgY2FzZSAnKic6XG4gICAgICBjYXNlICcrJzpcbiAgICAgIGNhc2UgJ0AnOlxuICAgICAgY2FzZSAnISc6XG4gICAgICAgIHRoaXMuZGVidWcoJyVzXFx0JXMgJXMgJWogPC0tIHN0YXRlQ2hhcicsIHBhdHRlcm4sIGksIHJlLCBjKVxuXG4gICAgICAgIC8vIGFsbCBvZiB0aG9zZSBhcmUgbGl0ZXJhbHMgaW5zaWRlIGEgY2xhc3MsIGV4Y2VwdCB0aGF0XG4gICAgICAgIC8vIHRoZSBnbG9iIFshYV0gbWVhbnMgW15hXSBpbiByZWdleHBcbiAgICAgICAgaWYgKGluQ2xhc3MpIHtcbiAgICAgICAgICB0aGlzLmRlYnVnKCcgIGluIGNsYXNzJylcbiAgICAgICAgICBpZiAoYyA9PT0gJyEnICYmIGkgPT09IGNsYXNzU3RhcnQgKyAxKSBjID0gJ14nXG4gICAgICAgICAgcmUgKz0gY1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB3ZSBhbHJlYWR5IGhhdmUgYSBzdGF0ZUNoYXIsIHRoZW4gaXQgbWVhbnNcbiAgICAgICAgLy8gdGhhdCB0aGVyZSB3YXMgc29tZXRoaW5nIGxpa2UgKiogb3IgKz8gaW4gdGhlcmUuXG4gICAgICAgIC8vIEhhbmRsZSB0aGUgc3RhdGVDaGFyLCB0aGVuIHByb2NlZWQgd2l0aCB0aGlzIG9uZS5cbiAgICAgICAgc2VsZi5kZWJ1ZygnY2FsbCBjbGVhclN0YXRlQ2hhciAlaicsIHN0YXRlQ2hhcilcbiAgICAgICAgY2xlYXJTdGF0ZUNoYXIoKVxuICAgICAgICBzdGF0ZUNoYXIgPSBjXG4gICAgICAgIC8vIGlmIGV4dGdsb2IgaXMgZGlzYWJsZWQsIHRoZW4gKyhhc2RmfGZvbykgaXNuJ3QgYSB0aGluZy5cbiAgICAgICAgLy8ganVzdCBjbGVhciB0aGUgc3RhdGVjaGFyICpub3cqLCByYXRoZXIgdGhhbiBldmVuIGRpdmluZyBpbnRvXG4gICAgICAgIC8vIHRoZSBwYXR0ZXJuTGlzdCBzdHVmZi5cbiAgICAgICAgaWYgKG9wdGlvbnMubm9leHQpIGNsZWFyU3RhdGVDaGFyKClcbiAgICAgIGNvbnRpbnVlXG5cbiAgICAgIGNhc2UgJygnOlxuICAgICAgICBpZiAoaW5DbGFzcykge1xuICAgICAgICAgIHJlICs9ICcoJ1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN0YXRlQ2hhcikge1xuICAgICAgICAgIHJlICs9ICdcXFxcKCdcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgcGF0dGVybkxpc3RTdGFjay5wdXNoKHtcbiAgICAgICAgICB0eXBlOiBzdGF0ZUNoYXIsXG4gICAgICAgICAgc3RhcnQ6IGkgLSAxLFxuICAgICAgICAgIHJlU3RhcnQ6IHJlLmxlbmd0aCxcbiAgICAgICAgICBvcGVuOiBwbFR5cGVzW3N0YXRlQ2hhcl0ub3BlbixcbiAgICAgICAgICBjbG9zZTogcGxUeXBlc1tzdGF0ZUNoYXJdLmNsb3NlXG4gICAgICAgIH0pXG4gICAgICAgIC8vIG5lZ2F0aW9uIGlzICg/Oig/IWpzKVteL10qKVxuICAgICAgICByZSArPSBzdGF0ZUNoYXIgPT09ICchJyA/ICcoPzooPyEoPzonIDogJyg/OidcbiAgICAgICAgdGhpcy5kZWJ1ZygncGxUeXBlICVqICVqJywgc3RhdGVDaGFyLCByZSlcbiAgICAgICAgc3RhdGVDaGFyID0gZmFsc2VcbiAgICAgIGNvbnRpbnVlXG5cbiAgICAgIGNhc2UgJyknOlxuICAgICAgICBpZiAoaW5DbGFzcyB8fCAhcGF0dGVybkxpc3RTdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICByZSArPSAnXFxcXCknXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFyU3RhdGVDaGFyKClcbiAgICAgICAgaGFzTWFnaWMgPSB0cnVlXG4gICAgICAgIHZhciBwbCA9IHBhdHRlcm5MaXN0U3RhY2sucG9wKClcbiAgICAgICAgLy8gbmVnYXRpb24gaXMgKD86KD8hanMpW14vXSopXG4gICAgICAgIC8vIFRoZSBvdGhlcnMgYXJlICg/OjxwYXR0ZXJuPik8dHlwZT5cbiAgICAgICAgcmUgKz0gcGwuY2xvc2VcbiAgICAgICAgaWYgKHBsLnR5cGUgPT09ICchJykge1xuICAgICAgICAgIG5lZ2F0aXZlTGlzdHMucHVzaChwbClcbiAgICAgICAgfVxuICAgICAgICBwbC5yZUVuZCA9IHJlLmxlbmd0aFxuICAgICAgY29udGludWVcblxuICAgICAgY2FzZSAnfCc6XG4gICAgICAgIGlmIChpbkNsYXNzIHx8ICFwYXR0ZXJuTGlzdFN0YWNrLmxlbmd0aCB8fCBlc2NhcGluZykge1xuICAgICAgICAgIHJlICs9ICdcXFxcfCdcbiAgICAgICAgICBlc2NhcGluZyA9IGZhbHNlXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFyU3RhdGVDaGFyKClcbiAgICAgICAgcmUgKz0gJ3wnXG4gICAgICBjb250aW51ZVxuXG4gICAgICAvLyB0aGVzZSBhcmUgbW9zdGx5IHRoZSBzYW1lIGluIHJlZ2V4cCBhbmQgZ2xvYlxuICAgICAgY2FzZSAnWyc6XG4gICAgICAgIC8vIHN3YWxsb3cgYW55IHN0YXRlLXRyYWNraW5nIGNoYXIgYmVmb3JlIHRoZSBbXG4gICAgICAgIGNsZWFyU3RhdGVDaGFyKClcblxuICAgICAgICBpZiAoaW5DbGFzcykge1xuICAgICAgICAgIHJlICs9ICdcXFxcJyArIGNcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgaW5DbGFzcyA9IHRydWVcbiAgICAgICAgY2xhc3NTdGFydCA9IGlcbiAgICAgICAgcmVDbGFzc1N0YXJ0ID0gcmUubGVuZ3RoXG4gICAgICAgIHJlICs9IGNcbiAgICAgIGNvbnRpbnVlXG5cbiAgICAgIGNhc2UgJ10nOlxuICAgICAgICAvLyAgYSByaWdodCBicmFja2V0IHNoYWxsIGxvc2UgaXRzIHNwZWNpYWxcbiAgICAgICAgLy8gIG1lYW5pbmcgYW5kIHJlcHJlc2VudCBpdHNlbGYgaW5cbiAgICAgICAgLy8gIGEgYnJhY2tldCBleHByZXNzaW9uIGlmIGl0IG9jY3Vyc1xuICAgICAgICAvLyAgZmlyc3QgaW4gdGhlIGxpc3QuICAtLSBQT1NJWC4yIDIuOC4zLjJcbiAgICAgICAgaWYgKGkgPT09IGNsYXNzU3RhcnQgKyAxIHx8ICFpbkNsYXNzKSB7XG4gICAgICAgICAgcmUgKz0gJ1xcXFwnICsgY1xuICAgICAgICAgIGVzY2FwaW5nID0gZmFsc2VcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHdlIGxlZnQgYSBjbGFzcyBvcGVuLlxuICAgICAgICAvLyBcIlt6LWFdXCIgaXMgdmFsaWQsIGVxdWl2YWxlbnQgdG8gXCJcXFt6LWFcXF1cIlxuICAgICAgICBpZiAoaW5DbGFzcykge1xuICAgICAgICAgIC8vIHNwbGl0IHdoZXJlIHRoZSBsYXN0IFsgd2FzLCBtYWtlIHN1cmUgd2UgZG9uJ3QgaGF2ZVxuICAgICAgICAgIC8vIGFuIGludmFsaWQgcmUuIGlmIHNvLCByZS13YWxrIHRoZSBjb250ZW50cyBvZiB0aGVcbiAgICAgICAgICAvLyB3b3VsZC1iZSBjbGFzcyB0byByZS10cmFuc2xhdGUgYW55IGNoYXJhY3RlcnMgdGhhdFxuICAgICAgICAgIC8vIHdlcmUgcGFzc2VkIHRocm91Z2ggYXMtaXNcbiAgICAgICAgICAvLyBUT0RPOiBJdCB3b3VsZCBwcm9iYWJseSBiZSBmYXN0ZXIgdG8gZGV0ZXJtaW5lIHRoaXNcbiAgICAgICAgICAvLyB3aXRob3V0IGEgdHJ5L2NhdGNoIGFuZCBhIG5ldyBSZWdFeHAsIGJ1dCBpdCdzIHRyaWNreVxuICAgICAgICAgIC8vIHRvIGRvIHNhZmVseS4gIEZvciBub3csIHRoaXMgaXMgc2FmZSBhbmQgd29ya3MuXG4gICAgICAgICAgdmFyIGNzID0gcGF0dGVybi5zdWJzdHJpbmcoY2xhc3NTdGFydCArIDEsIGkpXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIFJlZ0V4cCgnWycgKyBjcyArICddJylcbiAgICAgICAgICB9IGNhdGNoIChlcikge1xuICAgICAgICAgICAgLy8gbm90IGEgdmFsaWQgY2xhc3MhXG4gICAgICAgICAgICB2YXIgc3AgPSB0aGlzLnBhcnNlKGNzLCBTVUJQQVJTRSlcbiAgICAgICAgICAgIHJlID0gcmUuc3Vic3RyKDAsIHJlQ2xhc3NTdGFydCkgKyAnXFxcXFsnICsgc3BbMF0gKyAnXFxcXF0nXG4gICAgICAgICAgICBoYXNNYWdpYyA9IGhhc01hZ2ljIHx8IHNwWzFdXG4gICAgICAgICAgICBpbkNsYXNzID0gZmFsc2VcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmluaXNoIHVwIHRoZSBjbGFzcy5cbiAgICAgICAgaGFzTWFnaWMgPSB0cnVlXG4gICAgICAgIGluQ2xhc3MgPSBmYWxzZVxuICAgICAgICByZSArPSBjXG4gICAgICBjb250aW51ZVxuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBzd2FsbG93IGFueSBzdGF0ZSBjaGFyIHRoYXQgd2Fzbid0IGNvbnN1bWVkXG4gICAgICAgIGNsZWFyU3RhdGVDaGFyKClcblxuICAgICAgICBpZiAoZXNjYXBpbmcpIHtcbiAgICAgICAgICAvLyBubyBuZWVkXG4gICAgICAgICAgZXNjYXBpbmcgPSBmYWxzZVxuICAgICAgICB9IGVsc2UgaWYgKHJlU3BlY2lhbHNbY11cbiAgICAgICAgICAmJiAhKGMgPT09ICdeJyAmJiBpbkNsYXNzKSkge1xuICAgICAgICAgIHJlICs9ICdcXFxcJ1xuICAgICAgICB9XG5cbiAgICAgICAgcmUgKz0gY1xuXG4gICAgfSAvLyBzd2l0Y2hcbiAgfSAvLyBmb3JcblxuICAvLyBoYW5kbGUgdGhlIGNhc2Ugd2hlcmUgd2UgbGVmdCBhIGNsYXNzIG9wZW4uXG4gIC8vIFwiW2FiY1wiIGlzIHZhbGlkLCBlcXVpdmFsZW50IHRvIFwiXFxbYWJjXCJcbiAgaWYgKGluQ2xhc3MpIHtcbiAgICAvLyBzcGxpdCB3aGVyZSB0aGUgbGFzdCBbIHdhcywgYW5kIGVzY2FwZSBpdFxuICAgIC8vIHRoaXMgaXMgYSBodWdlIHBpdGEuICBXZSBub3cgaGF2ZSB0byByZS13YWxrXG4gICAgLy8gdGhlIGNvbnRlbnRzIG9mIHRoZSB3b3VsZC1iZSBjbGFzcyB0byByZS10cmFuc2xhdGVcbiAgICAvLyBhbnkgY2hhcmFjdGVycyB0aGF0IHdlcmUgcGFzc2VkIHRocm91Z2ggYXMtaXNcbiAgICBjcyA9IHBhdHRlcm4uc3Vic3RyKGNsYXNzU3RhcnQgKyAxKVxuICAgIHNwID0gdGhpcy5wYXJzZShjcywgU1VCUEFSU0UpXG4gICAgcmUgPSByZS5zdWJzdHIoMCwgcmVDbGFzc1N0YXJ0KSArICdcXFxcWycgKyBzcFswXVxuICAgIGhhc01hZ2ljID0gaGFzTWFnaWMgfHwgc3BbMV1cbiAgfVxuXG4gIC8vIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB3ZSBoYWQgYSArKCB0aGluZyBhdCB0aGUgKmVuZCpcbiAgLy8gb2YgdGhlIHBhdHRlcm4uXG4gIC8vIGVhY2ggcGF0dGVybiBsaXN0IHN0YWNrIGFkZHMgMyBjaGFycywgYW5kIHdlIG5lZWQgdG8gZ28gdGhyb3VnaFxuICAvLyBhbmQgZXNjYXBlIGFueSB8IGNoYXJzIHRoYXQgd2VyZSBwYXNzZWQgdGhyb3VnaCBhcy1pcyBmb3IgdGhlIHJlZ2V4cC5cbiAgLy8gR28gdGhyb3VnaCBhbmQgZXNjYXBlIHRoZW0sIHRha2luZyBjYXJlIG5vdCB0byBkb3VibGUtZXNjYXBlIGFueVxuICAvLyB8IGNoYXJzIHRoYXQgd2VyZSBhbHJlYWR5IGVzY2FwZWQuXG4gIGZvciAocGwgPSBwYXR0ZXJuTGlzdFN0YWNrLnBvcCgpOyBwbDsgcGwgPSBwYXR0ZXJuTGlzdFN0YWNrLnBvcCgpKSB7XG4gICAgdmFyIHRhaWwgPSByZS5zbGljZShwbC5yZVN0YXJ0ICsgcGwub3Blbi5sZW5ndGgpXG4gICAgdGhpcy5kZWJ1Zygnc2V0dGluZyB0YWlsJywgcmUsIHBsKVxuICAgIC8vIG1heWJlIHNvbWUgZXZlbiBudW1iZXIgb2YgXFwsIHRoZW4gbWF5YmUgMSBcXCwgZm9sbG93ZWQgYnkgYSB8XG4gICAgdGFpbCA9IHRhaWwucmVwbGFjZSgvKCg/OlxcXFx7Mn0pezAsNjR9KShcXFxcPylcXHwvZywgZnVuY3Rpb24gKF8sICQxLCAkMikge1xuICAgICAgaWYgKCEkMikge1xuICAgICAgICAvLyB0aGUgfCBpc24ndCBhbHJlYWR5IGVzY2FwZWQsIHNvIGVzY2FwZSBpdC5cbiAgICAgICAgJDIgPSAnXFxcXCdcbiAgICAgIH1cblxuICAgICAgLy8gbmVlZCB0byBlc2NhcGUgYWxsIHRob3NlIHNsYXNoZXMgKmFnYWluKiwgd2l0aG91dCBlc2NhcGluZyB0aGVcbiAgICAgIC8vIG9uZSB0aGF0IHdlIG5lZWQgZm9yIGVzY2FwaW5nIHRoZSB8IGNoYXJhY3Rlci4gIEFzIGl0IHdvcmtzIG91dCxcbiAgICAgIC8vIGVzY2FwaW5nIGFuIGV2ZW4gbnVtYmVyIG9mIHNsYXNoZXMgY2FuIGJlIGRvbmUgYnkgc2ltcGx5IHJlcGVhdGluZ1xuICAgICAgLy8gaXQgZXhhY3RseSBhZnRlciBpdHNlbGYuICBUaGF0J3Mgd2h5IHRoaXMgdHJpY2sgd29ya3MuXG4gICAgICAvL1xuICAgICAgLy8gSSBhbSBzb3JyeSB0aGF0IHlvdSBoYXZlIHRvIHNlZSB0aGlzLlxuICAgICAgcmV0dXJuICQxICsgJDEgKyAkMiArICd8J1xuICAgIH0pXG5cbiAgICB0aGlzLmRlYnVnKCd0YWlsPSVqXFxuICAgJXMnLCB0YWlsLCB0YWlsLCBwbCwgcmUpXG4gICAgdmFyIHQgPSBwbC50eXBlID09PSAnKicgPyBzdGFyXG4gICAgICA6IHBsLnR5cGUgPT09ICc/JyA/IHFtYXJrXG4gICAgICA6ICdcXFxcJyArIHBsLnR5cGVcblxuICAgIGhhc01hZ2ljID0gdHJ1ZVxuICAgIHJlID0gcmUuc2xpY2UoMCwgcGwucmVTdGFydCkgKyB0ICsgJ1xcXFwoJyArIHRhaWxcbiAgfVxuXG4gIC8vIGhhbmRsZSB0cmFpbGluZyB0aGluZ3MgdGhhdCBvbmx5IG1hdHRlciBhdCB0aGUgdmVyeSBlbmQuXG4gIGNsZWFyU3RhdGVDaGFyKClcbiAgaWYgKGVzY2FwaW5nKSB7XG4gICAgLy8gdHJhaWxpbmcgXFxcXFxuICAgIHJlICs9ICdcXFxcXFxcXCdcbiAgfVxuXG4gIC8vIG9ubHkgbmVlZCB0byBhcHBseSB0aGUgbm9kb3Qgc3RhcnQgaWYgdGhlIHJlIHN0YXJ0cyB3aXRoXG4gIC8vIHNvbWV0aGluZyB0aGF0IGNvdWxkIGNvbmNlaXZhYmx5IGNhcHR1cmUgYSBkb3RcbiAgdmFyIGFkZFBhdHRlcm5TdGFydCA9IGZhbHNlXG4gIHN3aXRjaCAocmUuY2hhckF0KDApKSB7XG4gICAgY2FzZSAnLic6XG4gICAgY2FzZSAnWyc6XG4gICAgY2FzZSAnKCc6IGFkZFBhdHRlcm5TdGFydCA9IHRydWVcbiAgfVxuXG4gIC8vIEhhY2sgdG8gd29yayBhcm91bmQgbGFjayBvZiBuZWdhdGl2ZSBsb29rYmVoaW5kIGluIEpTXG4gIC8vIEEgcGF0dGVybiBsaWtlOiAqLiEoeCkuISh5fHopIG5lZWRzIHRvIGVuc3VyZSB0aGF0IGEgbmFtZVxuICAvLyBsaWtlICdhLnh5ei55eicgZG9lc24ndCBtYXRjaC4gIFNvLCB0aGUgZmlyc3QgbmVnYXRpdmVcbiAgLy8gbG9va2FoZWFkLCBoYXMgdG8gbG9vayBBTEwgdGhlIHdheSBhaGVhZCwgdG8gdGhlIGVuZCBvZlxuICAvLyB0aGUgcGF0dGVybi5cbiAgZm9yICh2YXIgbiA9IG5lZ2F0aXZlTGlzdHMubGVuZ3RoIC0gMTsgbiA+IC0xOyBuLS0pIHtcbiAgICB2YXIgbmwgPSBuZWdhdGl2ZUxpc3RzW25dXG5cbiAgICB2YXIgbmxCZWZvcmUgPSByZS5zbGljZSgwLCBubC5yZVN0YXJ0KVxuICAgIHZhciBubEZpcnN0ID0gcmUuc2xpY2UobmwucmVTdGFydCwgbmwucmVFbmQgLSA4KVxuICAgIHZhciBubExhc3QgPSByZS5zbGljZShubC5yZUVuZCAtIDgsIG5sLnJlRW5kKVxuICAgIHZhciBubEFmdGVyID0gcmUuc2xpY2UobmwucmVFbmQpXG5cbiAgICBubExhc3QgKz0gbmxBZnRlclxuXG4gICAgLy8gSGFuZGxlIG5lc3RlZCBzdHVmZiBsaWtlICooKi5qc3whKCouanNvbikpLCB3aGVyZSBvcGVuIHBhcmVuc1xuICAgIC8vIG1lYW4gdGhhdCB3ZSBzaG91bGQgKm5vdCogaW5jbHVkZSB0aGUgKSBpbiB0aGUgYml0IHRoYXQgaXMgY29uc2lkZXJlZFxuICAgIC8vIFwiYWZ0ZXJcIiB0aGUgbmVnYXRlZCBzZWN0aW9uLlxuICAgIHZhciBvcGVuUGFyZW5zQmVmb3JlID0gbmxCZWZvcmUuc3BsaXQoJygnKS5sZW5ndGggLSAxXG4gICAgdmFyIGNsZWFuQWZ0ZXIgPSBubEFmdGVyXG4gICAgZm9yIChpID0gMDsgaSA8IG9wZW5QYXJlbnNCZWZvcmU7IGkrKykge1xuICAgICAgY2xlYW5BZnRlciA9IGNsZWFuQWZ0ZXIucmVwbGFjZSgvXFwpWysqP10/LywgJycpXG4gICAgfVxuICAgIG5sQWZ0ZXIgPSBjbGVhbkFmdGVyXG5cbiAgICB2YXIgZG9sbGFyID0gJydcbiAgICBpZiAobmxBZnRlciA9PT0gJycgJiYgaXNTdWIgIT09IFNVQlBBUlNFKSB7XG4gICAgICBkb2xsYXIgPSAnJCdcbiAgICB9XG4gICAgdmFyIG5ld1JlID0gbmxCZWZvcmUgKyBubEZpcnN0ICsgbmxBZnRlciArIGRvbGxhciArIG5sTGFzdFxuICAgIHJlID0gbmV3UmVcbiAgfVxuXG4gIC8vIGlmIHRoZSByZSBpcyBub3QgXCJcIiBhdCB0aGlzIHBvaW50LCB0aGVuIHdlIG5lZWQgdG8gbWFrZSBzdXJlXG4gIC8vIGl0IGRvZXNuJ3QgbWF0Y2ggYWdhaW5zdCBhbiBlbXB0eSBwYXRoIHBhcnQuXG4gIC8vIE90aGVyd2lzZSBhLyogd2lsbCBtYXRjaCBhLywgd2hpY2ggaXQgc2hvdWxkIG5vdC5cbiAgaWYgKHJlICE9PSAnJyAmJiBoYXNNYWdpYykge1xuICAgIHJlID0gJyg/PS4pJyArIHJlXG4gIH1cblxuICBpZiAoYWRkUGF0dGVyblN0YXJ0KSB7XG4gICAgcmUgPSBwYXR0ZXJuU3RhcnQgKyByZVxuICB9XG5cbiAgLy8gcGFyc2luZyBqdXN0IGEgcGllY2Ugb2YgYSBsYXJnZXIgcGF0dGVybi5cbiAgaWYgKGlzU3ViID09PSBTVUJQQVJTRSkge1xuICAgIHJldHVybiBbcmUsIGhhc01hZ2ljXVxuICB9XG5cbiAgLy8gc2tpcCB0aGUgcmVnZXhwIGZvciBub24tbWFnaWNhbCBwYXR0ZXJuc1xuICAvLyB1bmVzY2FwZSBhbnl0aGluZyBpbiBpdCwgdGhvdWdoLCBzbyB0aGF0IGl0J2xsIGJlXG4gIC8vIGFuIGV4YWN0IG1hdGNoIGFnYWluc3QgYSBmaWxlIGV0Yy5cbiAgaWYgKCFoYXNNYWdpYykge1xuICAgIHJldHVybiBnbG9iVW5lc2NhcGUocGF0dGVybilcbiAgfVxuXG4gIHZhciBmbGFncyA9IG9wdGlvbnMubm9jYXNlID8gJ2knIDogJydcbiAgdHJ5IHtcbiAgICB2YXIgcmVnRXhwID0gbmV3IFJlZ0V4cCgnXicgKyByZSArICckJywgZmxhZ3MpXG4gIH0gY2F0Y2ggKGVyKSB7XG4gICAgLy8gSWYgaXQgd2FzIGFuIGludmFsaWQgcmVndWxhciBleHByZXNzaW9uLCB0aGVuIGl0IGNhbid0IG1hdGNoXG4gICAgLy8gYW55dGhpbmcuICBUaGlzIHRyaWNrIGxvb2tzIGZvciBhIGNoYXJhY3RlciBhZnRlciB0aGUgZW5kIG9mXG4gICAgLy8gdGhlIHN0cmluZywgd2hpY2ggaXMgb2YgY291cnNlIGltcG9zc2libGUsIGV4Y2VwdCBpbiBtdWx0aS1saW5lXG4gICAgLy8gbW9kZSwgYnV0IGl0J3Mgbm90IGEgL20gcmVnZXguXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoJyQuJylcbiAgfVxuXG4gIHJlZ0V4cC5fZ2xvYiA9IHBhdHRlcm5cbiAgcmVnRXhwLl9zcmMgPSByZVxuXG4gIHJldHVybiByZWdFeHBcbn1cblxubWluaW1hdGNoLm1ha2VSZSA9IGZ1bmN0aW9uIChwYXR0ZXJuLCBvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgTWluaW1hdGNoKHBhdHRlcm4sIG9wdGlvbnMgfHwge30pLm1ha2VSZSgpXG59XG5cbk1pbmltYXRjaC5wcm90b3R5cGUubWFrZVJlID0gbWFrZVJlXG5mdW5jdGlvbiBtYWtlUmUgKCkge1xuICBpZiAodGhpcy5yZWdleHAgfHwgdGhpcy5yZWdleHAgPT09IGZhbHNlKSByZXR1cm4gdGhpcy5yZWdleHBcblxuICAvLyBhdCB0aGlzIHBvaW50LCB0aGlzLnNldCBpcyBhIDJkIGFycmF5IG9mIHBhcnRpYWxcbiAgLy8gcGF0dGVybiBzdHJpbmdzLCBvciBcIioqXCIuXG4gIC8vXG4gIC8vIEl0J3MgYmV0dGVyIHRvIHVzZSAubWF0Y2goKS4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkbid0XG4gIC8vIGJlIHVzZWQsIHJlYWxseSwgYnV0IGl0J3MgcHJldHR5IGNvbnZlbmllbnQgc29tZXRpbWVzLFxuICAvLyB3aGVuIHlvdSBqdXN0IHdhbnQgdG8gd29yayB3aXRoIGEgcmVnZXguXG4gIHZhciBzZXQgPSB0aGlzLnNldFxuXG4gIGlmICghc2V0Lmxlbmd0aCkge1xuICAgIHRoaXMucmVnZXhwID0gZmFsc2VcbiAgICByZXR1cm4gdGhpcy5yZWdleHBcbiAgfVxuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9uc1xuXG4gIHZhciB0d29TdGFyID0gb3B0aW9ucy5ub2dsb2JzdGFyID8gc3RhclxuICAgIDogb3B0aW9ucy5kb3QgPyB0d29TdGFyRG90XG4gICAgOiB0d29TdGFyTm9Eb3RcbiAgdmFyIGZsYWdzID0gb3B0aW9ucy5ub2Nhc2UgPyAnaScgOiAnJ1xuXG4gIHZhciByZSA9IHNldC5tYXAoZnVuY3Rpb24gKHBhdHRlcm4pIHtcbiAgICByZXR1cm4gcGF0dGVybi5tYXAoZnVuY3Rpb24gKHApIHtcbiAgICAgIHJldHVybiAocCA9PT0gR0xPQlNUQVIpID8gdHdvU3RhclxuICAgICAgOiAodHlwZW9mIHAgPT09ICdzdHJpbmcnKSA/IHJlZ0V4cEVzY2FwZShwKVxuICAgICAgOiBwLl9zcmNcbiAgICB9KS5qb2luKCdcXFxcXFwvJylcbiAgfSkuam9pbignfCcpXG5cbiAgLy8gbXVzdCBtYXRjaCBlbnRpcmUgcGF0dGVyblxuICAvLyBlbmRpbmcgaW4gYSAqIG9yICoqIHdpbGwgbWFrZSBpdCBsZXNzIHN0cmljdC5cbiAgcmUgPSAnXig/OicgKyByZSArICcpJCdcblxuICAvLyBjYW4gbWF0Y2ggYW55dGhpbmcsIGFzIGxvbmcgYXMgaXQncyBub3QgdGhpcy5cbiAgaWYgKHRoaXMubmVnYXRlKSByZSA9ICdeKD8hJyArIHJlICsgJykuKiQnXG5cbiAgdHJ5IHtcbiAgICB0aGlzLnJlZ2V4cCA9IG5ldyBSZWdFeHAocmUsIGZsYWdzKVxuICB9IGNhdGNoIChleCkge1xuICAgIHRoaXMucmVnZXhwID0gZmFsc2VcbiAgfVxuICByZXR1cm4gdGhpcy5yZWdleHBcbn1cblxubWluaW1hdGNoLm1hdGNoID0gZnVuY3Rpb24gKGxpc3QsIHBhdHRlcm4sIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgdmFyIG1tID0gbmV3IE1pbmltYXRjaChwYXR0ZXJuLCBvcHRpb25zKVxuICBsaXN0ID0gbGlzdC5maWx0ZXIoZnVuY3Rpb24gKGYpIHtcbiAgICByZXR1cm4gbW0ubWF0Y2goZilcbiAgfSlcbiAgaWYgKG1tLm9wdGlvbnMubm9udWxsICYmICFsaXN0Lmxlbmd0aCkge1xuICAgIGxpc3QucHVzaChwYXR0ZXJuKVxuICB9XG4gIHJldHVybiBsaXN0XG59XG5cbk1pbmltYXRjaC5wcm90b3R5cGUubWF0Y2ggPSBtYXRjaFxuZnVuY3Rpb24gbWF0Y2ggKGYsIHBhcnRpYWwpIHtcbiAgdGhpcy5kZWJ1ZygnbWF0Y2gnLCBmLCB0aGlzLnBhdHRlcm4pXG4gIC8vIHNob3J0LWNpcmN1aXQgaW4gdGhlIGNhc2Ugb2YgYnVzdGVkIHRoaW5ncy5cbiAgLy8gY29tbWVudHMsIGV0Yy5cbiAgaWYgKHRoaXMuY29tbWVudCkgcmV0dXJuIGZhbHNlXG4gIGlmICh0aGlzLmVtcHR5KSByZXR1cm4gZiA9PT0gJydcblxuICBpZiAoZiA9PT0gJy8nICYmIHBhcnRpYWwpIHJldHVybiB0cnVlXG5cbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnNcblxuICAvLyB3aW5kb3dzOiBuZWVkIHRvIHVzZSAvLCBub3QgXFxcbiAgaWYgKHBhdGguc2VwICE9PSAnLycpIHtcbiAgICBmID0gZi5zcGxpdChwYXRoLnNlcCkuam9pbignLycpXG4gIH1cblxuICAvLyB0cmVhdCB0aGUgdGVzdCBwYXRoIGFzIGEgc2V0IG9mIHBhdGhwYXJ0cy5cbiAgZiA9IGYuc3BsaXQoc2xhc2hTcGxpdClcbiAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sICdzcGxpdCcsIGYpXG5cbiAgLy8ganVzdCBPTkUgb2YgdGhlIHBhdHRlcm4gc2V0cyBpbiB0aGlzLnNldCBuZWVkcyB0byBtYXRjaFxuICAvLyBpbiBvcmRlciBmb3IgaXQgdG8gYmUgdmFsaWQuICBJZiBuZWdhdGluZywgdGhlbiBqdXN0IG9uZVxuICAvLyBtYXRjaCBtZWFucyB0aGF0IHdlIGhhdmUgZmFpbGVkLlxuICAvLyBFaXRoZXIgd2F5LCByZXR1cm4gb24gdGhlIGZpcnN0IGhpdC5cblxuICB2YXIgc2V0ID0gdGhpcy5zZXRcbiAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sICdzZXQnLCBzZXQpXG5cbiAgLy8gRmluZCB0aGUgYmFzZW5hbWUgb2YgdGhlIHBhdGggYnkgbG9va2luZyBmb3IgdGhlIGxhc3Qgbm9uLWVtcHR5IHNlZ21lbnRcbiAgdmFyIGZpbGVuYW1lXG4gIHZhciBpXG4gIGZvciAoaSA9IGYubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBmaWxlbmFtZSA9IGZbaV1cbiAgICBpZiAoZmlsZW5hbWUpIGJyZWFrXG4gIH1cblxuICBmb3IgKGkgPSAwOyBpIDwgc2V0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHBhdHRlcm4gPSBzZXRbaV1cbiAgICB2YXIgZmlsZSA9IGZcbiAgICBpZiAob3B0aW9ucy5tYXRjaEJhc2UgJiYgcGF0dGVybi5sZW5ndGggPT09IDEpIHtcbiAgICAgIGZpbGUgPSBbZmlsZW5hbWVdXG4gICAgfVxuICAgIHZhciBoaXQgPSB0aGlzLm1hdGNoT25lKGZpbGUsIHBhdHRlcm4sIHBhcnRpYWwpXG4gICAgaWYgKGhpdCkge1xuICAgICAgaWYgKG9wdGlvbnMuZmxpcE5lZ2F0ZSkgcmV0dXJuIHRydWVcbiAgICAgIHJldHVybiAhdGhpcy5uZWdhdGVcbiAgICB9XG4gIH1cblxuICAvLyBkaWRuJ3QgZ2V0IGFueSBoaXRzLiAgdGhpcyBpcyBzdWNjZXNzIGlmIGl0J3MgYSBuZWdhdGl2ZVxuICAvLyBwYXR0ZXJuLCBmYWlsdXJlIG90aGVyd2lzZS5cbiAgaWYgKG9wdGlvbnMuZmxpcE5lZ2F0ZSkgcmV0dXJuIGZhbHNlXG4gIHJldHVybiB0aGlzLm5lZ2F0ZVxufVxuXG4vLyBzZXQgcGFydGlhbCB0byB0cnVlIHRvIHRlc3QgaWYsIGZvciBleGFtcGxlLFxuLy8gXCIvYS9iXCIgbWF0Y2hlcyB0aGUgc3RhcnQgb2YgXCIvKi9iLyovZFwiXG4vLyBQYXJ0aWFsIG1lYW5zLCBpZiB5b3UgcnVuIG91dCBvZiBmaWxlIGJlZm9yZSB5b3UgcnVuXG4vLyBvdXQgb2YgcGF0dGVybiwgdGhlbiB0aGF0J3MgZmluZSwgYXMgbG9uZyBhcyBhbGxcbi8vIHRoZSBwYXJ0cyBtYXRjaC5cbk1pbmltYXRjaC5wcm90b3R5cGUubWF0Y2hPbmUgPSBmdW5jdGlvbiAoZmlsZSwgcGF0dGVybiwgcGFydGlhbCkge1xuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9uc1xuXG4gIHRoaXMuZGVidWcoJ21hdGNoT25lJyxcbiAgICB7ICd0aGlzJzogdGhpcywgZmlsZTogZmlsZSwgcGF0dGVybjogcGF0dGVybiB9KVxuXG4gIHRoaXMuZGVidWcoJ21hdGNoT25lJywgZmlsZS5sZW5ndGgsIHBhdHRlcm4ubGVuZ3RoKVxuXG4gIGZvciAodmFyIGZpID0gMCxcbiAgICAgIHBpID0gMCxcbiAgICAgIGZsID0gZmlsZS5sZW5ndGgsXG4gICAgICBwbCA9IHBhdHRlcm4ubGVuZ3RoXG4gICAgICA7IChmaSA8IGZsKSAmJiAocGkgPCBwbClcbiAgICAgIDsgZmkrKywgcGkrKykge1xuICAgIHRoaXMuZGVidWcoJ21hdGNoT25lIGxvb3AnKVxuICAgIHZhciBwID0gcGF0dGVybltwaV1cbiAgICB2YXIgZiA9IGZpbGVbZmldXG5cbiAgICB0aGlzLmRlYnVnKHBhdHRlcm4sIHAsIGYpXG5cbiAgICAvLyBzaG91bGQgYmUgaW1wb3NzaWJsZS5cbiAgICAvLyBzb21lIGludmFsaWQgcmVnZXhwIHN0dWZmIGluIHRoZSBzZXQuXG4gICAgaWYgKHAgPT09IGZhbHNlKSByZXR1cm4gZmFsc2VcblxuICAgIGlmIChwID09PSBHTE9CU1RBUikge1xuICAgICAgdGhpcy5kZWJ1ZygnR0xPQlNUQVInLCBbcGF0dGVybiwgcCwgZl0pXG5cbiAgICAgIC8vIFwiKipcIlxuICAgICAgLy8gYS8qKi9iLyoqL2Mgd291bGQgbWF0Y2ggdGhlIGZvbGxvd2luZzpcbiAgICAgIC8vIGEvYi94L3kvei9jXG4gICAgICAvLyBhL3gveS96L2IvY1xuICAgICAgLy8gYS9iL3gvYi94L2NcbiAgICAgIC8vIGEvYi9jXG4gICAgICAvLyBUbyBkbyB0aGlzLCB0YWtlIHRoZSByZXN0IG9mIHRoZSBwYXR0ZXJuIGFmdGVyXG4gICAgICAvLyB0aGUgKiosIGFuZCBzZWUgaWYgaXQgd291bGQgbWF0Y2ggdGhlIGZpbGUgcmVtYWluZGVyLlxuICAgICAgLy8gSWYgc28sIHJldHVybiBzdWNjZXNzLlxuICAgICAgLy8gSWYgbm90LCB0aGUgKiogXCJzd2FsbG93c1wiIGEgc2VnbWVudCwgYW5kIHRyeSBhZ2Fpbi5cbiAgICAgIC8vIFRoaXMgaXMgcmVjdXJzaXZlbHkgYXdmdWwuXG4gICAgICAvL1xuICAgICAgLy8gYS8qKi9iLyoqL2MgbWF0Y2hpbmcgYS9iL3gveS96L2NcbiAgICAgIC8vIC0gYSBtYXRjaGVzIGFcbiAgICAgIC8vIC0gZG91Ymxlc3RhclxuICAgICAgLy8gICAtIG1hdGNoT25lKGIveC95L3ovYywgYi8qKi9jKVxuICAgICAgLy8gICAgIC0gYiBtYXRjaGVzIGJcbiAgICAgIC8vICAgICAtIGRvdWJsZXN0YXJcbiAgICAgIC8vICAgICAgIC0gbWF0Y2hPbmUoeC95L3ovYywgYykgLT4gbm9cbiAgICAgIC8vICAgICAgIC0gbWF0Y2hPbmUoeS96L2MsIGMpIC0+IG5vXG4gICAgICAvLyAgICAgICAtIG1hdGNoT25lKHovYywgYykgLT4gbm9cbiAgICAgIC8vICAgICAgIC0gbWF0Y2hPbmUoYywgYykgeWVzLCBoaXRcbiAgICAgIHZhciBmciA9IGZpXG4gICAgICB2YXIgcHIgPSBwaSArIDFcbiAgICAgIGlmIChwciA9PT0gcGwpIHtcbiAgICAgICAgdGhpcy5kZWJ1ZygnKiogYXQgdGhlIGVuZCcpXG4gICAgICAgIC8vIGEgKiogYXQgdGhlIGVuZCB3aWxsIGp1c3Qgc3dhbGxvdyB0aGUgcmVzdC5cbiAgICAgICAgLy8gV2UgaGF2ZSBmb3VuZCBhIG1hdGNoLlxuICAgICAgICAvLyBob3dldmVyLCBpdCB3aWxsIG5vdCBzd2FsbG93IC8ueCwgdW5sZXNzXG4gICAgICAgIC8vIG9wdGlvbnMuZG90IGlzIHNldC5cbiAgICAgICAgLy8gLiBhbmQgLi4gYXJlICpuZXZlciogbWF0Y2hlZCBieSAqKiwgZm9yIGV4cGxvc2l2ZWx5XG4gICAgICAgIC8vIGV4cG9uZW50aWFsIHJlYXNvbnMuXG4gICAgICAgIGZvciAoOyBmaSA8IGZsOyBmaSsrKSB7XG4gICAgICAgICAgaWYgKGZpbGVbZmldID09PSAnLicgfHwgZmlsZVtmaV0gPT09ICcuLicgfHxcbiAgICAgICAgICAgICghb3B0aW9ucy5kb3QgJiYgZmlsZVtmaV0uY2hhckF0KDApID09PSAnLicpKSByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICAvLyBvaywgbGV0J3Mgc2VlIGlmIHdlIGNhbiBzd2FsbG93IHdoYXRldmVyIHdlIGNhbi5cbiAgICAgIHdoaWxlIChmciA8IGZsKSB7XG4gICAgICAgIHZhciBzd2FsbG93ZWUgPSBmaWxlW2ZyXVxuXG4gICAgICAgIHRoaXMuZGVidWcoJ1xcbmdsb2JzdGFyIHdoaWxlJywgZmlsZSwgZnIsIHBhdHRlcm4sIHByLCBzd2FsbG93ZWUpXG5cbiAgICAgICAgLy8gWFhYIHJlbW92ZSB0aGlzIHNsaWNlLiAgSnVzdCBwYXNzIHRoZSBzdGFydCBpbmRleC5cbiAgICAgICAgaWYgKHRoaXMubWF0Y2hPbmUoZmlsZS5zbGljZShmciksIHBhdHRlcm4uc2xpY2UocHIpLCBwYXJ0aWFsKSkge1xuICAgICAgICAgIHRoaXMuZGVidWcoJ2dsb2JzdGFyIGZvdW5kIG1hdGNoIScsIGZyLCBmbCwgc3dhbGxvd2VlKVxuICAgICAgICAgIC8vIGZvdW5kIGEgbWF0Y2guXG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjYW4ndCBzd2FsbG93IFwiLlwiIG9yIFwiLi5cIiBldmVyLlxuICAgICAgICAgIC8vIGNhbiBvbmx5IHN3YWxsb3cgXCIuZm9vXCIgd2hlbiBleHBsaWNpdGx5IGFza2VkLlxuICAgICAgICAgIGlmIChzd2FsbG93ZWUgPT09ICcuJyB8fCBzd2FsbG93ZWUgPT09ICcuLicgfHxcbiAgICAgICAgICAgICghb3B0aW9ucy5kb3QgJiYgc3dhbGxvd2VlLmNoYXJBdCgwKSA9PT0gJy4nKSkge1xuICAgICAgICAgICAgdGhpcy5kZWJ1ZygnZG90IGRldGVjdGVkIScsIGZpbGUsIGZyLCBwYXR0ZXJuLCBwcilcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gKiogc3dhbGxvd3MgYSBzZWdtZW50LCBhbmQgY29udGludWUuXG4gICAgICAgICAgdGhpcy5kZWJ1ZygnZ2xvYnN0YXIgc3dhbGxvdyBhIHNlZ21lbnQsIGFuZCBjb250aW51ZScpXG4gICAgICAgICAgZnIrK1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIG5vIG1hdGNoIHdhcyBmb3VuZC5cbiAgICAgIC8vIEhvd2V2ZXIsIGluIHBhcnRpYWwgbW9kZSwgd2UgY2FuJ3Qgc2F5IHRoaXMgaXMgbmVjZXNzYXJpbHkgb3Zlci5cbiAgICAgIC8vIElmIHRoZXJlJ3MgbW9yZSAqcGF0dGVybiogbGVmdCwgdGhlblxuICAgICAgaWYgKHBhcnRpYWwpIHtcbiAgICAgICAgLy8gcmFuIG91dCBvZiBmaWxlXG4gICAgICAgIHRoaXMuZGVidWcoJ1xcbj4+PiBubyBtYXRjaCwgcGFydGlhbD8nLCBmaWxlLCBmciwgcGF0dGVybiwgcHIpXG4gICAgICAgIGlmIChmciA9PT0gZmwpIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICAvLyBzb21ldGhpbmcgb3RoZXIgdGhhbiAqKlxuICAgIC8vIG5vbi1tYWdpYyBwYXR0ZXJucyBqdXN0IGhhdmUgdG8gbWF0Y2ggZXhhY3RseVxuICAgIC8vIHBhdHRlcm5zIHdpdGggbWFnaWMgaGF2ZSBiZWVuIHR1cm5lZCBpbnRvIHJlZ2V4cHMuXG4gICAgdmFyIGhpdFxuICAgIGlmICh0eXBlb2YgcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGlmIChvcHRpb25zLm5vY2FzZSkge1xuICAgICAgICBoaXQgPSBmLnRvTG93ZXJDYXNlKCkgPT09IHAudG9Mb3dlckNhc2UoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGl0ID0gZiA9PT0gcFxuICAgICAgfVxuICAgICAgdGhpcy5kZWJ1Zygnc3RyaW5nIG1hdGNoJywgcCwgZiwgaGl0KVxuICAgIH0gZWxzZSB7XG4gICAgICBoaXQgPSBmLm1hdGNoKHApXG4gICAgICB0aGlzLmRlYnVnKCdwYXR0ZXJuIG1hdGNoJywgcCwgZiwgaGl0KVxuICAgIH1cblxuICAgIGlmICghaGl0KSByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIE5vdGU6IGVuZGluZyBpbiAvIG1lYW5zIHRoYXQgd2UnbGwgZ2V0IGEgZmluYWwgXCJcIlxuICAvLyBhdCB0aGUgZW5kIG9mIHRoZSBwYXR0ZXJuLiAgVGhpcyBjYW4gb25seSBtYXRjaCBhXG4gIC8vIGNvcnJlc3BvbmRpbmcgXCJcIiBhdCB0aGUgZW5kIG9mIHRoZSBmaWxlLlxuICAvLyBJZiB0aGUgZmlsZSBlbmRzIGluIC8sIHRoZW4gaXQgY2FuIG9ubHkgbWF0Y2ggYVxuICAvLyBhIHBhdHRlcm4gdGhhdCBlbmRzIGluIC8sIHVubGVzcyB0aGUgcGF0dGVybiBqdXN0XG4gIC8vIGRvZXNuJ3QgaGF2ZSBhbnkgbW9yZSBmb3IgaXQuIEJ1dCwgYS9iLyBzaG91bGQgKm5vdCpcbiAgLy8gbWF0Y2ggXCJhL2IvKlwiLCBldmVuIHRob3VnaCBcIlwiIG1hdGNoZXMgYWdhaW5zdCB0aGVcbiAgLy8gW14vXSo/IHBhdHRlcm4sIGV4Y2VwdCBpbiBwYXJ0aWFsIG1vZGUsIHdoZXJlIGl0IG1pZ2h0XG4gIC8vIHNpbXBseSBub3QgYmUgcmVhY2hlZCB5ZXQuXG4gIC8vIEhvd2V2ZXIsIGEvYi8gc2hvdWxkIHN0aWxsIHNhdGlzZnkgYS8qXG5cbiAgLy8gbm93IGVpdGhlciB3ZSBmZWxsIG9mZiB0aGUgZW5kIG9mIHRoZSBwYXR0ZXJuLCBvciB3ZSdyZSBkb25lLlxuICBpZiAoZmkgPT09IGZsICYmIHBpID09PSBwbCkge1xuICAgIC8vIHJhbiBvdXQgb2YgcGF0dGVybiBhbmQgZmlsZW5hbWUgYXQgdGhlIHNhbWUgdGltZS5cbiAgICAvLyBhbiBleGFjdCBoaXQhXG4gICAgcmV0dXJuIHRydWVcbiAgfSBlbHNlIGlmIChmaSA9PT0gZmwpIHtcbiAgICAvLyByYW4gb3V0IG9mIGZpbGUsIGJ1dCBzdGlsbCBoYWQgcGF0dGVybiBsZWZ0LlxuICAgIC8vIHRoaXMgaXMgb2sgaWYgd2UncmUgZG9pbmcgdGhlIG1hdGNoIGFzIHBhcnQgb2ZcbiAgICAvLyBhIGdsb2IgZnMgdHJhdmVyc2FsLlxuICAgIHJldHVybiBwYXJ0aWFsXG4gIH0gZWxzZSBpZiAocGkgPT09IHBsKSB7XG4gICAgLy8gcmFuIG91dCBvZiBwYXR0ZXJuLCBzdGlsbCBoYXZlIGZpbGUgbGVmdC5cbiAgICAvLyB0aGlzIGlzIG9ubHkgYWNjZXB0YWJsZSBpZiB3ZSdyZSBvbiB0aGUgdmVyeSBsYXN0XG4gICAgLy8gZW1wdHkgc2VnbWVudCBvZiBhIGZpbGUgd2l0aCBhIHRyYWlsaW5nIHNsYXNoLlxuICAgIC8vIGEvKiBzaG91bGQgbWF0Y2ggYS9iL1xuICAgIHZhciBlbXB0eUZpbGVFbmQgPSAoZmkgPT09IGZsIC0gMSkgJiYgKGZpbGVbZmldID09PSAnJylcbiAgICByZXR1cm4gZW1wdHlGaWxlRW5kXG4gIH1cblxuICAvLyBzaG91bGQgYmUgdW5yZWFjaGFibGUuXG4gIHRocm93IG5ldyBFcnJvcignd3RmPycpXG59XG5cbi8vIHJlcGxhY2Ugc3R1ZmYgbGlrZSBcXCogd2l0aCAqXG5mdW5jdGlvbiBnbG9iVW5lc2NhcGUgKHMpIHtcbiAgcmV0dXJuIHMucmVwbGFjZSgvXFxcXCguKS9nLCAnJDEnKVxufVxuXG5mdW5jdGlvbiByZWdFeHBFc2NhcGUgKHMpIHtcbiAgcmV0dXJuIHMucmVwbGFjZSgvWy1bXFxde30oKSorPy4sXFxcXF4kfCNcXHNdL2csICdcXFxcJCYnKVxufVxuIiwidmFyIGNvbmNhdE1hcCA9IHJlcXVpcmUoJ2NvbmNhdC1tYXAnKTtcbnZhciBiYWxhbmNlZCA9IHJlcXVpcmUoJ2JhbGFuY2VkLW1hdGNoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwYW5kVG9wO1xuXG52YXIgZXNjU2xhc2ggPSAnXFwwU0xBU0gnK01hdGgucmFuZG9tKCkrJ1xcMCc7XG52YXIgZXNjT3BlbiA9ICdcXDBPUEVOJytNYXRoLnJhbmRvbSgpKydcXDAnO1xudmFyIGVzY0Nsb3NlID0gJ1xcMENMT1NFJytNYXRoLnJhbmRvbSgpKydcXDAnO1xudmFyIGVzY0NvbW1hID0gJ1xcMENPTU1BJytNYXRoLnJhbmRvbSgpKydcXDAnO1xudmFyIGVzY1BlcmlvZCA9ICdcXDBQRVJJT0QnK01hdGgucmFuZG9tKCkrJ1xcMCc7XG5cbmZ1bmN0aW9uIG51bWVyaWMoc3RyKSB7XG4gIHJldHVybiBwYXJzZUludChzdHIsIDEwKSA9PSBzdHJcbiAgICA/IHBhcnNlSW50KHN0ciwgMTApXG4gICAgOiBzdHIuY2hhckNvZGVBdCgwKTtcbn1cblxuZnVuY3Rpb24gZXNjYXBlQnJhY2VzKHN0cikge1xuICByZXR1cm4gc3RyLnNwbGl0KCdcXFxcXFxcXCcpLmpvaW4oZXNjU2xhc2gpXG4gICAgICAgICAgICAuc3BsaXQoJ1xcXFx7Jykuam9pbihlc2NPcGVuKVxuICAgICAgICAgICAgLnNwbGl0KCdcXFxcfScpLmpvaW4oZXNjQ2xvc2UpXG4gICAgICAgICAgICAuc3BsaXQoJ1xcXFwsJykuam9pbihlc2NDb21tYSlcbiAgICAgICAgICAgIC5zcGxpdCgnXFxcXC4nKS5qb2luKGVzY1BlcmlvZCk7XG59XG5cbmZ1bmN0aW9uIHVuZXNjYXBlQnJhY2VzKHN0cikge1xuICByZXR1cm4gc3RyLnNwbGl0KGVzY1NsYXNoKS5qb2luKCdcXFxcJylcbiAgICAgICAgICAgIC5zcGxpdChlc2NPcGVuKS5qb2luKCd7JylcbiAgICAgICAgICAgIC5zcGxpdChlc2NDbG9zZSkuam9pbignfScpXG4gICAgICAgICAgICAuc3BsaXQoZXNjQ29tbWEpLmpvaW4oJywnKVxuICAgICAgICAgICAgLnNwbGl0KGVzY1BlcmlvZCkuam9pbignLicpO1xufVxuXG5cbi8vIEJhc2ljYWxseSBqdXN0IHN0ci5zcGxpdChcIixcIiksIGJ1dCBoYW5kbGluZyBjYXNlc1xuLy8gd2hlcmUgd2UgaGF2ZSBuZXN0ZWQgYnJhY2VkIHNlY3Rpb25zLCB3aGljaCBzaG91bGQgYmVcbi8vIHRyZWF0ZWQgYXMgaW5kaXZpZHVhbCBtZW1iZXJzLCBsaWtlIHthLHtiLGN9LGR9XG5mdW5jdGlvbiBwYXJzZUNvbW1hUGFydHMoc3RyKSB7XG4gIGlmICghc3RyKVxuICAgIHJldHVybiBbJyddO1xuXG4gIHZhciBwYXJ0cyA9IFtdO1xuICB2YXIgbSA9IGJhbGFuY2VkKCd7JywgJ30nLCBzdHIpO1xuXG4gIGlmICghbSlcbiAgICByZXR1cm4gc3RyLnNwbGl0KCcsJyk7XG5cbiAgdmFyIHByZSA9IG0ucHJlO1xuICB2YXIgYm9keSA9IG0uYm9keTtcbiAgdmFyIHBvc3QgPSBtLnBvc3Q7XG4gIHZhciBwID0gcHJlLnNwbGl0KCcsJyk7XG5cbiAgcFtwLmxlbmd0aC0xXSArPSAneycgKyBib2R5ICsgJ30nO1xuICB2YXIgcG9zdFBhcnRzID0gcGFyc2VDb21tYVBhcnRzKHBvc3QpO1xuICBpZiAocG9zdC5sZW5ndGgpIHtcbiAgICBwW3AubGVuZ3RoLTFdICs9IHBvc3RQYXJ0cy5zaGlmdCgpO1xuICAgIHAucHVzaC5hcHBseShwLCBwb3N0UGFydHMpO1xuICB9XG5cbiAgcGFydHMucHVzaC5hcHBseShwYXJ0cywgcCk7XG5cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG5mdW5jdGlvbiBleHBhbmRUb3Aoc3RyKSB7XG4gIGlmICghc3RyKVxuICAgIHJldHVybiBbXTtcblxuICAvLyBJIGRvbid0IGtub3cgd2h5IEJhc2ggNC4zIGRvZXMgdGhpcywgYnV0IGl0IGRvZXMuXG4gIC8vIEFueXRoaW5nIHN0YXJ0aW5nIHdpdGgge30gd2lsbCBoYXZlIHRoZSBmaXJzdCB0d28gYnl0ZXMgcHJlc2VydmVkXG4gIC8vIGJ1dCAqb25seSogYXQgdGhlIHRvcCBsZXZlbCwgc28ge30sYX1iIHdpbGwgbm90IGV4cGFuZCB0byBhbnl0aGluZyxcbiAgLy8gYnV0IGF7fSxifWMgd2lsbCBiZSBleHBhbmRlZCB0byBbYX1jLGFiY10uXG4gIC8vIE9uZSBjb3VsZCBhcmd1ZSB0aGF0IHRoaXMgaXMgYSBidWcgaW4gQmFzaCwgYnV0IHNpbmNlIHRoZSBnb2FsIG9mXG4gIC8vIHRoaXMgbW9kdWxlIGlzIHRvIG1hdGNoIEJhc2gncyBydWxlcywgd2UgZXNjYXBlIGEgbGVhZGluZyB7fVxuICBpZiAoc3RyLnN1YnN0cigwLCAyKSA9PT0gJ3t9Jykge1xuICAgIHN0ciA9ICdcXFxce1xcXFx9JyArIHN0ci5zdWJzdHIoMik7XG4gIH1cblxuICByZXR1cm4gZXhwYW5kKGVzY2FwZUJyYWNlcyhzdHIpLCB0cnVlKS5tYXAodW5lc2NhcGVCcmFjZXMpO1xufVxuXG5mdW5jdGlvbiBpZGVudGl0eShlKSB7XG4gIHJldHVybiBlO1xufVxuXG5mdW5jdGlvbiBlbWJyYWNlKHN0cikge1xuICByZXR1cm4gJ3snICsgc3RyICsgJ30nO1xufVxuZnVuY3Rpb24gaXNQYWRkZWQoZWwpIHtcbiAgcmV0dXJuIC9eLT8wXFxkLy50ZXN0KGVsKTtcbn1cblxuZnVuY3Rpb24gbHRlKGksIHkpIHtcbiAgcmV0dXJuIGkgPD0geTtcbn1cbmZ1bmN0aW9uIGd0ZShpLCB5KSB7XG4gIHJldHVybiBpID49IHk7XG59XG5cbmZ1bmN0aW9uIGV4cGFuZChzdHIsIGlzVG9wKSB7XG4gIHZhciBleHBhbnNpb25zID0gW107XG5cbiAgdmFyIG0gPSBiYWxhbmNlZCgneycsICd9Jywgc3RyKTtcbiAgaWYgKCFtIHx8IC9cXCQkLy50ZXN0KG0ucHJlKSkgcmV0dXJuIFtzdHJdO1xuXG4gIHZhciBpc051bWVyaWNTZXF1ZW5jZSA9IC9eLT9cXGQrXFwuXFwuLT9cXGQrKD86XFwuXFwuLT9cXGQrKT8kLy50ZXN0KG0uYm9keSk7XG4gIHZhciBpc0FscGhhU2VxdWVuY2UgPSAvXlthLXpBLVpdXFwuXFwuW2EtekEtWl0oPzpcXC5cXC4tP1xcZCspPyQvLnRlc3QobS5ib2R5KTtcbiAgdmFyIGlzU2VxdWVuY2UgPSBpc051bWVyaWNTZXF1ZW5jZSB8fCBpc0FscGhhU2VxdWVuY2U7XG4gIHZhciBpc09wdGlvbnMgPSBtLmJvZHkuaW5kZXhPZignLCcpID49IDA7XG4gIGlmICghaXNTZXF1ZW5jZSAmJiAhaXNPcHRpb25zKSB7XG4gICAgLy8ge2F9LGJ9XG4gICAgaWYgKG0ucG9zdC5tYXRjaCgvLC4qXFx9LykpIHtcbiAgICAgIHN0ciA9IG0ucHJlICsgJ3snICsgbS5ib2R5ICsgZXNjQ2xvc2UgKyBtLnBvc3Q7XG4gICAgICByZXR1cm4gZXhwYW5kKHN0cik7XG4gICAgfVxuICAgIHJldHVybiBbc3RyXTtcbiAgfVxuXG4gIHZhciBuO1xuICBpZiAoaXNTZXF1ZW5jZSkge1xuICAgIG4gPSBtLmJvZHkuc3BsaXQoL1xcLlxcLi8pO1xuICB9IGVsc2Uge1xuICAgIG4gPSBwYXJzZUNvbW1hUGFydHMobS5ib2R5KTtcbiAgICBpZiAobi5sZW5ndGggPT09IDEpIHtcbiAgICAgIC8vIHh7e2EsYn19eSA9PT4geHthfXkgeHtifXlcbiAgICAgIG4gPSBleHBhbmQoblswXSwgZmFsc2UpLm1hcChlbWJyYWNlKTtcbiAgICAgIGlmIChuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB2YXIgcG9zdCA9IG0ucG9zdC5sZW5ndGhcbiAgICAgICAgICA/IGV4cGFuZChtLnBvc3QsIGZhbHNlKVxuICAgICAgICAgIDogWycnXTtcbiAgICAgICAgcmV0dXJuIHBvc3QubWFwKGZ1bmN0aW9uKHApIHtcbiAgICAgICAgICByZXR1cm4gbS5wcmUgKyBuWzBdICsgcDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gYXQgdGhpcyBwb2ludCwgbiBpcyB0aGUgcGFydHMsIGFuZCB3ZSBrbm93IGl0J3Mgbm90IGEgY29tbWEgc2V0XG4gIC8vIHdpdGggYSBzaW5nbGUgZW50cnkuXG5cbiAgLy8gbm8gbmVlZCB0byBleHBhbmQgcHJlLCBzaW5jZSBpdCBpcyBndWFyYW50ZWVkIHRvIGJlIGZyZWUgb2YgYnJhY2Utc2V0c1xuICB2YXIgcHJlID0gbS5wcmU7XG4gIHZhciBwb3N0ID0gbS5wb3N0Lmxlbmd0aFxuICAgID8gZXhwYW5kKG0ucG9zdCwgZmFsc2UpXG4gICAgOiBbJyddO1xuXG4gIHZhciBOO1xuXG4gIGlmIChpc1NlcXVlbmNlKSB7XG4gICAgdmFyIHggPSBudW1lcmljKG5bMF0pO1xuICAgIHZhciB5ID0gbnVtZXJpYyhuWzFdKTtcbiAgICB2YXIgd2lkdGggPSBNYXRoLm1heChuWzBdLmxlbmd0aCwgblsxXS5sZW5ndGgpXG4gICAgdmFyIGluY3IgPSBuLmxlbmd0aCA9PSAzXG4gICAgICA/IE1hdGguYWJzKG51bWVyaWMoblsyXSkpXG4gICAgICA6IDE7XG4gICAgdmFyIHRlc3QgPSBsdGU7XG4gICAgdmFyIHJldmVyc2UgPSB5IDwgeDtcbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgaW5jciAqPSAtMTtcbiAgICAgIHRlc3QgPSBndGU7XG4gICAgfVxuICAgIHZhciBwYWQgPSBuLnNvbWUoaXNQYWRkZWQpO1xuXG4gICAgTiA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IHg7IHRlc3QoaSwgeSk7IGkgKz0gaW5jcikge1xuICAgICAgdmFyIGM7XG4gICAgICBpZiAoaXNBbHBoYVNlcXVlbmNlKSB7XG4gICAgICAgIGMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpO1xuICAgICAgICBpZiAoYyA9PT0gJ1xcXFwnKVxuICAgICAgICAgIGMgPSAnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGMgPSBTdHJpbmcoaSk7XG4gICAgICAgIGlmIChwYWQpIHtcbiAgICAgICAgICB2YXIgbmVlZCA9IHdpZHRoIC0gYy5sZW5ndGg7XG4gICAgICAgICAgaWYgKG5lZWQgPiAwKSB7XG4gICAgICAgICAgICB2YXIgeiA9IG5ldyBBcnJheShuZWVkICsgMSkuam9pbignMCcpO1xuICAgICAgICAgICAgaWYgKGkgPCAwKVxuICAgICAgICAgICAgICBjID0gJy0nICsgeiArIGMuc2xpY2UoMSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIGMgPSB6ICsgYztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIE4ucHVzaChjKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgTiA9IGNvbmNhdE1hcChuLCBmdW5jdGlvbihlbCkgeyByZXR1cm4gZXhwYW5kKGVsLCBmYWxzZSkgfSk7XG4gIH1cblxuICBmb3IgKHZhciBqID0gMDsgaiA8IE4ubGVuZ3RoOyBqKyspIHtcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IHBvc3QubGVuZ3RoOyBrKyspIHtcbiAgICAgIHZhciBleHBhbnNpb24gPSBwcmUgKyBOW2pdICsgcG9zdFtrXTtcbiAgICAgIGlmICghaXNUb3AgfHwgaXNTZXF1ZW5jZSB8fCBleHBhbnNpb24pXG4gICAgICAgIGV4cGFuc2lvbnMucHVzaChleHBhbnNpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBleHBhbnNpb25zO1xufVxuXG4iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh4cywgZm4pIHtcbiAgICB2YXIgcmVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgeCA9IGZuKHhzW2ldLCBpKTtcbiAgICAgICAgaWYgKGlzQXJyYXkoeCkpIHJlcy5wdXNoLmFwcGx5KHJlcywgeCk7XG4gICAgICAgIGVsc2UgcmVzLnB1c2goeCk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBiYWxhbmNlZDtcbmZ1bmN0aW9uIGJhbGFuY2VkKGEsIGIsIHN0cikge1xuICBpZiAoYSBpbnN0YW5jZW9mIFJlZ0V4cCkgYSA9IG1heWJlTWF0Y2goYSwgc3RyKTtcbiAgaWYgKGIgaW5zdGFuY2VvZiBSZWdFeHApIGIgPSBtYXliZU1hdGNoKGIsIHN0cik7XG5cbiAgdmFyIHIgPSByYW5nZShhLCBiLCBzdHIpO1xuXG4gIHJldHVybiByICYmIHtcbiAgICBzdGFydDogclswXSxcbiAgICBlbmQ6IHJbMV0sXG4gICAgcHJlOiBzdHIuc2xpY2UoMCwgclswXSksXG4gICAgYm9keTogc3RyLnNsaWNlKHJbMF0gKyBhLmxlbmd0aCwgclsxXSksXG4gICAgcG9zdDogc3RyLnNsaWNlKHJbMV0gKyBiLmxlbmd0aClcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWF5YmVNYXRjaChyZWcsIHN0cikge1xuICB2YXIgbSA9IHN0ci5tYXRjaChyZWcpO1xuICByZXR1cm4gbSA/IG1bMF0gOiBudWxsO1xufVxuXG5iYWxhbmNlZC5yYW5nZSA9IHJhbmdlO1xuZnVuY3Rpb24gcmFuZ2UoYSwgYiwgc3RyKSB7XG4gIHZhciBiZWdzLCBiZWcsIGxlZnQsIHJpZ2h0LCByZXN1bHQ7XG4gIHZhciBhaSA9IHN0ci5pbmRleE9mKGEpO1xuICB2YXIgYmkgPSBzdHIuaW5kZXhPZihiLCBhaSArIDEpO1xuICB2YXIgaSA9IGFpO1xuXG4gIGlmIChhaSA+PSAwICYmIGJpID4gMCkge1xuICAgIGJlZ3MgPSBbXTtcbiAgICBsZWZ0ID0gc3RyLmxlbmd0aDtcblxuICAgIHdoaWxlIChpID49IDAgJiYgIXJlc3VsdCkge1xuICAgICAgaWYgKGkgPT0gYWkpIHtcbiAgICAgICAgYmVncy5wdXNoKGkpO1xuICAgICAgICBhaSA9IHN0ci5pbmRleE9mKGEsIGkgKyAxKTtcbiAgICAgIH0gZWxzZSBpZiAoYmVncy5sZW5ndGggPT0gMSkge1xuICAgICAgICByZXN1bHQgPSBbIGJlZ3MucG9wKCksIGJpIF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiZWcgPSBiZWdzLnBvcCgpO1xuICAgICAgICBpZiAoYmVnIDwgbGVmdCkge1xuICAgICAgICAgIGxlZnQgPSBiZWc7XG4gICAgICAgICAgcmlnaHQgPSBiaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJpID0gc3RyLmluZGV4T2YoYiwgaSArIDEpO1xuICAgICAgfVxuXG4gICAgICBpID0gYWkgPCBiaSAmJiBhaSA+PSAwID8gYWkgOiBiaTtcbiAgICB9XG5cbiAgICBpZiAoYmVncy5sZW5ndGgpIHtcbiAgICAgIHJlc3VsdCA9IFsgbGVmdCwgcmlnaHQgXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdmFybmFtZSA9IG1vZHVsZS5leHBvcnRzID0ge1xuICAgIGNhbWVsYmFjazogY2FtZWxiYWNrLFxuICAgIGNhbWVsY2FzZTogY2FtZWxjYXNlLFxuICAgIGRhc2g6IGRhc2gsXG4gICAgdW5kZXJzY29yZTogdW5kZXJzY29yZSxcbiAgICBzcGxpdDogc3BsaXRcbn07XG5cbi8vIENvbnZlcnQgYSB2YXJpYWJsZSBuYW1lIHN0cmluZyB0byBjYW1lbGJhY2sgc3R5bGVcbmZ1bmN0aW9uIGNhbWVsYmFjayAobmFtZSkge1xuICAgIHZhciBwYXJ0cyA9IHZhcm5hbWUuc3BsaXQobmFtZSk7XG4gICAgcmV0dXJuIHBhcnRzLnNoaWZ0KCkgKyB0aXRsZUNhc2VXb3JkcyhwYXJ0cykuam9pbignJyk7XG59XG5cbi8vIENvbnZlcnQgYSB2YXJpYWJsZSBuYW1lIHN0cmluZyB0byBjYW1lbGNhc2Ugc3R5bGVcbmZ1bmN0aW9uIGNhbWVsY2FzZSAobmFtZSkge1xuICAgIHZhciBwYXJ0cyA9IHZhcm5hbWUuc3BsaXQobmFtZSk7XG4gICAgcmV0dXJuIHRpdGxlQ2FzZVdvcmRzKHBhcnRzKS5qb2luKCcnKTtcbn1cblxuLy8gQ29udmVydCBhIHZhcmlhYmxlIG5hbWUgc3RyaW5nIHRvIGRhc2gtc2VwYXJhdGVkIHN0eWxlXG5mdW5jdGlvbiBkYXNoIChuYW1lKSB7XG4gICAgcmV0dXJuIHZhcm5hbWUuc3BsaXQobmFtZSkuam9pbignLScpO1xufVxuXG4vLyBDb252ZXJ0IGEgdmFyaWFibGUgbmFtZSBzdHJpbmcgdG8gdW5kZXJzY29yZS1zZXBhcmF0ZWQgc3R5bGVcbmZ1bmN0aW9uIHVuZGVyc2NvcmUgKG5hbWUpIHtcbiAgICByZXR1cm4gdmFybmFtZS5zcGxpdChuYW1lKS5qb2luKCdfJyk7XG59XG5cbi8vIFNwbGl0IGEgdmFyaWFibGUgbmFtZSBzdHJpbmcgaW50byBwYXJ0c1xuZnVuY3Rpb24gc3BsaXQgKG5hbWUpIHtcbiAgICBuYW1lID0gbmFtZVxuICAgICAgICAucmVwbGFjZSgvW15hLXowLTldKy9naSwgJyAnKVxuICAgICAgICAucmVwbGFjZSgvKFtBLVowLTldKykoW0EtWl1bYS16XSkvZywgJyQxICQyJylcbiAgICAgICAgLnJlcGxhY2UoLyhbYS16MC05XSkoW0EtWl0pL2csICckMSAkMicpXG4gICAgICAgIC50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiB0cmltKG5hbWUpLnNwbGl0KC9cXHMrLyk7XG59XG5cbi8vIFRyaW0gd2hpdGVzcGFjZSBmcm9tIGEgc3RyaW5nXG5mdW5jdGlvbiB0cmltIChzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbn1cblxuLy8gQ29udmVydCBhbGwgc3RyaW5ncyBpbiBhbiBhcnJheSB0byB0aXRsZS1jYXNlXG5mdW5jdGlvbiB0aXRsZUNhc2VXb3JkcyAocGFydHMpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpICsrKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChwYXJ0c1tpXS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHBhcnRzW2ldLnN1YnN0cigxKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xufVxuIiwiZXhwb3J0IGVudW0gSUVudHJ5VHlwZSB7XG4gIEZJTEUgPSAxLFxuICBESVJFQ1RPUlkgPSAyXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUVudHJ5IHtcbiAgdHlwZTogSUVudHJ5VHlwZTtcbiAgZmlsZW5hbWU6IHN0cmluZztcbiAgYmFzZWRpcjogc3RyaW5nO1xuICBleHBvcnRlZE5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQXNzZXRzT3B0aW9ucyB7XG4gIG1vZHVsZTogXCJlczZcIiB8IFwiY29tbW9uanNcIjtcbiAgZmlsZXR5cGU6IFwidHNcIiB8IFwianNcIjtcbiAgbWF0Y2g6IHN0cmluZztcbiAgYXNzZXRzUGF0aExpc3Q6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgY29uc3QgZGVmYXVsdEFzc2V0c09wdGlvbnM6IElBc3NldHNPcHRpb25zID0ge1xuICBtb2R1bGU6IFwiZXM2XCIsXG4gIGZpbGV0eXBlOiBcInRzXCIsXG4gIG1hdGNoOiBcIiouKyhwbmd8anBnfHBuZ3xzdmd8cGRmfGdpZnxtb3Z8aWNvfHhtbClcIixcbiAgYXNzZXRzUGF0aExpc3Q6IFtcIi4vYXNzZXRzXCJdXG59O1xuIiwiaW1wb3J0IHtcbiAgSUVudHJ5LFxuICBJRW50cnlUeXBlLFxuICBkZWZhdWx0QXNzZXRzT3B0aW9ucyxcbiAgSUFzc2V0c09wdGlvbnNcbn0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCAqIGFzIGZzIGZyb20gXCJmc1wiO1xuaW1wb3J0ICogYXMgcGF0aCBmcm9tIFwicGF0aFwiO1xuaW1wb3J0ICogYXMgbWluaW1hdGNoIGZyb20gXCJtaW5pbWF0Y2hcIjtcbi8vIE5vIHR5cGUgZGVmaW5lZCBmaWxlXG5jb25zdCB2YXJuYW1lID0gcmVxdWlyZShcInZhcm5hbWVcIik7XG5cbmV4cG9ydCBjbGFzcyBQYXJzZXIge1xuICBwdWJsaWMgc3RhdGljIHBhcnNlRGlyZWN0b3J5KFxuICAgIGRpcnBhdGg6IHN0cmluZyxcbiAgICBvcHRpb25zOiBJQXNzZXRzT3B0aW9ucyA9IGRlZmF1bHRBc3NldHNPcHRpb25zXG4gICk6IElFbnRyeVtdIHwgdW5kZWZpbmVkIHtcbiAgICBsZXQgZGlyU3RhdHM7XG4gICAgdHJ5IHtcbiAgICAgIGRpclN0YXRzID0gZnMubHN0YXRTeW5jKGRpcnBhdGgpO1xuXG4gICAgICBpZiAoIWRpclN0YXRzLmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGNvbnN0IGZpbGVuYW1lcyA9IGZzLnJlYWRkaXJTeW5jKGRpcnBhdGgpO1xuXG4gICAgcmV0dXJuIGZpbGVuYW1lc1xuICAgICAgLm1hcChmaWxlbmFtZSA9PiB7XG4gICAgICAgIGNvbnN0IHN0YXRzID0gZnMubHN0YXRTeW5jKHBhdGgucmVzb2x2ZShkaXJwYXRoLCBmaWxlbmFtZSkpO1xuICAgICAgICByZXR1cm4geyBmaWxlbmFtZSwgc3RhdHMgfTtcbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKCh7IGZpbGVuYW1lLCBzdGF0cyB9KSA9PiB7XG4gICAgICAgIC8vIE9ubHkgcHJvY2VzcyByZWd1bGFyIGZpbGUgb3IgZGlyZWN0b3J5XG4gICAgICAgIGlmIChzdGF0cy5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdHMuaXNGaWxlKCkpIHtcbiAgICAgICAgICAvLyBpZiB0eXBlIGlzIGZpbGUsIGNoZWNrIG1hdGNoIG9wdGlvbiB0byBkZXRlcm1pbmUgaWYgbmVlZFxuICAgICAgICAgIHJldHVybiBtaW5pbWF0Y2goZmlsZW5hbWUsIG9wdGlvbnMubWF0Y2gsIHsgbWF0Y2hCYXNlOiB0cnVlIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSlcbiAgICAgIC5tYXAoKHsgZmlsZW5hbWUsIHN0YXRzIH0pID0+IHtcbiAgICAgICAgY29uc3QgcmF3RXhwb3J0ZWROYW1lID0gdmFybmFtZS5jYW1lbGJhY2soZmlsZW5hbWUpIGFzIHN0cmluZztcbiAgICAgICAgLy8gSWYgaXQgaXMgYSBudW1iZXIgLCBhZGQgcHJlZml4XG4gICAgICAgIGNvbnN0IGV4cG9ydGVkTmFtZSA9IC9cXGQvLnRlc3QocmF3RXhwb3J0ZWROYW1lLnN1YnN0cigwLCAxKSlcbiAgICAgICAgICA/IFwibnVtXCIgKyByYXdFeHBvcnRlZE5hbWVcbiAgICAgICAgICA6IHJhd0V4cG9ydGVkTmFtZTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IHN0YXRzLmlzRGlyZWN0b3J5KCkgPyBJRW50cnlUeXBlLkRJUkVDVE9SWSA6IElFbnRyeVR5cGUuRklMRSxcbiAgICAgICAgICBmaWxlbmFtZSxcbiAgICAgICAgICBiYXNlZGlyOiBkaXJwYXRoLFxuICAgICAgICAgIGV4cG9ydGVkTmFtZTogZXhwb3J0ZWROYW1lXG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgSUFzc2V0c09wdGlvbnMsIGRlZmF1bHRBc3NldHNPcHRpb25zLCBJRW50cnlUeXBlIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IEdlbmVyYXRvciB9IGZyb20gXCIuL2dlbmVyYXRvclwiO1xuaW1wb3J0IHsgUGFyc2VyIH0gZnJvbSBcIi4vcGFyc2VyXCI7XG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgKiBhcyBmcyBmcm9tIFwiZnNcIjtcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlSW5kZXhGaWxlRm9yRGlyZWN0b3J5ID0gKFxuICBkaXJwYXRoOiBzdHJpbmcsXG4gIHJlY3Vyc2l2ZTogYm9vbGVhbixcbiAgb3B0aW9uczogSUFzc2V0c09wdGlvbnMgPSBkZWZhdWx0QXNzZXRzT3B0aW9ucyxcbiAgdmVyYm9zZTogYm9vbGVhbiA9IGZhbHNlXG4pID0+IHtcbiAgY29uc3QgZW50cnlMaXN0ID0gUGFyc2VyLnBhcnNlRGlyZWN0b3J5KGRpcnBhdGgsIG9wdGlvbnMpO1xuXG4gIGlmIChlbnRyeUxpc3QpIHtcbiAgICBsZXQgaW5kZXhGaWxlbmFtZSA9IFwiaW5kZXhcIjtcbiAgICBjb25zdCBpbmRleEZpbGVDb250ZW50ID0gR2VuZXJhdG9yLmdlbmVyYXRlQ29udGVudEJ5RW50ZXJ5TGlzdChcbiAgICAgIGVudHJ5TGlzdCxcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuXG4gICAgaWYgKG9wdGlvbnMuZmlsZXR5cGUgPT09IFwidHNcIikge1xuICAgICAgaW5kZXhGaWxlbmFtZSArPSBcIi50c1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbmRleEZpbGVuYW1lICs9IFwiLmpzXCI7XG4gICAgfVxuXG4gICAgY29uc3QgaW5kZXhGaWxlRnVsbFBhdGggPSBwYXRoLnJlc29sdmUoZGlycGF0aCwgaW5kZXhGaWxlbmFtZSk7XG4gICAgZnMud3JpdGVGaWxlU3luYyhpbmRleEZpbGVGdWxsUGF0aCwgaW5kZXhGaWxlQ29udGVudCk7XG4gICAgaWYgKHZlcmJvc2UpIHtcbiAgICAgIGNvbnNvbGUubG9nKGBHZW5lcmF0ZWQgJHtpbmRleEZpbGVuYW1lfSBvbiBkaXJlY3Rvcnk6ICR7ZGlycGF0aH1gKTtcbiAgICB9XG5cbiAgICAvLyBpZiByZWN1cnNpdmUgc2V0LCByZWN1cnNpdmVseSBwcm9jZXNzIGFsbCBzdWItZGlyZWN0b3J5XG4gICAgaWYgKHJlY3Vyc2l2ZSkge1xuICAgICAgZW50cnlMaXN0XG4gICAgICAgIC5maWx0ZXIoZW50cnkgPT4gZW50cnkudHlwZSA9PT0gSUVudHJ5VHlwZS5ESVJFQ1RPUlkpXG4gICAgICAgIC5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgICBnZW5lcmF0ZUluZGV4RmlsZUZvckRpcmVjdG9yeShcbiAgICAgICAgICAgIHBhdGgucmVzb2x2ZShkaXJwYXRoLCBlbnRyeS5maWxlbmFtZSksXG4gICAgICAgICAgICByZWN1cnNpdmUsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgdmVyYm9zZVxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCB7XG4gIElFbnRyeSxcbiAgSUVudHJ5VHlwZSxcbiAgSUFzc2V0c09wdGlvbnMsXG4gIGRlZmF1bHRBc3NldHNPcHRpb25zXG59IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBHZW5lcmF0b3Ige1xuICAvKipcbiAgICogQHBhcmFtIGVudHJ5TGlzdCBlbnRyeSBsaXN0IHRvIHByb2Nlc3MgaW4gdGhpcyBwYXRoXG4gICAqL1xuICBwdWJsaWMgc3RhdGljIGdlbmVyYXRlQ29udGVudEJ5RW50ZXJ5TGlzdChcbiAgICBlbnRyeUxpc3Q6IElFbnRyeVtdLFxuICAgIG9wdGlvbnM6IElBc3NldHNPcHRpb25zID0gZGVmYXVsdEFzc2V0c09wdGlvbnNcbiAgKSB7XG4gICAgY29uc3Qgc3ltYm9sc1RvRXhwb3J0OiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IGltcG9ydExpbmVzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgLy8gc29ydCBmaXJzdFxuICAgIGVudHJ5TGlzdFxuICAgICAgLnNvcnQoKGVudHJ5LCBlbnRyeU5leHQpID0+IGVudHJ5LnR5cGUgLSBlbnRyeU5leHQudHlwZSlcbiAgICAgIC5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgc3ltYm9sc1RvRXhwb3J0LnB1c2goZW50cnkuZXhwb3J0ZWROYW1lKTtcbiAgICAgICAgaWYgKG9wdGlvbnMubW9kdWxlID09IFwiZXM2XCIpIHtcbiAgICAgICAgICBpbXBvcnRMaW5lcy5wdXNoKFxuICAgICAgICAgICAgYGltcG9ydCAke2VudHJ5LmV4cG9ydGVkTmFtZX0gZnJvbSAnLi8ke2VudHJ5LmZpbGVuYW1lfSc7YFxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5tb2R1bGUgPT0gXCJjb21tb25qc1wiKSB7XG4gICAgICAgICAgaW1wb3J0TGluZXMucHVzaChcbiAgICAgICAgICAgIGBjb25zdCAke2VudHJ5LmV4cG9ydGVkTmFtZX0gPSByZXF1aXJlKCcuLyR7ZW50cnkuZmlsZW5hbWV9Jyk7YFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgY29uc3QgaW1wb3J0QmxvY2sgPSBpbXBvcnRMaW5lcy5qb2luKFwiXFxuXCIpO1xuICAgIGxldCBleHBvcnRCbG9jaztcblxuICAgIGlmIChvcHRpb25zLm1vZHVsZSA9PT0gXCJlczZcIikge1xuICAgICAgZXhwb3J0QmxvY2sgPSBgZXhwb3J0IGRlZmF1bHQge1xuICAgICR7c3ltYm9sc1RvRXhwb3J0LmpvaW4oXCIsXFxuICAgIFwiKX1cbn07YDtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMubW9kdWxlID09PSBcImNvbW1vbmpzXCIpIHtcbiAgICAgIGV4cG9ydEJsb2NrID0gYG1vZHVsZS5leHBvcnRzID0ge1xuICAgICR7c3ltYm9sc1RvRXhwb3J0LmpvaW4oXCIsXFxuICAgIFwiKX1cbn07YDtcbiAgICB9XG5cbiAgICByZXR1cm4gW2ltcG9ydEJsb2NrLCBcIlxcblwiLCBleHBvcnRCbG9ja10uam9pbihcIlxcblwiKTtcbiAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==